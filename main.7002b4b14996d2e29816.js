(self.webpackChunktravel_gram=self.webpackChunktravel_gram||[]).push([[179],{8255:Ke=>{function Ce(F){return Promise.resolve().then(()=>{var d=new Error("Cannot find module '"+F+"'");throw d.code="MODULE_NOT_FOUND",d})}Ce.keys=()=>[],Ce.resolve=Ce,Ce.id=8255,Ke.exports=Ce},7716:(Ke,Ce,F)=>{"use strict";F.d(Ce,{deG:()=>Md,tb:()=>t8,AFp:()=>ay,ip1:()=>oy,CZH:()=>cl,hGG:()=>Ty,z2F:()=>Vp,sBO:()=>T_,Sil:()=>Vf,_Vd:()=>_c,EJc:()=>r8,SBq:()=>Wi,qLn:()=>sa,vpe:()=>ha,gxx:()=>Bh,tBr:()=>Xo,XFs:()=>st,OlP:()=>Cn,zs3:()=>Mn,ZZ4:()=>r1,aQg:()=>i1,soG:()=>D1,YKP:()=>H3,v3s:()=>Yu,h0i:()=>qi,PXZ:()=>nw,R0b:()=>Ki,FiY:()=>ea,Lbi:()=>e8,g9A:()=>ly,Qsj:()=>uE,FYo:()=>t1,JOm:()=>y,Tiy:()=>xs,q3G:()=>Bn,tp0:()=>sr,EAV:()=>E8,Rgc:()=>Sp,dDg:()=>d8,DyG:()=>is,q4F:()=>v_,GfV:()=>Ef,s_b:()=>sl,ifc:()=>tt,eFA:()=>_8,G48:()=>ZT,Gpc:()=>N,X6Q:()=>gy,_c5:()=>D8,VLi:()=>K5,c2e:()=>n8,zSh:()=>cm,wAp:()=>It,vHH:()=>ee,EiD:()=>fu,mCW:()=>na,qzn:()=>Zl,JVY:()=>Sg,pB0:()=>au,eBb:()=>mh,L6k:()=>gh,LAX:()=>fo,cg1:()=>Vm,Tjo:()=>wy,kL8:()=>Um,yhl:()=>Ld,dqk:()=>Mt,sIi:()=>Wh,CqO:()=>Im,QGY:()=>P2,F4k:()=>V4,RDi:()=>Ys,AaK:()=>$,z3N:()=>uo,qOj:()=>p2,TTD:()=>ai,_Bn:()=>M3,xp6:()=>Tv,uIk:()=>y2,Tol:()=>Mm,ekj:()=>V2,Suo:()=>P6,Xpm:()=>_r,lG2:()=>Mc,Yz7:()=>D,cJS:()=>j,oAB:()=>Gs,Yjl:()=>ri,Y36:()=>cf,_UZ:()=>L4,BQk:()=>tl,ynx:()=>wm,qZA:()=>$i,TgZ:()=>Qh,EpF:()=>uf,n5z:()=>kl,Ikx:()=>En,LFG:()=>wn,$8M:()=>Dd,NdJ:()=>N2,CRH:()=>N6,oxw:()=>Jh,ALo:()=>w6,lcZ:()=>I6,xi3:()=>T6,Hsn:()=>bo,F$t:()=>x2,Q6J:()=>Wt,DdM:()=>_6,iGM:()=>J_,MAs:()=>w2,CHM:()=>Tl,oJD:()=>vh,LSH:()=>bh,kYT:()=>ml,Udp:()=>np,d8E:()=>cs,YNc:()=>v4,W1O:()=>x6,_uU:()=>Om,Oqu:()=>H2,hij:()=>Lu});var d=F(9765),K=F(5319),B=F(8891),Z=F(6682),te=F(8819);function J(r){for(let i in r)if(r[i]===J)return i;throw Error("Could not find renamed property on target object.")}function H(r,i){for(const o in i)i.hasOwnProperty(o)&&!r.hasOwnProperty(o)&&(r[o]=i[o])}function $(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map($).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const i=r.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function U(r,i){return null==r||""===r?null===i?"":i:null==i||""===i?r:r+" "+i}const P=J({__forward_ref__:J});function N(r){return r.__forward_ref__=N,r.toString=function(){return $(this())},r}function W(r){return oe(r)?r():r}function oe(r){return"function"==typeof r&&r.hasOwnProperty(P)&&r.__forward_ref__===N}class ee extends Error{constructor(i,o){super(function(r,i){return`${r?`NG0${r}: `:""}${i}`}(i,o)),this.code=i}}function ue(r){return"string"==typeof r?r:null==r?"":String(r)}function _e(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():ue(r)}function Je(r,i){const o=i?` in ${i}`:"";throw new ee("201",`No provider for ${_e(r)} found${o}`)}function Fe(r,i){null==r&&function(r,i,o,l){throw new Error(`ASSERTION ERROR: ${r}`+(null==l?"":` [Expected=> ${o} ${l} ${i} <=Actual]`))}(i,r,null,"!=")}function D(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function j(r){return{providers:r.providers||[],imports:r.imports||[]}}function pe(r){return le(r,Nt)||le(r,Et)}function le(r,i){return r.hasOwnProperty(i)?r[i]:null}function mt(r){return r&&(r.hasOwnProperty(ke)||r.hasOwnProperty(hn))?r[ke]:null}const Nt=J({\u0275prov:J}),ke=J({\u0275inj:J}),Et=J({ngInjectableDef:J}),hn=J({ngInjectorDef:J});var st=(()=>((st=st||{})[st.Default=0]="Default",st[st.Host=1]="Host",st[st.Self=2]="Self",st[st.SkipSelf=4]="SkipSelf",st[st.Optional=8]="Optional",st))();let zt;function Yn(r){const i=zt;return zt=r,i}function Ct(r,i,o){const l=pe(r);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:o&st.Optional?null:void 0!==i?i:void Je($(r),"Injector")}function Ht(r){return{toString:r}.toString()}var $t=(()=>(($t=$t||{})[$t.OnPush=0]="OnPush",$t[$t.Default=1]="Default",$t))(),tt=(()=>((tt=tt||{})[tt.Emulated=0]="Emulated",tt[tt.None=2]="None",tt[tt.ShadowDom=3]="ShadowDom",tt))();const vt="undefined"!=typeof globalThis&&globalThis,Dc="undefined"!=typeof window&&window,hs="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Mt=vt||"undefined"!=typeof global&&global||Dc||hs,fe={},ie=[],ge=J({\u0275cmp:J}),ze=J({\u0275dir:J}),Ae=J({\u0275pipe:J}),ct=J({\u0275mod:J}),Pt=J({\u0275loc:J}),Jt=J({\u0275fac:J}),Pn=J({__NG_ELEMENT_ID__:J});let Nn=0;function _r(r){return Ht(()=>{const o={},l={type:r.type,providersResolver:null,decls:r.decls,vars:r.vars,factory:null,template:r.template||null,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:o,inputs:null,outputs:null,exportAs:r.exportAs||null,onPush:r.changeDetection===$t.OnPush,directiveDefs:null,pipeDefs:null,selectors:r.selectors||ie,viewQuery:r.viewQuery||null,features:r.features||null,data:r.data||{},encapsulation:r.encapsulation||tt.Emulated,id:"c",styles:r.styles||ie,_:null,setInput:null,schemas:r.schemas||null,tView:null},c=r.directives,f=r.features,m=r.pipes;return l.id+=Nn++,l.inputs=Ws(r.inputs,o),l.outputs=Ws(r.outputs),f&&f.forEach(v=>v(l)),l.directiveDefs=c?()=>("function"==typeof c?c():c).map(cr):null,l.pipeDefs=m?()=>("function"==typeof m?m():m).map($s):null,l})}function cr(r){return Kn(r)||function(r){return r[ze]||null}(r)}function $s(r){return function(r){return r[Ae]||null}(r)}const gl={};function Gs(r){return Ht(()=>{const i={type:r.type,bootstrap:r.bootstrap||ie,declarations:r.declarations||ie,imports:r.imports||ie,exports:r.exports||ie,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null};return null!=r.id&&(gl[r.id]=r.type),i})}function ml(r,i){return Ht(()=>{const o=ii(r,!0);o.declarations=i.declarations||ie,o.imports=i.imports||ie,o.exports=i.exports||ie})}function Ws(r,i){if(null==r)return fe;const o={};for(const l in r)if(r.hasOwnProperty(l)){let c=r[l],f=c;Array.isArray(c)&&(f=c[1],c=c[0]),o[c]=l,i&&(i[c]=f)}return o}const Mc=_r;function ri(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,onDestroy:r.type.prototype.ngOnDestroy||null}}function Kn(r){return r[ge]||null}function ii(r,i){const o=r[ct]||null;if(!o&&!0===i)throw new Error(`Type ${$(r)} does not have '\u0275mod' property.`);return o}function yn(r){return Array.isArray(r)&&"object"==typeof r[1]}function fr(r){return Array.isArray(r)&&!0===r[1]}function od(r){return 0!=(8&r.flags)}function ya(r){return 2==(2&r.flags)}function _l(r){return 1==(1&r.flags)}function vi(r){return null!==r.template}function bi(r){return 0!=(512&r[2])}function ki(r,i){return r.hasOwnProperty(Jt)?r[Jt]:null}class wa{constructor(i,o,l){this.previousValue=i,this.currentValue=o,this.firstChange=l}isFirstChange(){return this.firstChange}}function ai(){return Ia}function Ia(r){return r.type.prototype.ngOnChanges&&(r.setInput=br),dg}function dg(){const r=kc(this),i=null==r?void 0:r.current;if(i){const o=r.previous;if(o===fe)r.previous=i;else for(let l in i)o[l]=i[l];r.current=null,this.ngOnChanges(i)}}function br(r,i,o,l){const c=kc(r)||function(r,i){return r[Fi]=i}(r,{previous:fe,current:null}),f=c.current||(c.current={}),m=c.previous,v=this.declaredInputs[o],E=m[v];f[v]=new wa(E&&E.currentValue,i,m===fe),r[l]=i}ai.ngInherit=!0;const Fi="__ngSimpleChanges__";function kc(r){return r[Fi]||null}let Uo;function Ys(r){Uo=r}function ms(){return void 0!==Uo?Uo:"undefined"!=typeof document?document:void 0}function un(r){return!!r.listen}const Li={createRenderer:(r,i)=>ms()};function nn(r){for(;Array.isArray(r);)r=r[0];return r}function Ks(r,i){return nn(i[r])}function Wr(r,i){return nn(i[r.index])}function _s(r,i){return r.data[i]}function ys(r,i){return r[i]}function hr(r,i){const o=i[r];return yn(o)?o:o[0]}function Cl(r){return 4==(4&r[2])}function El(r){return 128==(128&r[2])}function xn(r,i){return null==i?null:r[i]}function Sa(r){r[18]=0}function Aa(r,i){r[5]+=i;let o=r,l=r[3];for(;null!==l&&(1===i&&1===o[5]||-1===i&&0===o[5]);)l[5]+=i,o=l,l=l[3]}const Tt={lFrame:zc(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Da(){return Tt.bindingsEnabled}function He(){return Tt.lFrame.lView}function Lt(){return Tt.lFrame.tView}function Tl(r){return Tt.lFrame.contextLView=r,r[8]}function pn(){let r=Sl();for(;null!==r&&64===r.type;)r=r.parent;return r}function Sl(){return Tt.lFrame.currentTNode}function Cr(r,i){const o=Tt.lFrame;o.currentTNode=r,o.isParent=i}function jo(){return Tt.lFrame.isParent}function Ra(){Tt.lFrame.isParent=!1}function zo(){return Tt.isInCheckNoChangesMode}function Ho(r){Tt.isInCheckNoChangesMode=r}function kn(){const r=Tt.lFrame;let i=r.bindingRootIndex;return-1===i&&(i=r.bindingRootIndex=r.tView.bindingStartIndex),i}function ci(){return Tt.lFrame.bindingIndex++}function Er(r){const i=Tt.lFrame,o=i.bindingIndex;return i.bindingIndex=i.bindingIndex+r,o}function Pa(r,i){const o=Tt.lFrame;o.bindingIndex=o.bindingRootIndex=r,Na(i)}function Na(r){Tt.lFrame.currentDirectiveIndex=r}function Oa(r){const i=Tt.lFrame.currentDirectiveIndex;return-1===i?null:r[i]}function Dl(){return Tt.lFrame.currentQueryIndex}function $o(r){Tt.lFrame.currentQueryIndex=r}function Go(r){const i=r[1];return 2===i.type?i.declTNode:1===i.type?r[6]:null}function jc(r,i,o){if(o&st.SkipSelf){let c=i,f=r;for(;!(c=c.parent,null!==c||o&st.Host||(c=Go(f),null===c||(f=f[15],10&c.type))););if(null===c)return!1;i=c,r=f}const l=Tt.lFrame=vd();return l.currentTNode=i,l.lView=r,!0}function Qs(r){const i=vd(),o=r[1];Tt.lFrame=i,i.currentTNode=o.firstChild,i.lView=r,i.tView=o,i.contextLView=r,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function vd(){const r=Tt.lFrame,i=null===r?null:r.child;return null===i?zc(r):i}function zc(r){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=i),i}function bd(){const r=Tt.lFrame;return Tt.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const Cd=bd;function es(){const r=bd();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function Qn(){return Tt.lFrame.selectedIndex}function Wo(r){Tt.lFrame.selectedIndex=r}function Tn(){const r=Tt.lFrame;return _s(r.tView,r.selectedIndex)}function Rl(r,i){for(let o=i.directiveStart,l=i.directiveEnd;o<l;o++){const f=r.data[o].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:v,ngAfterViewInit:E,ngAfterViewChecked:T,ngOnDestroy:M}=f;m&&(r.contentHooks||(r.contentHooks=[])).push(-o,m),v&&((r.contentHooks||(r.contentHooks=[])).push(o,v),(r.contentCheckHooks||(r.contentCheckHooks=[])).push(o,v)),E&&(r.viewHooks||(r.viewHooks=[])).push(-o,E),T&&((r.viewHooks||(r.viewHooks=[])).push(o,T),(r.viewCheckHooks||(r.viewCheckHooks=[])).push(o,T)),null!=M&&(r.destroyHooks||(r.destroyHooks=[])).push(o,M)}}function bs(r,i,o){$c(r,i,3,o)}function xa(r,i,o,l){(3&r[2])===o&&$c(r,i,o,l)}function Rn(r,i){let o=r[2];(3&o)===i&&(o&=2047,o+=1,r[2]=o)}function $c(r,i,o,l){const f=null!=l?l:-1,m=i.length-1;let v=0;for(let E=void 0!==l?65535&r[18]:0;E<m;E++)if("number"==typeof i[E+1]){if(v=i[E],null!=l&&v>=l)break}else i[E]<0&&(r[18]+=65536),(v<f||-1==f)&&(oh(r,o,i,E),r[18]=(4294901760&r[18])+E+2),E++}function oh(r,i,o,l){const c=o[l]<0,f=o[l+1],v=r[c?-o[l]:o[l]];if(c){if(r[2]>>11<r[18]>>16&&(3&r[2])===i){r[2]+=2048;try{f.call(v)}finally{}}}else try{f.call(v)}finally{}}class Zo{constructor(i,o,l){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=l}}function Id(r,i,o){const l=un(r);let c=0;for(;c<o.length;){const f=o[c];if("number"==typeof f){if(0!==f)break;c++;const m=o[c++],v=o[c++],E=o[c++];l?r.setAttribute(i,v,E,m):i.setAttributeNS(m,v,E)}else{const m=f,v=o[++c];ns(m)?l&&r.setProperty(i,m,v):l?r.setAttribute(i,m,v):i.setAttribute(m,v),c++}}return c}function ah(r){return 3===r||4===r||6===r}function ns(r){return 64===r.charCodeAt(0)}function Ml(r,i){if(null!==i&&0!==i.length)if(null===r||0===r.length)r=i.slice();else{let o=-1;for(let l=0;l<i.length;l++){const c=i[l];"number"==typeof c?o=c:0===o||lh(r,o,c,null,-1===o||2===o?i[++l]:null)}}return r}function lh(r,i,o,l,c){let f=0,m=r.length;if(-1===i)m=-1;else for(;f<r.length;){const v=r[f++];if("number"==typeof v){if(v===i){m=-1;break}if(v>i){m=f-1;break}}}for(;f<r.length;){const v=r[f];if("number"==typeof v)break;if(v===o){if(null===l)return void(null!==c&&(r[f+1]=c));if(l===r[f+1])return void(r[f+2]=c)}f++,null!==l&&f++,null!==c&&f++}-1!==m&&(r.splice(m,0,i),f=m+1),r.splice(f++,0,o),null!==l&&r.splice(f++,0,l),null!==c&&r.splice(f++,0,c)}function qc(r){return-1!==r}function Es(r){return 32767&r}function qr(r,i){let o=function(r){return r>>16}(r),l=i;for(;o>0;)l=l[15],o--;return l}let ka=!0;function Ko(r){const i=ka;return ka=r,i}let Ad=0;function Fa(r,i){const o=vn(r,i);if(-1!==o)return o;const l=i[1];l.firstCreatePass&&(r.injectorIndex=i.length,Xs(l.data,r),Xs(i,null),Xs(l.blueprint,null));const c=pt(r,i),f=r.injectorIndex;if(qc(c)){const m=Es(c),v=qr(c,i),E=v[1].data;for(let T=0;T<8;T++)i[f+T]=v[m+T]|E[m+T]}return i[f+8]=c,f}function Xs(r,i){r.push(0,0,0,0,0,0,0,0,i)}function vn(r,i){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===i[r.injectorIndex+8]?-1:r.injectorIndex}function pt(r,i){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let o=0,l=null,c=i;for(;null!==c;){const f=c[1],m=f.type;if(l=2===m?f.declTNode:1===m?c[6]:null,null===l)return-1;if(o++,c=c[15],-1!==l.injectorIndex)return l.injectorIndex|o<<16}return-1}function Hn(r,i,o){!function(r,i,o){let l;"string"==typeof o?l=o.charCodeAt(0)||0:o.hasOwnProperty(Pn)&&(l=o[Pn]),null==l&&(l=o[Pn]=Ad++);const c=255&l;i.data[r+(c>>5)]|=1<<c}(r,i,o)}function kr(r,i,o){if(o&st.Optional)return r;Je(i,"NodeInjector")}function eo(r,i,o,l){if(o&st.Optional&&void 0===l&&(l=null),0==(o&(st.Self|st.Host))){const c=r[9],f=Yn(void 0);try{return c?c.get(i,l,o&st.Optional):Ct(i,l,o&st.Optional)}finally{Yn(f)}}return kr(l,i,o)}function Nl(r,i,o,l=st.Default,c){if(null!==r){const f=function(r){if("string"==typeof r)return r.charCodeAt(0)||0;const i=r.hasOwnProperty(Pn)?r[Pn]:void 0;return"number"==typeof i?i>=0?255&i:Ol:i}(o);if("function"==typeof f){if(!jc(i,r,l))return l&st.Host?kr(c,o,l):eo(i,o,l,c);try{const m=f(l);if(null!=m||l&st.Optional)return m;Je(o)}finally{Cd()}}else if("number"==typeof f){let m=null,v=vn(r,i),E=-1,T=l&st.Host?i[16][6]:null;for((-1===v||l&st.SkipSelf)&&(E=-1===v?pt(r,i):i[v+8],-1!==E&&La(l,!1)?(m=i[1],v=Es(E),i=qr(E,i)):v=-1);-1!==v;){const M=i[1];if(xl(f,v,M.data)){const z=gg(v,i,o,m,l,T);if(z!==bn)return z}E=i[v+8],-1!==E&&La(l,i[1].data[v+8]===T)&&xl(f,v,i)?(m=M,v=Es(E),i=qr(E,i)):v=-1}}}return eo(i,o,l,c)}const bn={};function Ol(){return new Is(pn(),He())}function gg(r,i,o,l,c,f){const m=i[1],v=m.data[r+8],M=ws(v,m,o,null==l?ya(v)&&ka:l!=m&&0!=(3&v.type),c&st.Host&&f===v);return null!==M?pr(i,m,M,v):bn}function ws(r,i,o,l,c){const f=r.providerIndexes,m=i.data,v=1048575&f,E=r.directiveStart,M=f>>20,q=c?v+M:r.directiveEnd;for(let se=l?v:v+M;se<q;se++){const me=m[se];if(se<E&&o===me||se>=E&&me.type===o)return se}if(c){const se=m[E];if(se&&vi(se)&&se.type===o)return E}return null}function pr(r,i,o,l){let c=r[o];const f=i.data;if(function(r){return r instanceof Zo}(c)){const m=c;m.resolving&&function(r,i){throw new ee("200",`Circular dependency in DI detected for ${r}`)}(_e(f[o]));const v=Ko(m.canSeeViewProviders);m.resolving=!0;const E=m.injectImpl?Yn(m.injectImpl):null;jc(r,l,st.Default);try{c=r[o]=m.factory(void 0,f,r,l),i.firstCreatePass&&o>=l.directiveStart&&function(r,i,o){const{ngOnChanges:l,ngOnInit:c,ngDoCheck:f}=i.type.prototype;if(l){const m=Ia(i);(o.preOrderHooks||(o.preOrderHooks=[])).push(r,m),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(r,m)}c&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-r,c),f&&((o.preOrderHooks||(o.preOrderHooks=[])).push(r,f),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(r,f))}(o,f[o],i)}finally{null!==E&&Yn(E),Ko(v),m.resolving=!1,Cd()}}return c}function xl(r,i,o){return!!(o[i+(r>>5)]&1<<r)}function La(r,i){return!(r&st.Self||r&st.Host&&i)}class Is{constructor(i,o){this._tNode=i,this._lView=o}get(i,o,l){return Nl(this._tNode,this._lView,i,l,o)}}function kl(r){return Ht(()=>{const i=r.prototype.constructor,o=i[Jt]||Va(i),l=Object.prototype;let c=Object.getPrototypeOf(r.prototype).constructor;for(;c&&c!==l;){const f=c[Jt]||Va(c);if(f&&f!==o)return f;c=Object.getPrototypeOf(c)}return f=>new f})}function Va(r){return oe(r)?()=>{const i=Va(W(r));return i&&i()}:ki(r)}function Dd(r){return function(r,i){if("class"===i)return r.classes;if("style"===i)return r.styles;const o=r.attrs;if(o){const l=o.length;let c=0;for(;c<l;){const f=o[c];if(ah(f))break;if(0===f)c+=2;else if("number"==typeof f)for(c++;c<l&&"string"==typeof o[c];)c++;else{if(f===i)return o[c+1];c+=2}}}return null}(pn(),r)}const rs="__parameters__";function Ii(r,i,o){return Ht(()=>{const l=function(r){return function(...o){if(r){const l=r(...o);for(const c in l)this[c]=l[c]}}}(i);function c(...f){if(this instanceof c)return l.apply(this,f),this;const m=new c(...f);return v.annotation=m,v;function v(E,T,M){const z=E.hasOwnProperty(rs)?E[rs]:Object.defineProperty(E,rs,{value:[]})[rs];for(;z.length<=M;)z.push(null);return(z[M]=z[M]||[]).push(m),E}}return o&&(c.prototype=Object.create(o.prototype)),c.prototype.ngMetadataName=r,c.annotationCls=c,c})}class Cn{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=D({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Md=new Cn("AnalyzeForEntryComponents"),is=Function;function Zr(r,i){void 0===i&&(i=r);for(let o=0;o<r.length;o++){let l=r[o];Array.isArray(l)?(i===r&&(i=r.slice(0,o)),Zr(l,i)):i!==r&&i.push(l)}return i}function Ui(r,i){r.forEach(o=>Array.isArray(o)?Ui(o,i):i(o))}function Ua(r,i,o){i>=r.length?r.push(o):r.splice(i,0,o)}function di(r,i){return i>=r.length-1?r.pop():r.splice(i,1)[0]}function ss(r,i){const o=[];for(let l=0;l<r;l++)o.push(i);return o}function Jn(r,i,o){let l=Jo(r,i);return l>=0?r[1|l]=o:(l=~l,function(r,i,o,l){let c=r.length;if(c==i)r.push(o,l);else if(1===c)r.push(l,r[0]),r[0]=o;else{for(c--,r.push(r[c-1],r[c]);c>i;)r[c]=r[c-2],c--;r[i]=o,r[i+1]=l}}(r,l,i,o)),l}function Xn(r,i){const o=Jo(r,i);if(o>=0)return r[1|o]}function Jo(r,i){return function(r,i,o){let l=0,c=r.length>>o;for(;c!==l;){const f=l+(c-l>>1),m=r[f<<o];if(i===m)return f<<o;m>i?c=f:l=f+1}return~(c<<o)}(r,i,1)}const Zt={},dn="__NG_DI_FLAG__",Un="ngTempTokenPath",er=/\n/gm,oo="__source",Ti=J({provide:String,useValue:J});let Si;function Dt(r){const i=Si;return Si=r,i}function uh(r,i=st.Default){if(void 0===Si)throw new Error("inject() must be called from an injection context");return null===Si?Ct(r,void 0,i):Si.get(r,i&st.Optional?null:void 0,i)}function wn(r,i=st.Default){return(zt||uh)(W(r),i)}function Ba(r){const i=[];for(let o=0;o<r.length;o++){const l=W(r[o]);if(Array.isArray(l)){if(0===l.length)throw new Error("Arguments array must have arguments.");let c,f=st.Default;for(let m=0;m<l.length;m++){const v=l[m],E=dh(v);"number"==typeof E?-1===E?c=v.token:f|=E:c=v}i.push(wn(c,f))}else i.push(wn(l))}return i}function ja(r,i){return r[dn]=i,r.prototype[dn]=i,r}function dh(r){return r[dn]}function Ai(r,i,o,l){const c=r[Un];throw i[oo]&&c.unshift(i[oo]),r.message=function(r,i,o,l=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.substr(2):r;let c=$(i);if(Array.isArray(i))c=i.map($).join(" -> ");else if("object"==typeof i){let f=[];for(let m in i)if(i.hasOwnProperty(m)){let v=i[m];f.push(m+":"+("string"==typeof v?JSON.stringify(v):$(v)))}c=`{${f.join(", ")}}`}return`${o}${l?"("+l+")":""}[${c}]: ${r.replace(er,"\n  ")}`}("\n"+r.message,c,o,l),r.ngTokenPath=c,r[Un]=null,r}const Xo=ja(Ii("Inject",r=>({token:r})),-1),ea=ja(Ii("Optional"),8),sr=ja(Ii("SkipSelf"),4);let Gl,kd;function co(r){var i;return(null===(i=function(){if(void 0===Gl&&(Gl=null,Mt.trustedTypes))try{Gl=Mt.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch(r){}return Gl}())||void 0===i?void 0:i.createHTML(r))||r}function Wl(r){var i;return(null===(i=function(){if(void 0===kd&&(kd=null,Mt.trustedTypes))try{kd=Mt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch(r){}return kd}())||void 0===i?void 0:i.createHTML(r))||r}class Ha{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class l0 extends Ha{getTypeName(){return"HTML"}}class c0 extends Ha{getTypeName(){return"Style"}}class Fd extends Ha{getTypeName(){return"Script"}}class u0 extends Ha{getTypeName(){return"URL"}}class d0 extends Ha{getTypeName(){return"ResourceURL"}}function uo(r){return r instanceof Ha?r.changingThisBreaksApplicationSecurity:r}function Zl(r,i){const o=Ld(r);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===i}function Ld(r){return r instanceof Ha&&r.getTypeName()||null}function Sg(r){return new l0(r)}function gh(r){return new c0(r)}function mh(r){return new Fd(r)}function fo(r){return new u0(r)}function au(r){return new d0(r)}class Ag{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const o=(new window.DOMParser).parseFromString(co(i),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(i):(o.removeChild(o.firstChild),o)}catch(o){return null}}}class f0{constructor(i){if(this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const o=this.inertDocument.createElement("html");this.inertDocument.appendChild(o);const l=this.inertDocument.createElement("body");o.appendChild(l)}}getInertBodyElement(i){const o=this.inertDocument.createElement("template");if("content"in o)return o.innerHTML=co(i),o;const l=this.inertDocument.createElement("body");return l.innerHTML=co(i),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(l),l}stripCustomNsAttrs(i){const o=i.attributes;for(let c=o.length-1;0<c;c--){const m=o.item(c).name;("xmlns:ns1"===m||0===m.indexOf("ns1:"))&&i.removeAttribute(m)}let l=i.firstChild;for(;l;)l.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(l),l=l.nextSibling}}const Dg=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Ud=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function na(r){return(r=String(r)).match(Dg)||r.match(Ud)?r:"unsafe:"+r}function Bi(r){const i={};for(const o of r.split(","))i[o]=!0;return i}function $a(...r){const i={};for(const o of r)for(const l in o)o.hasOwnProperty(l)&&(i[l]=!0);return i}const Kl=Bi("area,br,col,hr,img,wbr"),Mg=Bi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ql=Bi("rp,rt"),_h=$a(Kl,$a(Mg,Bi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),$a(Ql,Bi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),$a(Ql,Mg)),lu=Bi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Di=Bi("srcset"),cu=$a(lu,Di,Bi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Bi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),p0=Bi("script,style,template");class uu{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let o=i.firstChild,l=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?l=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,l&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let c=this.checkClobberedElement(o,o.nextSibling);if(c){o=c;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(i){const o=i.nodeName.toLowerCase();if(!_h.hasOwnProperty(o))return this.sanitizedSomething=!0,!p0.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const l=i.attributes;for(let c=0;c<l.length;c++){const f=l.item(c),m=f.name,v=m.toLowerCase();if(!cu.hasOwnProperty(v)){this.sanitizedSomething=!0;continue}let E=f.value;lu[v]&&(E=na(E)),Di[v]&&(r=E,E=(r=String(r)).split(",").map(i=>na(i.trim())).join(", ")),this.buf.push(" ",m,'="',jd(E),'"')}var r;return this.buf.push(">"),!0}endElement(i){const o=i.nodeName.toLowerCase();_h.hasOwnProperty(o)&&!Kl.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(i){this.buf.push(jd(i))}checkClobberedElement(i,o){if(o&&(i.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return o}}const g0=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,m0=/([^\#-~ |!])/g;function jd(r){return r.replace(/&/g,"&amp;").replace(g0,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(m0,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let du;function fu(r,i){let o=null;try{du=du||function(r){const i=new f0(r);return function(){try{return!!(new window.DOMParser).parseFromString(co(""),"text/html")}catch(r){return!1}}()?new Ag(i):i}(r);let l=i?String(i):"";o=du.getInertBodyElement(l);let c=5,f=l;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,l=f,f=o.innerHTML,o=du.getInertBodyElement(l)}while(l!==f);return co((new uu).sanitizeChildren(hu(o)||o))}finally{if(o){const l=hu(o)||o;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function hu(r){return"content"in r&&function(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}var Bn=(()=>((Bn=Bn||{})[Bn.NONE=0]="NONE",Bn[Bn.HTML=1]="HTML",Bn[Bn.STYLE=2]="STYLE",Bn[Bn.SCRIPT=3]="SCRIPT",Bn[Bn.URL=4]="URL",Bn[Bn.RESOURCE_URL=5]="RESOURCE_URL",Bn))();function vh(r){const i=ra();return i?Wl(i.sanitize(Bn.HTML,r)||""):Zl(r,"HTML")?Wl(uo(r)):fu(ms(),ue(r))}function bh(r){const i=ra();return i?i.sanitize(Bn.URL,r)||"":Zl(r,"URL")?uo(r):na(ue(r))}function ra(){const r=He();return r&&r[12]}const Ga="__ngContext__";function wr(r,i){r[Ga]=i}function Th(r){const i=function(r){return r[Ga]||null}(r);return i?Array.isArray(i)?i:i.lView:null}function ia(r){return r.ngOriginalError}function Mh(r,...i){r.error(...i)}class sa{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i),l=this._findContext(i),c=(r=i)&&r.ngErrorLogger||Mh;var r;c(this._console,"ERROR",i),o&&c(this._console,"ORIGINAL ERROR",o),l&&c(this._console,"ERROR CONTEXT",l)}_findContext(i){return i?i.ngDebugContext||this._findContext(ia(i)):null}_findOriginalError(i){let o=i&&ia(i);for(;o&&ia(o);)o=ia(o);return o||null}}const Bg=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Mt))();function ji(r){return r instanceof Function?r():r}var y=(()=>((y=y||{})[y.Important=1]="Important",y[y.DashCase=2]="DashCase",y))();function g(r,i){return undefined(r,i)}function x(r){const i=r[3];return fr(i)?i[3]:i}function Ze(r){return ht(r[13])}function We(r){return ht(r[4])}function ht(r){for(;null!==r&&!fr(r);)r=r[4];return r}function Ut(r,i,o,l,c){if(null!=l){let f,m=!1;fr(l)?f=l:yn(l)&&(m=!0,l=l[0]);const v=nn(l);0===r&&null!==o?null==c?_v(i,o,v):rc(i,o,v,c||null,!0):1===r&&null!==o?rc(i,o,v,c||null,!0):2===r?function(r,i,o){const l=qg(r,i);l&&function(r,i,o,l){un(r)?r.removeChild(i,o,l):i.removeChild(o)}(r,l,i,o)}(i,v,m):3===r&&i.destroyNode(v),null!=f&&function(r,i,o,l,c){const f=o[7];f!==nn(o)&&Ut(i,r,l,f,c);for(let v=10;v<o.length;v++){const E=o[v];bu(E[1],E,r,i,l,f)}}(i,r,f,o,c)}}function mu(r,i,o){return un(r)?r.createElement(i,o):null===o?r.createElement(i):r.createElementNS(o,i)}function yu(r,i){const o=r[9],l=o.indexOf(i),c=i[3];1024&i[2]&&(i[2]&=-1025,Aa(c,-1)),o.splice(l,1)}function Zd(r,i){if(r.length<=10)return;const o=10+i,l=r[o];if(l){const c=l[17];null!==c&&c!==r&&yu(c,l),i>0&&(r[o-1][4]=l[4]);const f=di(r,10+i);!function(r,i){bu(r,i,i[11],2,null,null),i[0]=null,i[6]=null}(l[1],l);const m=f[19];null!==m&&m.detachView(f[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function Yd(r,i){if(!(256&i[2])){const o=i[11];un(o)&&o.destroyNode&&bu(r,i,o,3,null,null),function(r){let i=r[13];if(!i)return oa(r[1],r);for(;i;){let o=null;if(yn(i))o=i[13];else{const l=i[10];l&&(o=l)}if(!o){for(;i&&!i[4]&&i!==r;)yn(i)&&oa(i[1],i),i=i[3];null===i&&(i=r),yn(i)&&oa(i[1],i),o=i&&i[4]}i=o}}(i)}}function oa(r,i){if(!(256&i[2])){i[2]&=-129,i[2]|=256,function(r,i){let o;if(null!=r&&null!=(o=r.destroyHooks))for(let l=0;l<o.length;l+=2){const c=i[o[l]];if(!(c instanceof Zo)){const f=o[l+1];if(Array.isArray(f))for(let m=0;m<f.length;m+=2){const v=c[f[m]],E=f[m+1];try{E.call(v)}finally{}}else try{f.call(c)}finally{}}}}(r,i),function(r,i){const o=r.cleanup,l=i[7];let c=-1;if(null!==o)for(let f=0;f<o.length-1;f+=2)if("string"==typeof o[f]){const m=o[f+1],v="function"==typeof m?m(i):nn(i[m]),E=l[c=o[f+2]],T=o[f+3];"boolean"==typeof T?v.removeEventListener(o[f],E,T):T>=0?l[c=T]():l[c=-T].unsubscribe(),f+=2}else{const m=l[c=o[f+1]];o[f].call(m)}if(null!==l){for(let f=c+1;f<l.length;f++)l[f]();i[7]=null}}(r,i),1===i[1].type&&un(i[11])&&i[11].destroy();const o=i[17];if(null!==o&&fr(i[3])){o!==i[3]&&yu(o,i);const l=i[19];null!==l&&l.detachView(r)}}}function gv(r,i,o){return function(r,i,o){let l=i;for(;null!==l&&40&l.type;)l=(i=l).parent;if(null===l)return o[0];if(2&l.flags){const c=r.data[l.directiveStart].encapsulation;if(c===tt.None||c===tt.Emulated)return null}return Wr(l,o)}(r,i.parent,o)}function rc(r,i,o,l,c){un(r)?r.insertBefore(i,o,l,c):i.insertBefore(o,l,c)}function _v(r,i,o){un(r)?r.appendChild(i,o):i.appendChild(o)}function yv(r,i,o,l,c){null!==l?rc(r,i,o,l,c):_v(r,i,o)}function qg(r,i){return un(r)?r.parentNode(i):i.parentNode}function Yg(r,i,o){return vu(r,i,o)}let vu=function(r,i,o){return 40&r.type?Wr(r,o):null};function Kd(r,i,o,l){const c=gv(r,l,i),f=i[11],v=Yg(l.parent||i[6],l,i);if(null!=c)if(Array.isArray(o))for(let E=0;E<o.length;E++)yv(f,c,o[E],v,!1);else yv(f,c,o,v,!1)}function Qg(r,i){if(null!==i){const o=i.type;if(3&o)return Wr(i,r);if(4&o)return w0(-1,r[i.index]);if(8&o){const l=i.child;if(null!==l)return Qg(r,l);{const c=r[i.index];return fr(c)?w0(-1,c):nn(c)}}if(32&o)return g(i,r)()||nn(r[i.index]);{const l=E0(r,i);return null!==l?Array.isArray(l)?l[0]:Qg(x(r[16]),l):Qg(r,i.next)}}return null}function E0(r,i){return null!==i?r[16][6].projection[i.projection]:null}function w0(r,i){const o=10+r+1;if(o<i.length){const l=i[o],c=l[1].firstChild;if(null!==c)return Qg(l,c)}return i[7]}function Jg(r,i,o,l,c,f,m){for(;null!=o;){const v=l[o.index],E=o.type;if(m&&0===i&&(v&&wr(nn(v),l),o.flags|=4),64!=(64&o.flags))if(8&E)Jg(r,i,o.child,l,c,f,!1),Ut(i,r,c,v,f);else if(32&E){const T=g(o,l);let M;for(;M=T();)Ut(i,r,c,M,f);Ut(i,r,c,v,f)}else 16&E?ic(r,i,l,o,c,f):Ut(i,r,c,v,f);o=m?o.projectionNext:o.next}}function bu(r,i,o,l,c,f){Jg(o,l,r.firstChild,i,c,f,!1)}function ic(r,i,o,l,c,f){const m=o[16],E=m[6].projection[l.projection];if(Array.isArray(E))for(let T=0;T<E.length;T++)Ut(i,r,c,E[T],f);else Jg(r,i,E,m[3],c,f,!0)}function Cv(r,i,o){un(r)?r.setAttribute(i,"style",o):i.style.cssText=o}function T0(r,i,o){un(r)?""===o?r.removeAttribute(i,"class"):r.setAttribute(i,"class",o):i.className=o}function S0(r,i,o){let l=r.length;for(;;){const c=r.indexOf(i,o);if(-1===c)return c;if(0===c||r.charCodeAt(c-1)<=32){const f=i.length;if(c+f===l||r.charCodeAt(c+f)<=32)return c}o=c+1}}const Ev="ng-template";function Ab(r,i,o){let l=0;for(;l<r.length;){let c=r[l++];if(o&&"class"===c){if(c=r[l],-1!==S0(c.toLowerCase(),i,0))return!0}else if(1===c){for(;l<r.length&&"string"==typeof(c=r[l++]);)if(c.toLowerCase()===i)return!0;return!1}}return!1}function A0(r){return 4===r.type&&r.value!==Ev}function Db(r,i,o){return i===(4!==r.type||o?r.value:Ev)}function Rb(r,i,o){let l=4;const c=r.attrs||[],f=function(r){for(let i=0;i<r.length;i++)if(ah(r[i]))return i;return r.length}(c);let m=!1;for(let v=0;v<i.length;v++){const E=i[v];if("number"!=typeof E){if(!m)if(4&l){if(l=2|1&l,""!==E&&!Db(r,E,o)||""===E&&1===i.length){if(mo(l))return!1;m=!0}}else{const T=8&l?E:i[++v];if(8&l&&null!==r.attrs){if(!Ab(r.attrs,T,o)){if(mo(l))return!1;m=!0}continue}const z=D0(8&l?"class":E,c,A0(r),o);if(-1===z){if(mo(l))return!1;m=!0;continue}if(""!==T){let q;q=z>f?"":c[z+1].toLowerCase();const se=8&l?q:null;if(se&&-1!==S0(se,T,0)||2&l&&T!==q){if(mo(l))return!1;m=!0}}}}else{if(!m&&!mo(l)&&!mo(E))return!1;if(m&&mo(E))continue;m=!1,l=E|1&l}}return mo(l)||m}function mo(r){return 0==(1&r)}function D0(r,i,o,l){if(null===i)return-1;let c=0;if(l||!o){let f=!1;for(;c<i.length;){const m=i[c];if(m===r)return c;if(3===m||6===m)f=!0;else{if(1===m||2===m){let v=i[++c];for(;"string"==typeof v;)v=i[++c];continue}if(4===m)break;if(0===m){c+=4;continue}}c+=f?1:2}return-1}return function(r,i){let o=r.indexOf(4);if(o>-1)for(o++;o<r.length;){const l=r[o];if("number"==typeof l)return-1;if(l===i)return o;o++}return-1}(i,r)}function wv(r,i,o=!1){for(let l=0;l<i.length;l++)if(Rb(r,i[l],o))return!0;return!1}function PI(r,i){e:for(let o=0;o<i.length;o++){const l=i[o];if(r.length===l.length){for(let c=0;c<r.length;c++)if(r[c]!==l[c])continue e;return!0}}return!1}function R0(r,i){return r?":not("+i.trim()+")":i}function M0(r){let i=r[0],o=1,l=2,c="",f=!1;for(;o<r.length;){let m=r[o];if("string"==typeof m)if(2&l){const v=r[++o];c+="["+m+(v.length>0?'="'+v+'"':"")+"]"}else 8&l?c+="."+m:4&l&&(c+=" "+m);else""!==c&&!mo(m)&&(i+=R0(f,c),c=""),l=m,f=f||!mo(l);o++}return""!==c&&(i+=R0(f,c)),i}const kt={};function Tv(r){Sv(Lt(),He(),Qn()+r,zo())}function Sv(r,i,o,l){if(!l)if(3==(3&i[2])){const f=r.preOrderCheckHooks;null!==f&&bs(i,f,o)}else{const f=r.preOrderHooks;null!==f&&xa(i,f,0,o)}Wo(o)}function xh(r,i){return r<<17|i<<2}function _o(r){return r>>17&32767}function or(r){return 2|r}function Wn(r){return(131068&r)>>2}function Xg(r,i){return-131069&r|i<<2}function O0(r){return 1|r}function kv(r,i){const o=r.contentQueries;if(null!==o)for(let l=0;l<o.length;l+=2){const c=o[l],f=o[l+1];if(-1!==f){const m=r.data[f];$o(c),m.contentQueries(2,i[f],f)}}}function Ka(r,i,o,l,c,f,m,v,E,T){const M=i.blueprint.slice();return M[0]=c,M[2]=140|l,Sa(M),M[3]=M[15]=r,M[8]=o,M[10]=m||r&&r[10],M[11]=v||r&&r[11],M[12]=E||r&&r[12]||null,M[9]=T||r&&r[9]||null,M[6]=f,M[16]=2==i.type?r[16]:M,M}function Cu(r,i,o,l,c){let f=r.data[i];if(null===f)f=function(r,i,o,l,c){const f=Sl(),m=jo(),E=r.data[i]=function(r,i,o,l,c,f){return{type:o,index:l,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?f:f&&f.parent,o,i,l,c);return null===r.firstChild&&(r.firstChild=E),null!==f&&(m?null==f.child&&null!==E.parent&&(f.child=E):null===f.next&&(f.next=E)),E}(r,i,o,l,c),Tt.lFrame.inI18n&&(f.flags|=64);else if(64&f.type){f.type=o,f.value=l,f.attrs=c;const m=function(){const r=Tt.lFrame,i=r.currentTNode;return r.isParent?i:i.parent}();f.injectorIndex=null===m?-1:m.injectorIndex}return Cr(f,!0),f}function Eu(r,i,o,l){if(0===o)return-1;const c=i.length;for(let f=0;f<o;f++)i.push(l),r.blueprint.push(l),r.data.push(null);return c}function Fh(r,i,o){Qs(i);try{const l=r.viewQuery;null!==l&&ef(1,l,o);const c=r.template;null!==c&&Fv(r,i,c,1,o),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&kv(r,i),r.staticViewQueries&&ef(2,r.viewQuery,o);const f=r.components;null!==f&&function(r,i){for(let o=0;o<i.length;o++)Qb(r,i[o])}(i,f)}catch(l){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),l}finally{i[2]&=-5,es()}}function Jd(r,i,o,l){const c=i[2];if(256==(256&c))return;Qs(i);const f=zo();try{Sa(i),function(r){Tt.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==o&&Fv(r,i,o,2,l);const m=3==(3&c);if(!f)if(m){const T=r.preOrderCheckHooks;null!==T&&bs(i,T,null)}else{const T=r.preOrderHooks;null!==T&&xa(i,T,0,null),Rn(i,0)}if(function(r){for(let i=Ze(r);null!==i;i=We(i)){if(!i[2])continue;const o=i[9];for(let l=0;l<o.length;l++){const c=o[l],f=c[3];0==(1024&c[2])&&Aa(f,1),c[2]|=1024}}}(i),function(r){for(let i=Ze(r);null!==i;i=We(i))for(let o=10;o<i.length;o++){const l=i[o],c=l[1];El(l)&&Jd(c,l,c.template,l[8])}}(i),null!==r.contentQueries&&kv(r,i),!f)if(m){const T=r.contentCheckHooks;null!==T&&bs(i,T)}else{const T=r.contentHooks;null!==T&&xa(i,T,1),Rn(i,1)}!function(r,i){const o=r.hostBindingOpCodes;if(null!==o)try{for(let l=0;l<o.length;l++){const c=o[l];if(c<0)Wo(~c);else{const f=c,m=o[++l],v=o[++l];Pa(m,f),v(2,i[f])}}}finally{Wo(-1)}}(r,i);const v=r.components;null!==v&&function(r,i){for(let o=0;o<i.length;o++)Kv(r,i[o])}(i,v);const E=r.viewQuery;if(null!==E&&ef(2,E,l),!f)if(m){const T=r.viewCheckHooks;null!==T&&bs(i,T)}else{const T=r.viewHooks;null!==T&&xa(i,T,2),Rn(i,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),f||(i[2]&=-73),1024&i[2]&&(i[2]&=-1025,Aa(i[3],-1))}finally{es()}}function Bb(r,i,o,l){const c=i[10],f=!zo(),m=Cl(i);try{f&&!m&&c.begin&&c.begin(),m&&Fh(r,i,l),Jd(r,i,o,l)}finally{f&&!m&&c.end&&c.end()}}function Fv(r,i,o,l,c){const f=Qn(),m=2&l;try{Wo(-1),m&&i.length>20&&Sv(r,i,20,zo()),o(l,c)}finally{Wo(f)}}function z0(r,i,o){if(od(i)){const c=i.directiveEnd;for(let f=i.directiveStart;f<c;f++){const m=r.data[f];m.contentQueries&&m.contentQueries(1,o[f],f)}}}function Lh(r,i,o){!Da()||(function(r,i,o,l){const c=o.directiveStart,f=o.directiveEnd;r.firstCreatePass||Fa(o,i),wr(l,i);const m=o.initialInputs;for(let v=c;v<f;v++){const E=r.data[v],T=vi(E);T&&om(i,o,E);const M=pr(i,r,v,o);wr(M,i),null!==m&&Y0(0,v-c,M,E,0,m),T&&(hr(o.index,i)[8]=M)}}(r,i,o,Wr(o,i)),128==(128&o.flags)&&function(r,i,o){const l=o.directiveStart,c=o.directiveEnd,m=o.index,v=Tt.lFrame.currentDirectiveIndex;try{Wo(m);for(let E=l;E<c;E++){const T=r.data[E],M=i[E];Na(E),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&Hv(T,M)}}finally{Wo(-1),Na(v)}}(r,i,o))}function nm(r,i,o=Wr){const l=i.localNames;if(null!==l){let c=i.index+1;for(let f=0;f<l.length;f+=2){const m=l[f+1],v=-1===m?o(i,r):r[m];r[c++]=v}}}function rm(r){const i=r.tView;return null===i||i.incompleteFirstPass?r.tView=Vh(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts):i}function Vh(r,i,o,l,c,f,m,v,E,T){const M=20+l,z=M+c,q=function(r,i){const o=[];for(let l=0;l<i;l++)o.push(l<r?null:kt);return o}(M,z),se="function"==typeof T?T():T;return q[1]={type:r,blueprint:q,template:o,queries:null,viewQuery:v,declTNode:i,data:q.slice().fill(null,M),bindingStartIndex:M,expandoStartIndex:z,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:E,consts:se,incompleteFirstPass:!1}}function Uv(r,i,o,l){const c=Jb(i);null===o?c.push(l):(c.push(o),r.firstCreatePass&&e4(r).push(l,c.length-1))}function G0(r,i,o){for(let l in r)if(r.hasOwnProperty(l)){const c=r[l];(o=null===o?{}:o).hasOwnProperty(l)?o[l].push(i,c):o[l]=[i,c]}return o}function as(r,i,o,l,c,f,m,v){const E=Wr(i,o);let M,T=i.inputs;!v&&null!=T&&(M=T[l])?(n4(r,o,M,l,c),ya(i)&&function(r,i){const o=hr(i,r);16&o[2]||(o[2]|=64)}(o,i.index)):3&i.type&&(l=function(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(l),c=null!=m?m(c,i.value||"",l):c,un(f)?f.setProperty(E,l,c):ns(l)||(E.setProperty?E.setProperty(l,c):E[l]=c))}function sm(r,i,o,l){let c=!1;if(Da()){const f=function(r,i,o){const l=r.directiveRegistry;let c=null;if(l)for(let f=0;f<l.length;f++){const m=l[f];wv(o,m.selectors,!1)&&(c||(c=[]),Hn(Fa(o,i),r,m.type),vi(m)?($v(r,o),c.unshift(m)):c.push(m))}return c}(r,i,o),m=null===l?null:{"":-1};if(null!==f){c=!0,Gv(o,r.data.length,f.length);for(let M=0;M<f.length;M++){const z=f[M];z.providersResolver&&z.providersResolver(z)}let v=!1,E=!1,T=Eu(r,i,f.length,null);for(let M=0;M<f.length;M++){const z=f[M];o.mergedAttrs=Ml(o.mergedAttrs,z.hostAttrs),Wv(r,o,i,T,z),Yb(T,z,m),null!==z.contentQueries&&(o.flags|=8),(null!==z.hostBindings||null!==z.hostAttrs||0!==z.hostVars)&&(o.flags|=128);const q=z.type.prototype;!v&&(q.ngOnChanges||q.ngOnInit||q.ngDoCheck)&&((r.preOrderHooks||(r.preOrderHooks=[])).push(o.index),v=!0),!E&&(q.ngOnChanges||q.ngDoCheck)&&((r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(o.index),E=!0),T++}!function(r,i){const l=i.directiveEnd,c=r.data,f=i.attrs,m=[];let v=null,E=null;for(let T=i.directiveStart;T<l;T++){const M=c[T],z=M.inputs,q=null===f||A0(i)?null:Kb(z,f);m.push(q),v=G0(z,T,v),E=G0(M.outputs,T,E)}null!==v&&(v.hasOwnProperty("class")&&(i.flags|=16),v.hasOwnProperty("style")&&(i.flags|=32)),i.initialInputs=m,i.inputs=v,i.outputs=E}(r,o)}m&&function(r,i,o){if(i){const l=r.localNames=[];for(let c=0;c<i.length;c+=2){const f=o[i[c+1]];if(null==f)throw new ee("301",`Export of name '${i[c+1]}' not found!`);l.push(i[c],f)}}}(o,l,m)}return o.mergedAttrs=Ml(o.mergedAttrs,o.attrs),c}function Xd(r,i,o,l,c,f){const m=f.hostBindings;if(m){let v=r.hostBindingOpCodes;null===v&&(v=r.hostBindingOpCodes=[]);const E=~i.index;(function(r){let i=r.length;for(;i>0;){const o=r[--i];if("number"==typeof o&&o<0)return o}return 0})(v)!=E&&v.push(E),v.push(l,c,m)}}function Hv(r,i){null!==r.hostBindings&&r.hostBindings(1,i)}function $v(r,i){i.flags|=2,(r.components||(r.components=[])).push(i.index)}function Yb(r,i,o){if(o){if(i.exportAs)for(let l=0;l<i.exportAs.length;l++)o[i.exportAs[l]]=r;vi(i)&&(o[""]=r)}}function Gv(r,i,o){r.flags|=1,r.directiveStart=i,r.directiveEnd=i+o,r.providerIndexes=i}function Wv(r,i,o,l,c){r.data[l]=c;const f=c.factory||(c.factory=ki(c.type)),m=new Zo(f,vi(c),null);r.blueprint[l]=m,o[l]=m,Xd(r,i,0,l,Eu(r,o,c.hostVars,kt),c)}function om(r,i,o){const l=Wr(i,r),c=rm(o),f=r[10],m=K0(r,Ka(r,c,null,o.onPush?64:16,l,i,f,f.createRenderer(l,o),null,null));r[i.index]=m}function yo(r,i,o,l,c,f){const m=Wr(r,i);!function(r,i,o,l,c,f,m){if(null==f)un(r)?r.removeAttribute(i,c,o):i.removeAttribute(c);else{const v=null==m?ue(f):m(f,l||"",c);un(r)?r.setAttribute(i,c,v,o):o?i.setAttributeNS(o,c,v):i.setAttribute(c,v)}}(i[11],m,f,r.value,o,l,c)}function Y0(r,i,o,l,c,f){const m=f[i];if(null!==m){const v=l.setInput;for(let E=0;E<m.length;){const T=m[E++],M=m[E++],z=m[E++];null!==v?l.setInput(o,z,T,M):o[M]=z}}}function Kb(r,i){let o=null,l=0;for(;l<i.length;){const c=i[l];if(0!==c)if(5!==c){if("number"==typeof c)break;r.hasOwnProperty(c)&&(null===o&&(o=[]),o.push(c,r[c],i[l+1])),l+=2}else l+=2;else l+=4}return o}function qv(r,i,o,l){return new Array(r,!0,!1,i,null,0,l,o,null,null)}function Kv(r,i){const o=hr(i,r);if(El(o)){const l=o[1];80&o[2]?Jd(l,o,l.template,o[8]):o[5]>0&&Qv(o)}}function Qv(r){for(let l=Ze(r);null!==l;l=We(l))for(let c=10;c<l.length;c++){const f=l[c];if(1024&f[2]){const m=f[1];Jd(m,f,m.template,f[8])}else f[5]>0&&Qv(f)}const o=r[1].components;if(null!==o)for(let l=0;l<o.length;l++){const c=hr(o[l],r);El(c)&&c[5]>0&&Qv(c)}}function Qb(r,i){const o=hr(i,r),l=o[1];(function(r,i){for(let o=i.length;o<r.blueprint.length;o++)i.push(r.blueprint[o])})(l,o),Fh(l,o,o[8])}function K0(r,i){return r[13]?r[14][4]=i:r[13]=i,r[14]=i,i}function Uh(r){for(;r;){r[2]|=64;const i=x(r);if(bi(r)&&!i)return r;r=i}return null}function lm(r,i,o){const l=i[10];l.begin&&l.begin();try{Jd(r,i,r.template,o)}catch(c){throw t4(i,c),c}finally{l.end&&l.end()}}function Jv(r){!function(r){for(let i=0;i<r.components.length;i++){const o=r.components[i],l=Th(o),c=l[1];Bb(c,l,c.template,o)}}(r[8])}function ef(r,i,o){$o(0),i(r,o)}const X0=(()=>Promise.resolve(null))();function Jb(r){return r[7]||(r[7]=[])}function e4(r){return r.cleanup||(r.cleanup=[])}function t4(r,i){const o=r[9],l=o?o.get(sa,null):null;l&&l.handleError(i)}function n4(r,i,o,l,c){for(let f=0;f<o.length;){const m=o[f++],v=o[f++],E=i[m],T=r.data[m];null!==T.setInput?T.setInput(E,c,l,v):E[v]=c}}function lc(r,i,o){const l=Ks(i,r);!function(r,i,o){un(r)?r.setValue(i,o):i.textContent=o}(r[11],l,o)}function e2(r,i,o){let l=o?r.styles:null,c=o?r.classes:null,f=0;if(null!==i)for(let m=0;m<i.length;m++){const v=i[m];"number"==typeof v?f=v:1==f?c=U(c,v):2==f&&(l=U(l,v+": "+i[++m]+";"))}o?r.styles=l:r.stylesWithoutHost=l,o?r.classes=c:r.classesWithoutHost=c}const Bh=new Cn("INJECTOR",-1);class tC{get(i,o=Zt){if(o===Zt){const l=new Error(`NullInjectorError: No provider for ${$(i)}!`);throw l.name="NullInjectorError",l}return o}}const cm=new Cn("Set Injector scope."),wu={},nC={};let um;function t2(){return void 0===um&&(um=new tC),um}function n2(r,i=null,o=null,l){return new i4(r,o,i||t2(),l)}class i4{constructor(i,o,l,c=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const f=[];o&&Ui(o,v=>this.processProvider(v,i,o)),Ui([i],v=>this.processInjectorType(v,[],f)),this.records.set(Bh,cc(void 0,this));const m=this.records.get(cm);this.scope=null!=m?m.value:null,this.source=c||("object"==typeof i?null:$(i))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(i=>i.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(i,o=Zt,l=st.Default){this.assertNotDestroyed();const c=Dt(this),f=Yn(void 0);try{if(!(l&st.SkipSelf)){let v=this.records.get(i);if(void 0===v){const E=("function"==typeof(r=i)||"object"==typeof r&&r instanceof Cn)&&pe(i);v=E&&this.injectableDefInScope(E)?cc(dm(i),wu):null,this.records.set(i,v)}if(null!=v)return this.hydrate(i,v)}return(l&st.Self?t2():this.parent).get(i,o=l&st.Optional&&o===Zt?null:o)}catch(m){if("NullInjectorError"===m.name){if((m[Un]=m[Un]||[]).unshift($(i)),c)throw m;return Ai(m,i,"R3InjectorError",this.source)}throw m}finally{Yn(f),Dt(c)}var r}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(i=>this.get(i))}toString(){const i=[];return this.records.forEach((l,c)=>i.push($(c))),`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(i,o,l){if(!(i=W(i)))return!1;let c=mt(i);const f=null==c&&i.ngModule||void 0,m=void 0===f?i:f,v=-1!==l.indexOf(m);if(void 0!==f&&(c=mt(f)),null==c)return!1;if(null!=c.imports&&!v){let M;l.push(m);try{Ui(c.imports,z=>{this.processInjectorType(z,o,l)&&(void 0===M&&(M=[]),M.push(z))})}finally{}if(void 0!==M)for(let z=0;z<M.length;z++){const{ngModule:q,providers:se}=M[z];Ui(se,me=>this.processProvider(me,q,se||ie))}}this.injectorDefTypes.add(m);const E=ki(m)||(()=>new m);this.records.set(m,cc(E,wu));const T=c.providers;if(null!=T&&!v){const M=i;Ui(T,z=>this.processProvider(z,M,T))}return void 0!==f&&void 0!==i.providers}processProvider(i,o,l){let c=zh(i=W(i))?i:W(i&&i.provide);const f=tf(r=i)?cc(void 0,r.useValue):cc(o4(r),wu);var r;if(zh(i)||!0!==i.multi)this.records.get(c);else{let m=this.records.get(c);m||(m=cc(void 0,wu,!0),m.factory=()=>Ba(m.multi),this.records.set(c,m)),c=i,m.multi.push(i)}this.records.set(c,f)}hydrate(i,o){return o.value===wu&&(o.value=nC,o.value=o.factory()),"object"==typeof o.value&&o.value&&null!==(r=o.value)&&"object"==typeof r&&"function"==typeof r.ngOnDestroy&&this.onDestroy.add(o.value),o.value;var r}injectableDefInScope(i){if(!i.providedIn)return!1;const o=W(i.providedIn);return"string"==typeof o?"any"===o||o===this.scope:this.injectorDefTypes.has(o)}}function dm(r){const i=pe(r),o=null!==i?i.factory:ki(r);if(null!==o)return o;if(r instanceof Cn)throw new Error(`Token ${$(r)} is missing a \u0275prov definition.`);if(r instanceof Function)return function(r){const i=r.length;if(i>0){const l=ss(i,"?");throw new Error(`Can't resolve all parameters for ${$(r)}: (${l.join(", ")}).`)}const o=function(r){const i=r&&(r[Nt]||r[Et]);if(i){const o=function(r){if(r.hasOwnProperty("name"))return r.name;const i=(""+r).match(/^function\s*([^\s(]+)/);return null===i?"":i[1]}(r);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),i}return null}(r);return null!==o?()=>o.factory(r):()=>new r}(r);throw new Error("unreachable")}function o4(r,i,o){let l;if(zh(r)){const c=W(r);return ki(c)||dm(c)}if(tf(r))l=()=>W(r.useValue);else if(function(r){return!(!r||!r.useFactory)}(r))l=()=>r.useFactory(...Ba(r.deps||[]));else if(function(r){return!(!r||!r.useExisting)}(r))l=()=>wn(W(r.useExisting));else{const c=W(r&&(r.useClass||r.provide));if(!function(r){return!!r.deps}(r))return ki(c)||dm(c);l=()=>new c(...Ba(r.deps))}return l}function cc(r,i,o=!1){return{factory:r,value:i,multi:o?[]:void 0}}function tf(r){return null!==r&&"object"==typeof r&&Ti in r}function zh(r){return"function"==typeof r}const r2=function(r,i,o){return function(r,i=null,o=null,l){const c=n2(r,i,o,l);return c._resolveInjectorDefTypes(),c}({name:o},i,r,o)};let Mn=(()=>{class r{static create(o,l){return Array.isArray(o)?r2(o,l,""):r2(o.providers,o.parent,o.name||"")}}return r.THROW_IF_NOT_FOUND=Zt,r.NULL=new tC,r.\u0275prov=D({token:r,providedIn:"any",factory:()=>wn(Bh)}),r.__NG_ELEMENT_ID__=-1,r})();function h2(r,i){Rl(Th(r)[1],pn())}function p2(r){let i=function(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),o=!0;const l=[r];for(;i;){let c;if(vi(r))c=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new Error("Directives cannot inherit Components");c=i.\u0275dir}if(c){if(o){l.push(c);const m=r;m.inputs=g2(r.inputs),m.declaredInputs=g2(r.declaredInputs),m.outputs=g2(r.outputs);const v=c.hostBindings;v&&Su(r,v);const E=c.viewQuery,T=c.contentQueries;if(E&&Xa(r,E),T&&la(r,T),H(r.inputs,c.inputs),H(r.declaredInputs,c.declaredInputs),H(r.outputs,c.outputs),vi(c)&&c.data.animation){const M=r.data;M.animation=(M.animation||[]).concat(c.data.animation)}}const f=c.features;if(f)for(let m=0;m<f.length;m++){const v=f[m];v&&v.ngInherit&&v(r),v===p2&&(o=!1)}}i=Object.getPrototypeOf(i)}!function(r){let i=0,o=null;for(let l=r.length-1;l>=0;l--){const c=r[l];c.hostVars=i+=c.hostVars,c.hostAttrs=Ml(c.hostAttrs,o=Ml(o,c.hostAttrs))}}(l)}function g2(r){return r===fe?{}:r===ie?[]:r}function Xa(r,i){const o=r.viewQuery;r.viewQuery=o?(l,c)=>{i(l,c),o(l,c)}:i}function la(r,i){const o=r.contentQueries;r.contentQueries=o?(l,c,f)=>{i(l,c,f),o(l,c,f)}:i}function Su(r,i){const o=r.hostBindings;r.hostBindings=o?(l,c)=>{i(l,c),o(l,c)}:i}let Gh=null;function qn(){if(!Gh){const r=Mt.Symbol;if(r&&r.iterator)Gh=r.iterator;else{const i=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<i.length;++o){const l=i[o];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(Gh=l)}}}return Gh}class vo{constructor(i){this.wrapped=i}static wrap(i){return new vo(i)}static unwrap(i){return vo.isWrapped(i)?i.wrapped:i}static isWrapped(i){return i instanceof vo}}function Wh(r){return!!mm(r)&&(Array.isArray(r)||!(r instanceof Map)&&qn()in r)}function mm(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function Rs(r,i,o){return r[i]=o}function ar(r,i,o){return!Object.is(r[i],o)&&(r[i]=o,!0)}function y2(r,i,o,l){const c=He();return ar(c,ci(),i)&&(Lt(),yo(Tn(),c,r,i,o,l)),y2}function v4(r,i,o,l,c,f,m,v){const E=He(),T=Lt(),M=r+20,z=T.firstCreatePass?function(r,i,o,l,c,f,m,v,E){const T=i.consts,M=Cu(i,r,4,m||null,xn(T,v));sm(i,o,M,xn(T,E)),Rl(i,M);const z=M.tViews=Vh(2,M,l,c,f,i.directiveRegistry,i.pipeRegistry,null,i.schemas,T);return null!==i.queries&&(i.queries.template(i,M),z.queries=i.queries.embeddedTView(M)),M}(M,T,E,i,o,l,c,f,m):T.data[M];Cr(z,!1);const q=E[11].createComment("");Kd(T,E,q,z),wr(q,E),K0(E,E[M]=qv(q,E,q,z)),_l(z)&&Lh(T,E,z),null!=m&&nm(E,z,v)}function w2(r){return ys(Tt.lFrame.contextLView,20+r)}function cf(r,i=st.Default){const o=He();return null===o?wn(r,i):Nl(pn(),o,W(r),i)}function Wt(r,i,o){const l=He();return ar(l,ci(),i)&&as(Lt(),Tn(),l,r,i,l[11],o,!1),Wt}function Jr(r,i,o,l,c){const m=c?"class":"style";n4(r,o,i.inputs[m],m,l)}function Qh(r,i,o,l){const c=He(),f=Lt(),m=20+r,v=c[11],E=c[m]=mu(v,i,Tt.lFrame.currentNamespace),T=f.firstCreatePass?function(r,i,o,l,c,f,m){const v=i.consts,T=Cu(i,r,2,c,xn(v,f));return sm(i,o,T,xn(v,m)),null!==T.attrs&&e2(T,T.attrs,!1),null!==T.mergedAttrs&&e2(T,T.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,T),T}(m,f,c,0,i,o,l):f.data[m];Cr(T,!0);const M=T.mergedAttrs;null!==M&&Id(v,E,M);const z=T.classes;null!==z&&T0(v,E,z);const q=T.styles;null!==q&&Cv(v,E,q),64!=(64&T.flags)&&Kd(f,c,E,T),0===Tt.lFrame.elementDepthCount&&wr(E,c),Tt.lFrame.elementDepthCount++,_l(T)&&(Lh(f,c,T),z0(f,T,c)),null!==l&&nm(c,T)}function $i(){let r=pn();jo()?Ra():(r=r.parent,Cr(r,!1));const i=r;Tt.lFrame.elementDepthCount--;const o=Lt();o.firstCreatePass&&(Rl(o,r),od(r)&&o.queries.elementEnd(r)),null!=i.classesWithoutHost&&function(r){return 0!=(16&r.flags)}(i)&&Jr(o,i,He(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function(r){return 0!=(32&r.flags)}(i)&&Jr(o,i,He(),i.stylesWithoutHost,!1)}function L4(r,i,o,l){Qh(r,i,o,l),$i()}function wm(r,i,o){const l=He(),c=Lt(),f=r+20,m=c.firstCreatePass?function(r,i,o,l,c){const f=i.consts,m=xn(f,l),v=Cu(i,r,8,"ng-container",m);return null!==m&&e2(v,m,!0),sm(i,o,v,xn(f,c)),null!==i.queries&&i.queries.elementStart(i,v),v}(f,c,l,i,o):c.data[f];Cr(m,!0);const v=l[f]=l[11].createComment("");Kd(c,l,v,m),wr(v,l),_l(m)&&(Lh(c,l,m),z0(c,m,l)),null!=o&&nm(l,m)}function tl(){let r=pn();const i=Lt();jo()?Ra():(r=r.parent,Cr(r,!1)),i.firstCreatePass&&(Rl(i,r),od(r)&&i.queries.elementEnd(r))}function uf(){return He()}function P2(r){return!!r&&"function"==typeof r.then}function V4(r){return!!r&&"function"==typeof r.subscribe}const Im=V4;function N2(r,i,o,l){const c=He(),f=Lt(),m=pn();return function(r,i,o,l,c,f,m,v){const E=_l(l),M=r.firstCreatePass&&e4(r),z=i[8],q=Jb(i);let se=!0;if(3&l.type||v){const Ie=Wr(l,i),qe=v?v(Ie):Ie,Ue=q.length,bt=v?Rt=>v(nn(Rt[l.index])):l.index;if(un(o)){let Rt=null;if(!v&&E&&(Rt=function(r,i,o,l){const c=r.cleanup;if(null!=c)for(let f=0;f<c.length-1;f+=2){const m=c[f];if(m===o&&c[f+1]===l){const v=i[7],E=c[f+2];return v.length>E?v[E]:null}"string"==typeof m&&(f+=2)}return null}(r,i,c,l.index)),null!==Rt)(Rt.__ngLastListenerFn__||Rt).__ngNextListenerFn__=f,Rt.__ngLastListenerFn__=f,se=!1;else{f=Kt(l,i,z,f,!1);const Xt=o.listen(qe,c,f);q.push(f,Xt),M&&M.push(c,bt,Ue,Ue+1)}}else f=Kt(l,i,z,f,!0),qe.addEventListener(c,f,m),q.push(f),M&&M.push(c,bt,Ue,m)}else f=Kt(l,i,z,f,!1);const me=l.outputs;let Me;if(se&&null!==me&&(Me=me[c])){const Ie=Me.length;if(Ie)for(let qe=0;qe<Ie;qe+=2){const Mr=i[Me[qe]][Me[qe+1]].subscribe(f),zs=q.length;q.push(f,Mr),M&&M.push(c,l.index,zs,-(zs+1))}}}(f,c,c[11],m,r,i,!!o,l),N2}function fc(r,i,o,l){try{return!1!==o(l)}catch(c){return t4(r,c),!1}}function Kt(r,i,o,l,c){return function f(m){if(m===Function)return l;const v=2&r.flags?hr(r.index,i):i;0==(32&i[2])&&Uh(v);let E=fc(i,0,l,m),T=f.__ngNextListenerFn__;for(;T;)E=fc(i,0,T,m)&&E,T=T.__ngNextListenerFn__;return c&&!1===E&&(m.preventDefault(),m.returnValue=!1),E}}function Jh(r=1){return function(r){return(Tt.lFrame.contextLView=function(r,i){for(;r>0;)i=i[15],r--;return i}(r,Tt.lFrame.contextLView))[8]}(r)}function Tm(r,i){let o=null;const l=function(r){const i=r.attrs;if(null!=i){const o=i.indexOf(5);if(0==(1&o))return i[o+1]}return null}(r);for(let c=0;c<i.length;c++){const f=i[c];if("*"!==f){if(null===l?wv(r,f,!0):PI(l,f))return c}else o=c}return o}function x2(r){const i=He()[16][6];if(!i.projection){const l=i.projection=ss(r?r.length:1,null),c=l.slice();let f=i.child;for(;null!==f;){const m=r?Tm(f,r):0;null!==m&&(c[m]?c[m].projectionNext=f:l[m]=f,c[m]=f),f=f.next}}}function bo(r,i=0,o){const l=He(),c=Lt(),f=Cu(c,20+r,16,null,o||null);null===f.projection&&(f.projection=i),Ra(),64!=(64&f.flags)&&function(r,i,o){ic(i[11],0,i,o,gv(r,o,i),Yg(o.parent||i[6],o,i))}(c,l,f)}function L2(r,i,o,l,c){const f=r[o+1],m=null===i;let v=l?_o(f):Wn(f),E=!1;for(;0!==v&&(!1===E||m);){const M=r[v+1];RC(r[v],i)&&(E=!0,r[v+1]=l?O0(M):or(M)),v=l?_o(M):Wn(M)}E&&(r[o+1]=l?or(f):O0(f))}function RC(r,i){return null===r||null==i||(Array.isArray(r)?r[1]:r)===i||!(!Array.isArray(r)||"string"!=typeof i)&&Jo(r,i)>=0}const Ar={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function $4(r){return r.substring(Ar.key,Ar.keyEnd)}function G4(r,i){const o=Ar.textEnd;return o===i?-1:(i=Ar.keyEnd=function(r,i,o){for(;i<o&&r.charCodeAt(i)>32;)i++;return i}(r,Ar.key=i,o),Gi(r,i,o))}function Gi(r,i,o){for(;i<o&&r.charCodeAt(i)<=32;)i++;return i}function np(r,i,o){return Ns(r,i,o,!1),np}function V2(r,i){return Ns(r,i,null,!0),V2}function Mm(r){!function(r,i,o,l){const c=Lt(),f=Er(2);c.firstUpdatePass&&B2(c,null,f,l);const m=He();if(o!==kt&&ar(m,f,o)){const v=c.data[Qn()];if(J4(v,l)&&!U2(c,f)){let E=l?v.classesWithoutHost:v.stylesWithoutHost;null!==E&&(o=U(E,o||"")),Jr(c,v,m,o,l)}else!function(r,i,o,l,c,f,m,v){c===kt&&(c=ie);let E=0,T=0,M=0<c.length?c[0]:null,z=0<f.length?f[0]:null;for(;null!==M||null!==z;){const q=E<c.length?c[E+1]:void 0,se=T<f.length?f[T+1]:void 0;let Me,me=null;M===z?(E+=2,T+=2,q!==se&&(me=z,Me=se)):null===z||null!==M&&M<z?(E+=2,me=M):(T+=2,me=z,Me=se),null!==me&&K4(r,i,o,l,me,Me,m,v),M=E<c.length?c[E]:null,z=T<f.length?f[T]:null}}(c,v,m,m[11],m[f+1],m[f+1]=function(r,i,o){if(null==o||""===o)return ie;const l=[],c=uo(o);if(Array.isArray(c))for(let f=0;f<c.length;f++)r(l,c[f],!0);else if("object"==typeof c)for(const f in c)c.hasOwnProperty(f)&&r(l,f,c[f]);else"string"==typeof c&&i(l,c);return l}(r,i,o),l,f)}}(Jn,Co,r,!0)}function Co(r,i){for(let o=function(r){return function(r){Ar.key=0,Ar.keyEnd=0,Ar.value=0,Ar.valueEnd=0,Ar.textEnd=r.length}(r),G4(r,Gi(r,0,Ar.textEnd))}(i);o>=0;o=G4(i,o))Jn(r,$4(i),!0)}function Ns(r,i,o,l){const c=He(),f=Lt(),m=Er(2);f.firstUpdatePass&&B2(f,r,m,l),i!==kt&&ar(c,m,i)&&K4(f,f.data[Qn()],c,c[11],r,c[m+1]=function(r,i){return null==r||("string"==typeof i?r+=i:"object"==typeof r&&(r=$(uo(r)))),r}(i,o),l,m)}function U2(r,i){return i>=r.expandoStartIndex}function B2(r,i,o,l){const c=r.data;if(null===c[o+1]){const f=c[Qn()],m=U2(r,o);J4(f,l)&&null===i&&!m&&(i=!1),i=function(r,i,o,l){const c=Oa(r);let f=l?i.residualClasses:i.residualStyles;if(null===c)0===(l?i.classBindings:i.styleBindings)&&(o=Fu(o=j2(null,r,i,o,l),i.attrs,l),f=null);else{const m=i.directiveStylingLast;if(-1===m||r[m]!==c)if(o=j2(c,r,i,o,l),null===f){let E=function(r,i,o){const l=o?i.classBindings:i.styleBindings;if(0!==Wn(l))return r[_o(l)]}(r,i,l);void 0!==E&&Array.isArray(E)&&(E=j2(null,r,i,E[1],l),E=Fu(E,i.attrs,l),function(r,i,o,l){r[_o(o?i.classBindings:i.styleBindings)]=l}(r,i,l,E))}else f=function(r,i,o){let l;const c=i.directiveEnd;for(let f=1+i.directiveStylingLast;f<c;f++)l=Fu(l,r[f].hostAttrs,o);return Fu(l,i.attrs,o)}(r,i,l)}return void 0!==f&&(l?i.residualClasses=f:i.residualStyles=f),o}(c,f,i,l),function(r,i,o,l,c,f){let m=f?i.classBindings:i.styleBindings,v=_o(m),E=Wn(m);r[l]=o;let M,T=!1;if(Array.isArray(o)){const z=o;M=z[1],(null===M||Jo(z,M)>0)&&(T=!0)}else M=o;if(c)if(0!==E){const q=_o(r[v+1]);r[l+1]=xh(q,v),0!==q&&(r[q+1]=Xg(r[q+1],l)),r[v+1]=function(r,i){return 131071&r|i<<17}(r[v+1],l)}else r[l+1]=xh(v,0),0!==v&&(r[v+1]=Xg(r[v+1],l)),v=l;else r[l+1]=xh(E,0),0===v?v=l:r[E+1]=Xg(r[E+1],l),E=l;T&&(r[l+1]=or(r[l+1])),L2(r,M,l,!0),L2(r,M,l,!1),function(r,i,o,l,c){const f=c?r.residualClasses:r.residualStyles;null!=f&&"string"==typeof i&&Jo(f,i)>=0&&(o[l+1]=O0(o[l+1]))}(i,M,r,l,f),m=xh(v,E),f?i.classBindings=m:i.styleBindings=m}(c,f,i,o,m,l)}}function j2(r,i,o,l,c){let f=null;const m=o.directiveEnd;let v=o.directiveStylingLast;for(-1===v?v=o.directiveStart:v++;v<m&&(f=i[v],l=Fu(l,f.hostAttrs,c),f!==r);)v++;return null!==r&&(o.directiveStylingLast=v),l}function Fu(r,i,o){const l=o?1:2;let c=-1;if(null!==i)for(let f=0;f<i.length;f++){const m=i[f];"number"==typeof m?c=m:c===l&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),Jn(r,m,!!o||i[++f]))}return void 0===r?null:r}function K4(r,i,o,l,c,f,m,v){if(!(3&i.type))return;const E=r.data,T=E[v+1];Nm(function(r){return 1==(1&r)}(T)?Q4(E,i,o,c,Wn(T),m):void 0)||(Nm(f)||function(r){return 2==(2&r)}(T)&&(f=Q4(E,null,o,c,v,m)),function(r,i,o,l,c){const f=un(r);if(i)c?f?r.addClass(o,l):o.classList.add(l):f?r.removeClass(o,l):o.classList.remove(l);else{let m=-1===l.indexOf("-")?void 0:y.DashCase;if(null==c)f?r.removeStyle(o,l,m):o.style.removeProperty(l);else{const v="string"==typeof c&&c.endsWith("!important");v&&(c=c.slice(0,-10),m|=y.Important),f?r.setStyle(o,l,c,m):o.style.setProperty(l,c,v?"important":"")}}}(l,m,Ks(Qn(),o),c,f))}function Q4(r,i,o,l,c,f){const m=null===i;let v;for(;c>0;){const E=r[c],T=Array.isArray(E),M=T?E[1]:E,z=null===M;let q=o[c+1];q===kt&&(q=z?ie:void 0);let se=z?Xn(q,l):M===l?q:void 0;if(T&&!Nm(se)&&(se=Xn(E,l)),Nm(se)&&(v=se,m))return v;const me=r[c+1];c=m?_o(me):Wn(me)}if(null!==i){let E=f?i.residualClasses:i.residualStyles;null!=E&&(v=Xn(E,l))}return v}function Nm(r){return void 0!==r}function J4(r,i){return 0!=(r.flags&(i?16:32))}function Om(r,i=""){const o=He(),l=Lt(),c=r+20,f=l.firstCreatePass?Cu(l,c,1,i,null):l.data[c],m=o[c]=function(r,i){return un(r)?r.createText(i):r.createTextNode(i)}(o[11],i);Kd(l,o,m,f),Cr(f,!1)}function H2(r){return Lu("",r,""),H2}function Lu(r,i,o){const l=He(),c=function(r,i,o,l){return ar(r,ci(),o)?i+ue(o)+l:kt}(l,r,i,o);return c!==kt&&lc(l,Qn(),c),Lu}function En(r,i,o){const l=He();return ar(l,ci(),i)&&as(Lt(),Tn(),l,r,i,l[11],o,!0),En}function cs(r,i,o){const l=He();if(ar(l,ci(),i)){const f=Lt(),m=Tn();as(f,m,l,r,i,function(r,i,o){return(null===r||vi(r))&&(o=function(r){for(;Array.isArray(r);){if("object"==typeof r[1])return r;r=r[0]}return null}(o[i.index])),o[11]}(Oa(f.data),m,l),o,!0)}return cs}const wo=void 0;var i3=["en",[["a","p"],["AM","PM"],wo],[["AM","PM"],wo,wo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],wo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],wo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",wo,"{1} 'at' {0}",wo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(r){const i=Math.floor(Math.abs(r)),o=r.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===o?1:5}];let gc={};function Vm(r){const i=function(r){return r.toLowerCase().replace(/_/g,"-")}(r);let o=ju(i);if(o)return o;const l=i.split("-")[0];if(o=ju(l),o)return o;if("en"===l)return i3;throw new Error(`Missing locale data for the locale "${r}".`)}function Um(r){return Vm(r)[It.PluralCase]}function ju(r){return r in gc||(gc[r]=Mt.ng&&Mt.ng.common&&Mt.ng.common.locales&&Mt.ng.common.locales[r]),gc[r]}var It=(()=>((It=It||{})[It.LocaleId=0]="LocaleId",It[It.DayPeriodsFormat=1]="DayPeriodsFormat",It[It.DayPeriodsStandalone=2]="DayPeriodsStandalone",It[It.DaysFormat=3]="DaysFormat",It[It.DaysStandalone=4]="DaysStandalone",It[It.MonthsFormat=5]="MonthsFormat",It[It.MonthsStandalone=6]="MonthsStandalone",It[It.Eras=7]="Eras",It[It.FirstDayOfWeek=8]="FirstDayOfWeek",It[It.WeekendRange=9]="WeekendRange",It[It.DateFormat=10]="DateFormat",It[It.TimeFormat=11]="TimeFormat",It[It.DateTimeFormat=12]="DateTimeFormat",It[It.NumberSymbols=13]="NumberSymbols",It[It.NumberFormats=14]="NumberFormats",It[It.CurrencyCode=15]="CurrencyCode",It[It.CurrencySymbol=16]="CurrencySymbol",It[It.CurrencyName=17]="CurrencyName",It[It.Currencies=18]="Currencies",It[It.Directionality=19]="Directionality",It[It.PluralCase=20]="PluralCase",It[It.ExtraData=21]="ExtraData",It))();const Bm="en-US";let s3=Bm;function Q2(r){Fe(r,"Expected localeId to be defined"),"string"==typeof r&&(s3=r.toLowerCase().replace(/_/g,"-"))}function bp(r,i,o,l,c){if(r=W(r),Array.isArray(r))for(let f=0;f<r.length;f++)bp(r[f],i,o,l,c);else{const f=Lt(),m=He();let v=zh(r)?r:W(r.provide),E=o4(r);const T=pn(),M=1048575&T.providerIndexes,z=T.directiveStart,q=T.providerIndexes>>20;if(zh(r)||!r.multi){const se=new Zo(E,c,cf),me=f_(v,i,c?M:M+q,z);-1===me?(Hn(Fa(T,m),f,v),d_(f,r,i.length),i.push(v),T.directiveStart++,T.directiveEnd++,c&&(T.providerIndexes+=1048576),o.push(se),m.push(se)):(o[me]=se,m[me]=se)}else{const se=f_(v,i,M+q,z),me=f_(v,i,M,M+q),Me=se>=0&&o[se],Ie=me>=0&&o[me];if(c&&!Ie||!c&&!Me){Hn(Fa(T,m),f,v);const qe=function(r,i,o,l,c){const f=new Zo(r,o,cf);return f.multi=[],f.index=i,f.componentProviders=0,vf(f,c,l&&!o),f}(c?aE:oE,o.length,c,l,E);!c&&Ie&&(o[me].providerFactory=qe),d_(f,r,i.length,0),i.push(v),T.directiveStart++,T.directiveEnd++,c&&(T.providerIndexes+=1048576),o.push(qe),m.push(qe)}else d_(f,r,se>-1?se:me,vf(o[c?me:se],E,!c&&l));!c&&l&&Ie&&o[me].componentProviders++}}}function d_(r,i,o,l){const c=zh(i);if(c||function(r){return!!r.useClass}(i)){const m=(i.useClass||i).prototype.ngOnDestroy;if(m){const v=r.destroyHooks||(r.destroyHooks=[]);if(!c&&i.multi){const E=v.indexOf(o);-1===E?v.push(o,[l,m]):v[E+1].push(l,m)}else v.push(o,m)}}}function vf(r,i,o){return o&&r.componentProviders++,r.multi.push(i)-1}function f_(r,i,o,l){for(let c=o;c<l;c++)if(i[c]===r)return c;return-1}function oE(r,i,o,l){return Cp(this.multi,[])}function aE(r,i,o,l){const c=this.multi;let f;if(this.providerFactory){const m=this.providerFactory.componentProviders,v=pr(o,o[1],this.providerFactory.index,l);f=v.slice(0,m),Cp(c,f);for(let E=m;E<v.length;E++)f.push(v[E])}else f=[],Cp(c,f);return f}function Cp(r,i){for(let o=0;o<r.length;o++)i.push((0,r[o])());return i}function M3(r,i=[]){return o=>{o.providersResolver=(l,c)=>function(r,i,o){const l=Lt();if(l.firstCreatePass){const c=vi(r);bp(o,l.data,l.blueprint,c,!0),bp(i,l.data,l.blueprint,c,!1)}}(l,c?c(r):r,i)}}class N3{}const p_="ngComponent";class g_{resolveComponentFactory(i){throw function(r){const i=Error(`No component factory found for ${$(r)}. Did you add it to @NgModule.entryComponents?`);return i[p_]=r,i}(i)}}let _c=(()=>{class r{}return r.NULL=new g_,r})();function bf(...r){}function Cf(r,i){return new Wi(Wr(r,i))}const cE=function(){return Cf(pn(),He())};let Wi=(()=>{class r{constructor(o){this.nativeElement=o}}return r.__NG_ELEMENT_ID__=cE,r})();function e1(r){return r instanceof Wi?r.nativeElement:r}class t1{}let uE=(()=>{class r{}return r.__NG_ELEMENT_ID__=()=>F3(),r})();const F3=function(){const r=He(),o=hr(pn().index,r);return function(r){return r[11]}(yn(o)?o:r)};let xs=(()=>{class r{}return r.\u0275prov=D({token:r,providedIn:"root",factory:()=>null}),r})();class Ef{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const v_=new Ef("12.2.13");class b_{constructor(){}supports(i){return Wh(i)}create(i){return new wp(i)}}const C_=(r,i)=>i;class wp{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||C_}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,l=this._removalsHead,c=0,f=null;for(;o||l;){const m=!l||o&&o.currentIndex<L3(l,c,f)?o:l,v=L3(m,c,f),E=m.currentIndex;if(m===l)c--,l=l._nextRemoved;else if(o=o._next,null==m.previousIndex)c++;else{f||(f=[]);const T=v-c,M=E-c;if(T!=M){for(let q=0;q<T;q++){const se=q<f.length?f[q]:f[q]=0,me=se+q;M<=me&&me<T&&(f[q]=se+1)}f[m.previousIndex]=M-T}}v!==E&&i(m,v,E)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!Wh(i))throw new Error(`Error trying to diff '${$(i)}'. Only arrays and iterables are allowed`);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let c,f,m,o=this._itHead,l=!1;if(Array.isArray(i)){this.length=i.length;for(let v=0;v<this.length;v++)f=i[v],m=this._trackByFn(v,f),null!==o&&Object.is(o.trackById,m)?(l&&(o=this._verifyReinsertion(o,f,m,v)),Object.is(o.item,f)||this._addIdentityChange(o,f)):(o=this._mismatch(o,f,m,v),l=!0),o=o._next}else c=0,function(r,i){if(Array.isArray(r))for(let o=0;o<r.length;o++)i(r[o]);else{const o=r[qn()]();let l;for(;!(l=o.next()).done;)i(l.value)}}(i,v=>{m=this._trackByFn(c,v),null!==o&&Object.is(o.trackById,m)?(l&&(o=this._verifyReinsertion(o,v,m,c)),Object.is(o.item,v)||this._addIdentityChange(o,v)):(o=this._mismatch(o,v,m,c),l=!0),o=o._next,c++}),this.length=c;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,l,c){let f;return null===i?f=this._itTail:(f=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,f,c)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(l,c))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,f,c)):i=this._addAfter(new fE(o,l),f,c),i}_verifyReinsertion(i,o,l,c){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==f?i=this._reinsertAfter(f,i._prev,c):i.currentIndex!=c&&(i.currentIndex=c,this._addToMoves(i,c)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const c=i._prevRemoved,f=i._nextRemoved;return null===c?this._removalsHead=f:c._nextRemoved=f,null===f?this._removalsTail=c:f._prevRemoved=c,this._insertAfter(i,o,l),this._addToMoves(i,l),i}_moveAfter(i,o,l){return this._unlink(i),this._insertAfter(i,o,l),this._addToMoves(i,l),i}_addAfter(i,o,l){return this._insertAfter(i,o,l),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,l){const c=null===o?this._itHead:o._next;return i._next=c,i._prev=o,null===c?this._itTail=i:c._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new E_),this._linkedRecords.put(i),i.currentIndex=l,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,l=i._next;return null===o?this._itHead=l:o._next=l,null===l?this._itTail=o:l._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new E_),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class fE{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ks{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===o||o<=l.currentIndex)&&Object.is(l.trackById,i))return l;return null}remove(i){const o=i._prevDup,l=i._nextDup;return null===o?this._head=l:o._nextDup=l,null===l?this._tail=o:l._prevDup=o,null===this._head}}class E_{constructor(){this.map=new Map}put(i){const o=i.trackById;let l=this.map.get(o);l||(l=new ks,this.map.set(o,l)),l.add(i)}get(i,o){const c=this.map.get(i);return c?c.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function L3(r,i,o){const l=r.previousIndex;if(null===l)return l;let c=0;return o&&l<o.length&&(c=o[l]),l+i+c}class Ip{constructor(){}supports(i){return i instanceof Map||mm(i)}create(){return new w_}}class w_{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||mm(i)))throw new Error(`Error trying to diff '${$(i)}'. Only maps and objects are allowed`)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(l,c)=>{if(o&&o.key===c)this._maybeAddToChanges(o,l),this._appendAfter=o,o=o._next;else{const f=this._getOrCreateRecordForKey(c,l);o=this._insertBeforeOrAppend(o,f)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let l=o;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const l=i._prev;return o._next=i,o._prev=l,i._prev=o,l&&(l._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const c=this._records.get(i);this._maybeAddToChanges(c,o);const f=c._prev,m=c._next;return f&&(f._next=m),m&&(m._prev=f),c._next=null,c._prev=null,c}const l=new Fs(i);return this._records.set(i,l),l.currentValue=o,this._addToAdditions(l),l}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(l=>o(i[l],l))}}class Fs{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function I_(){return new r1([new b_])}let r1=(()=>{class r{constructor(o){this.factories=o}static create(o,l){if(null!=l){const c=l.factories.slice();o=o.concat(c)}return new r(o)}static extend(o){return{provide:r,useFactory:l=>r.create(o,l||I_()),deps:[[r,new sr,new ea]]}}find(o){const l=this.factories.find(c=>c.supports(o));if(null!=l)return l;throw new Error(`Cannot find a differ supporting object '${o}' of type '${function(r){return r.name||typeof r}(o)}'`)}}return r.\u0275prov=D({token:r,providedIn:"root",factory:I_}),r})();function U3(){return new i1([new Ip])}let i1=(()=>{class r{constructor(o){this.factories=o}static create(o,l){if(l){const c=l.factories.slice();o=o.concat(c)}return new r(o)}static extend(o){return{provide:r,useFactory:l=>r.create(o,l||U3()),deps:[[r,new sr,new ea]]}}find(o){const l=this.factories.find(c=>c.supports(o));if(l)return l;throw new Error(`Cannot find a differ supporting object '${o}'`)}}return r.\u0275prov=D({token:r,providedIn:"root",factory:U3}),r})();function s1(r,i,o,l,c=!1){for(;null!==o;){const f=i[o.index];if(null!==f&&l.push(nn(f)),fr(f))for(let v=10;v<f.length;v++){const E=f[v],T=E[1].firstChild;null!==T&&s1(E[1],E,T,l)}const m=o.type;if(8&m)s1(r,i,o.child,l);else if(32&m){const v=g(o,i);let E;for(;E=v();)l.push(E)}else if(16&m){const v=E0(i,o);if(Array.isArray(v))l.push(...v);else{const E=x(i[16]);s1(E[1],E,v,l,!0)}}o=c?o.projectionNext:o.next}return l}class wf{constructor(i,o){this._lView=i,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const i=this._lView,o=i[1];return s1(o,i,o.firstChild,[])}get context(){return this._lView[8]}set context(i){this._lView[8]=i}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[3];if(fr(i)){const o=i[8],l=o?o.indexOf(this):-1;l>-1&&(Zd(i,l),di(o,l))}this._attachedToViewContainer=!1}Yd(this._lView[1],this._lView)}onDestroy(i){Uv(this._lView[1],this._lView,null,i)}markForCheck(){Uh(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){lm(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(r,i,o){Ho(!0);try{lm(r,i,o)}finally{Ho(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var i;this._appRef=null,bu(this._lView[1],i=this._lView,i[11],2,null,null)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=i}}class Tp extends wf{constructor(i){super(i),this._view=i}detectChanges(){Jv(this._view)}checkNoChanges(){!function(r){Ho(!0);try{Jv(r)}finally{Ho(!1)}}(this._view)}get context(){return null}}const pE=function(r){return function(r,i,o){if(ya(r)&&!o){const l=hr(r.index,i);return new wf(l,l)}return 47&r.type?new wf(i[16],i):null}(pn(),He(),16==(16&r))};let T_=(()=>{class r{}return r.__NG_ELEMENT_ID__=pE,r})();const S_=[new Ip],_E=new r1([new b_]),yE=new i1(S_),vE=function(){return il(pn(),He())};let Sp=(()=>{class r{}return r.__NG_ELEMENT_ID__=vE,r})();const A_=Sp,z3=class extends A_{constructor(i,o,l){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=l}createEmbeddedView(i){const o=this._declarationTContainer.tViews,l=Ka(this._declarationLView,o,i,16,null,o.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const f=this._declarationLView[19];return null!==f&&(l[19]=f.createEmbeddedView(o)),Fh(o,l,i),new wf(l)}};function il(r,i){return 4&r.type?new z3(i,r,Cf(r,i)):null}class qi{}class H3{}const CE=function(){return a1(pn(),He())};let sl=(()=>{class r{}return r.__NG_ELEMENT_ID__=CE,r})();const $3=sl,M_=class extends $3{constructor(i,o,l){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=l}get element(){return Cf(this._hostTNode,this._hostLView)}get injector(){return new Is(this._hostTNode,this._hostLView)}get parentInjector(){const i=pt(this._hostTNode,this._hostLView);if(qc(i)){const o=qr(i,this._hostLView),l=Es(i);return new Is(o[1].data[l+8],o)}return new Is(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=P_(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-10}createEmbeddedView(i,o,l){const c=i.createEmbeddedView(o||{});return this.insert(c,l),c}createComponent(i,o,l,c,f){const m=l||this.parentInjector;if(!f&&null==i.ngModule&&m){const E=m.get(qi,null);E&&(f=E)}const v=i.create(m,c,void 0,f);return this.insert(v.hostView,o),v}insert(i,o){const l=i._lView,c=l[1];if(fr(l[3])){const M=this.indexOf(i);if(-1!==M)this.detach(M);else{const z=l[3],q=new M_(z,z[6],z[3]);q.detach(q.indexOf(i))}}const f=this._adjustIndex(o),m=this._lContainer;!function(r,i,o,l){const c=10+l,f=o.length;l>0&&(o[c-1][4]=i),l<f-10?(i[4]=o[c],Ua(o,10+l,i)):(o.push(i),i[4]=null),i[3]=o;const m=i[17];null!==m&&o!==m&&function(r,i){const o=r[9];i[16]!==i[3][3][16]&&(r[2]=!0),null===o?r[9]=[i]:o.push(i)}(m,i);const v=i[19];null!==v&&v.insertView(r),i[2]|=128}(c,l,m,f);const v=w0(f,m),E=l[11],T=qg(E,m[7]);return null!==T&&function(r,i,o,l,c,f){l[0]=c,l[6]=i,bu(r,l,o,1,c,f)}(c,m[6],E,l,T,v),i.attachToViewContainerRef(),Ua(If(m),f,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=P_(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),l=Zd(this._lContainer,o);l&&(di(If(this._lContainer),o),Yd(l[1],l))}detach(i){const o=this._adjustIndex(i,-1),l=Zd(this._lContainer,o);return l&&null!=di(If(this._lContainer),o)?new wf(l):null}_adjustIndex(i,o=0){return null==i?this.length+o:i}};function P_(r){return r[8]}function If(r){return r[8]||(r[8]=[])}function a1(r,i){let o;const l=i[r.index];if(fr(l))o=l;else{let c;if(8&r.type)c=nn(l);else{const f=i[11];c=f.createComment("");const m=Wr(r,i);rc(f,qg(f,m),c,function(r,i){return un(r)?r.nextSibling(i):i.nextSibling}(f,m),!1)}i[r.index]=o=qv(l,i,c,r),K0(i,o)}return new M_(o,r,i)}const $u={};class Pf extends _c{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=Kn(i);return new h6(o,this.ngModule)}}function f6(r){const i=[];for(let o in r)r.hasOwnProperty(o)&&i.push({propName:r[o],templateName:o});return i}const c5=new Cn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Bg});class h6 extends N3{constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=i.selectors.map(M0).join(","),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return f6(this.componentDef.inputs)}get outputs(){return f6(this.componentDef.outputs)}create(i,o,l,c){const f=(c=c||this.ngModule)?function(r,i){return{get:(o,l,c)=>{const f=r.get(o,$u,c);return f!==$u||l===$u?f:i.get(o,l,c)}}}(i,c.injector):i,m=f.get(t1,Li),v=f.get(xs,null),E=m.createRenderer(null,this.componentDef),T=this.componentDef.selectors[0][0]||"div",M=l?function(r,i,o){if(un(r))return r.selectRootElement(i,o===tt.ShadowDom);let l="string"==typeof i?r.querySelector(i):i;return l.textContent="",l}(E,l,this.componentDef.encapsulation):mu(m.createRenderer(null,this.componentDef),T,function(r){const i=r.toLowerCase();return"svg"===i?"http://www.w3.org/2000/svg":"math"===i?"http://www.w3.org/1998/MathML/":null}(T)),z=this.componentDef.onPush?576:528,q=function(r,i){return{components:[],scheduler:r||Bg,clean:X0,playerHandler:i||null,flags:0}}(),se=Vh(0,null,null,1,0,null,null,null,null,null),me=Ka(null,se,q,z,null,null,m,E,v,f);let Me,Ie;Qs(me);try{const qe=function(r,i,o,l,c,f){const m=o[1];o[20]=r;const E=Cu(m,20,2,"#host",null),T=E.mergedAttrs=i.hostAttrs;null!==T&&(e2(E,T,!0),null!==r&&(Id(c,r,T),null!==E.classes&&T0(c,r,E.classes),null!==E.styles&&Cv(c,r,E.styles)));const M=l.createRenderer(r,i),z=Ka(o,rm(i),null,i.onPush?64:16,o[20],E,l,M,f||null,null);return m.firstCreatePass&&(Hn(Fa(E,o),m,i.type),$v(m,E),Gv(E,o.length,1)),K0(o,z),o[20]=z}(M,this.componentDef,me,m,E);if(M)if(l)Id(E,M,["ng-version",v_.full]);else{const{attrs:Ue,classes:bt}=function(r){const i=[],o=[];let l=1,c=2;for(;l<r.length;){let f=r[l];if("string"==typeof f)2===c?""!==f&&i.push(f,r[++l]):8===c&&o.push(f);else{if(!mo(c))break;c=f}l++}return{attrs:i,classes:o}}(this.componentDef.selectors[0]);Ue&&Id(E,M,Ue),bt&&bt.length>0&&T0(E,M,bt.join(" "))}if(Ie=_s(se,20),void 0!==o){const Ue=Ie.projection=[];for(let bt=0;bt<this.ngContentSelectors.length;bt++){const Rt=o[bt];Ue.push(null!=Rt?Array.from(Rt):null)}}Me=function(r,i,o,l,c){const f=o[1],m=function(r,i,o){const l=pn();r.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),Wv(r,l,i,Eu(r,i,1,null),o));const c=pr(i,r,l.directiveStart,l);wr(c,i);const f=Wr(l,i);return f&&wr(f,i),c}(f,o,i);if(l.components.push(m),r[8]=m,c&&c.forEach(E=>E(m,i)),i.contentQueries){const E=pn();i.contentQueries(1,m,E.directiveStart)}const v=pn();return!f.firstCreatePass||null===i.hostBindings&&null===i.hostAttrs||(Wo(v.index),Xd(o[1],v,0,v.directiveStart,v.directiveEnd,i),Hv(i,m)),m}(qe,this.componentDef,me,q,[h2]),Fh(se,me,null)}finally{es()}return new f5(this.componentType,Me,Cf(Ie,me),me,Ie)}}class f5 extends class{}{constructor(i,o,l,c,f){super(),this.location=l,this._rootLView=c,this._tNode=f,this.instance=o,this.hostView=this.changeDetectorRef=new Tp(c),this.componentType=i}get injector(){return new Is(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}const In=new Map;class g5 extends qi{constructor(i,o){super(),this._parent=o,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Pf(this);const l=ii(i),c=i[Pt]||null;c&&Q2(c),this._bootstrapComponents=ji(l.bootstrap),this._r3Injector=n2(i,o,[{provide:qi,useValue:this},{provide:_c,useValue:this.componentFactoryResolver}],$(i)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(i)}get(i,o=Mn.THROW_IF_NOT_FOUND,l=st.Default){return i===Mn||i===qi||i===Bh?this:this._r3Injector.get(i,o,l)}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class $_ extends H3{constructor(i){super(),this.moduleType=i,null!==ii(i)&&function(r){const i=new Set;!function o(l){const c=ii(l,!0),f=c.id;null!==f&&(function(r,i,o){if(i&&i!==o)throw new Error(`Duplicate module registered for ${r} - ${$(i)} vs ${$(i.name)}`)}(f,In.get(f),l),In.set(f,l));const m=ji(c.imports);for(const v of m)i.has(v)||(i.add(v),o(v))}(r)}(i)}create(i){return new g5(this.moduleType,i)}}function _6(r,i,o){const l=kn()+r,c=He();return c[l]===kt?Rs(c,l,o?i.call(o):i()):function(r,i){return r[i]}(c,l)}function Of(r,i){const o=r[i];return o===kt?void 0:o}function Np(r,i,o,l,c,f,m){const v=i+o;return function(r,i,o,l){const c=ar(r,i,o);return ar(r,i+1,l)||c}(r,v,c,f)?Rs(r,v+2,m?l.call(m,c,f):l(c,f)):Of(r,v+2)}function w6(r,i){const o=Lt();let l;const c=r+20;o.firstCreatePass?(l=function(r,i){if(i)for(let o=i.length-1;o>=0;o--){const l=i[o];if(r===l.name)return l}throw new ee("302",`The pipe '${r}' could not be found!`)}(i,o.pipeRegistry),o.data[c]=l,l.onDestroy&&(o.destroyHooks||(o.destroyHooks=[])).push(c,l.onDestroy)):l=o.data[c];const f=l.factory||(l.factory=ki(l.type)),m=Yn(cf);try{const v=Ko(!1),E=f();return Ko(v),function(r,i,o,l){o>=r.data.length&&(r.data[o]=null,r.blueprint[o]=null),i[o]=l}(o,He(),c,E),E}finally{Yn(m)}}function I6(r,i,o){const l=r+20,c=He(),f=ys(c,l);return Bs(c,Gu(c,l)?function(r,i,o,l,c,f){const m=i+o;return ar(r,m,c)?Rs(r,m+1,f?l.call(f,c):l(c)):Of(r,m+1)}(c,kn(),i,f.transform,o,f):f.transform(o))}function T6(r,i,o,l){const c=r+20,f=He(),m=ys(f,c);return Bs(f,Gu(f,c)?Np(f,kn(),i,m.transform,o,l,m):m.transform(o,l))}function Gu(r,i){return r[1].data[i].pure}function Bs(r,i){return vo.isWrapped(i)&&(i=vo.unwrap(i),r[Tt.lFrame.bindingIndex]=kt),i}function fa(r){return i=>{setTimeout(r,void 0,i)}}const ha=class extends d.xQ{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,o,l){var c,f,m;let v=i,E=o||(()=>null),T=l;if(i&&"object"==typeof i){const z=i;v=null===(c=z.next)||void 0===c?void 0:c.bind(z),E=null===(f=z.error)||void 0===f?void 0:f.bind(z),T=null===(m=z.complete)||void 0===m?void 0:m.bind(z)}this.__isAsync&&(E=fa(E),v&&(v=fa(v)),T&&(T=fa(T)));const M=super.subscribe({next:v,error:E,complete:T});return i instanceof K.w&&i.add(M),M}};function y1(){return this._results[qn()]()}class v1{constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=qn(),l=v1.prototype;l[o]||(l[o]=y1)}get changes(){return this._changes||(this._changes=new ha)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){const l=this;l.dirty=!1;const c=Zr(i);(this._changesDetected=!function(r,i,o){if(r.length!==i.length)return!1;for(let l=0;l<r.length;l++){let c=r[l],f=i[l];if(o&&(c=o(c),f=o(f)),f!==c)return!1}return!0}(l._results,c,o))&&(l._results=c,l.length=c.length,l.last=c[this.length-1],l.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class W_{constructor(i){this.queryList=i,this.matches=null}clone(){return new W_(this.queryList)}setDirty(){this.queryList.setDirty()}}class q_{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const l=null!==i.contentQueries?i.contentQueries[0]:o.length,c=[];for(let f=0;f<l;f++){const m=o.getByIndex(f);c.push(this.queries[m.indexInDeclarationView].clone())}return new q_(c)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==X_(i,o).matches&&this.queries[o].setDirty()}}class D6{constructor(i,o,l=null){this.predicate=i,this.flags=o,this.read=l}}class Z_{constructor(i=[]){this.queries=i}elementStart(i,o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let l=0;l<this.length;l++){const c=null!==o?o.length:0,f=this.getByIndex(l).embeddedTView(i,c);f&&(f.indexInDeclarationView=l,null!==o?o.push(f):o=[f])}return null!==o?new Z_(o):null}template(i,o){for(let l=0;l<this.queries.length;l++)this.queries[l].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class Y_{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new Y_(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let l=i.parent;for(;null!==l&&8&l.type&&l.index!==o;)l=l.parent;return o===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const l=this.metadata.predicate;if(Array.isArray(l))for(let c=0;c<l.length;c++){const f=l[c];this.matchTNodeWithReadOption(i,o,ds(o,f)),this.matchTNodeWithReadOption(i,o,ws(o,i,f,!1,!1))}else l===Sp?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,ws(o,i,l,!1,!1))}matchTNodeWithReadOption(i,o,l){if(null!==l){const c=this.metadata.read;if(null!==c)if(c===Wi||c===sl||c===Sp&&4&o.type)this.addMatch(o.index,-2);else{const f=ws(o,i,c,!1,!1);null!==f&&this.addMatch(o.index,f)}else this.addMatch(o.index,l)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function ds(r,i){const o=r.localNames;if(null!==o)for(let l=0;l<o.length;l+=2)if(o[l]===i)return o[l+1];return null}function Q_(r,i,o,l){return-1===o?function(r,i){return 11&r.type?Cf(r,i):4&r.type?il(r,i):null}(i,r):-2===o?function(r,i,o){return o===Wi?Cf(i,r):o===Sp?il(i,r):o===sl?a1(i,r):void 0}(r,i,l):pr(r,r[1],o,i)}function M6(r,i,o,l){const c=i[19].queries[l];if(null===c.matches){const f=r.data,m=o.matches,v=[];for(let E=0;E<m.length;E+=2){const T=m[E];v.push(T<0?null:Q_(i,f[T],m[E+1],o.metadata.read))}c.matches=v}return c.matches}function b1(r,i,o,l){const c=r.queries.getByIndex(o),f=c.matches;if(null!==f){const m=M6(r,i,c,o);for(let v=0;v<f.length;v+=2){const E=f[v];if(E>0)l.push(m[v/2]);else{const T=f[v+1],M=i[-E];for(let z=10;z<M.length;z++){const q=M[z];q[17]===q[3]&&b1(q[1],q,T,l)}if(null!==M[9]){const z=M[9];for(let q=0;q<z.length;q++){const se=z[q];b1(se[1],se,T,l)}}}}}return l}function J_(r){const i=He(),o=Lt(),l=Dl();$o(l+1);const c=X_(o,l);if(r.dirty&&Cl(i)===(2==(2&c.metadata.flags))){if(null===c.matches)r.reset([]);else{const f=c.crossesNgTemplate?b1(o,i,l,[]):M6(o,i,c,l);r.reset(f,e1),r.notifyOnChanges()}return!0}return!1}function P6(r,i,o,l){const c=Lt();if(c.firstCreatePass){const f=pn();(function(r,i,o){null===r.queries&&(r.queries=new Z_),r.queries.track(new Y_(i,o))})(c,new D6(i,o,l),f.index),function(r,i){const o=r.contentQueries||(r.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(r.queries.length-1,i)}(c,r),2==(2&o)&&(c.staticContentQueries=!0)}!function(r,i,o){const l=new v1(4==(4&o));Uv(r,i,l,l.destroy),null===i[19]&&(i[19]=new q_),i[19].queries.push(new W_(l))}(c,He(),o)}function N6(){return r=He(),i=Dl(),r[19].queries[i].queryList;var r,i}function X_(r,i){return r.queries.getByIndex(i)}function x6(r,i){return il(r,i)}const oy=new Cn("Application Initializer");let cl=(()=>{class r{constructor(o){this.appInits=o,this.resolve=bf,this.reject=bf,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,c)=>{this.resolve=l,this.reject=c})}runInitializers(){if(this.initialized)return;const o=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const f=this.appInits[c]();if(P2(f))o.push(f);else if(Im(f)){const m=new Promise((v,E)=>{f.subscribe({complete:v,error:E})});o.push(m)}}Promise.all(o).then(()=>{l()}).catch(c=>{this.reject(c)}),0===o.length&&l(),this.initialized=!0}}return r.\u0275fac=function(o){return new(o||r)(wn(oy,8))},r.\u0275prov=D({token:r,factory:r.\u0275fac}),r})();const ay=new Cn("AppId"),ul={provide:ay,useFactory:function(){return`${A1()}${A1()}${A1()}`},deps:[]};function A1(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ly=new Cn("Platform Initializer"),e8=new Cn("Platform ID"),t8=new Cn("appBootstrapListener");let n8=(()=>{class r{log(o){console.log(o)}warn(o){console.warn(o)}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=D({token:r,factory:r.\u0275fac}),r})();const D1=new Cn("LocaleId"),r8=new Cn("DefaultCurrencyCode");class uy{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}const dy=function(r){return new $_(r)},i8=dy,G5=function(r){return Promise.resolve(dy(r))},q5=function(r){const i=dy(r),l=ji(ii(r).declarations).reduce((c,f)=>{const m=Kn(f);return m&&c.push(new h6(m)),c},[]);return new uy(i,l)},s8=q5,HT=function(r){return Promise.resolve(q5(r))};let Vf=(()=>{class r{constructor(){this.compileModuleSync=i8,this.compileModuleAsync=G5,this.compileModuleAndAllComponentsSync=s8,this.compileModuleAndAllComponentsAsync=HT}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=D({token:r,factory:r.\u0275fac}),r})();const WT=(()=>Promise.resolve(0))();function a8(r){"undefined"==typeof Zone?WT.then(()=>{r&&r.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",r)}class Ki{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ha(!1),this.onMicrotaskEmpty=new ha(!1),this.onStable=new ha(!1),this.onError=new ha(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!l&&o,c.shouldCoalesceRunChangeDetection=l,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function(){let r=Mt.requestAnimationFrame,i=Mt.cancelAnimationFrame;if("undefined"!=typeof Zone&&r&&i){const o=r[Zone.__symbol__("OriginalDelegate")];o&&(r=o);const l=i[Zone.__symbol__("OriginalDelegate")];l&&(i=l)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function(r){const i=()=>{!function(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(Mt,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,hy(r),r.isCheckStableRunning=!0,P1(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),hy(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,l,c,f,m,v)=>{try{return c8(r),o.invokeTask(c,f,m,v)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||r.shouldCoalesceRunChangeDetection)&&i(),u8(r)}},onInvoke:(o,l,c,f,m,v,E)=>{try{return c8(r),o.invoke(c,f,m,v,E)}finally{r.shouldCoalesceRunChangeDetection&&i(),u8(r)}},onHasTask:(o,l,c,f)=>{o.hasTask(c,f),l===c&&("microTask"==f.change?(r._hasPendingMicrotasks=f.microTask,hy(r),P1(r)):"macroTask"==f.change&&(r.hasPendingMacrotasks=f.macroTask))},onHandleError:(o,l,c,f)=>(o.handleError(c,f),r.runOutsideAngular(()=>r.onError.emit(f)),!1)})}(c)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ki.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ki.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(i,o,l){return this._inner.run(i,o,l)}runTask(i,o,l,c){const f=this._inner,m=f.scheduleEventTask("NgZoneEvent: "+c,i,Uf,bf,bf);try{return f.runTask(m,o,l)}finally{f.cancelTask(m)}}runGuarded(i,o,l){return this._inner.runGuarded(i,o,l)}runOutsideAngular(i){return this._outer.run(i)}}const Uf={};function P1(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function hy(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function c8(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function u8(r){r._nesting--,P1(r)}class Z5{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ha,this.onMicrotaskEmpty=new ha,this.onStable=new ha,this.onError=new ha}run(i,o,l){return i.apply(o,l)}runGuarded(i,o,l){return i.apply(o,l)}runOutsideAngular(i){return i()}runTask(i,o,l,c){return i.apply(o,l)}}let d8=(()=>{class r{constructor(o){this._ngZone=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ki.assertNotInAngularZone(),a8(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())a8(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(o)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,l,c){let f=-1;l&&l>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==f),o(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:o,timeoutId:f,updateCb:c})}whenStable(o,l,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,l,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(o,l,c){return[]}}return r.\u0275fac=function(o){return new(o||r)(wn(Ki))},r.\u0275prov=D({token:r,factory:r.\u0275fac}),r})(),f8=(()=>{class r{constructor(){this._applications=new Map,py.addToWindow(this)}registerApplication(o,l){this._applications.set(o,l)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,l=!0){return py.findTestabilityInTree(this,o,l)}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=D({token:r,factory:r.\u0275fac}),r})();class Y5{addToWindow(i){}findTestabilityInTree(i,o,l){return null}}function K5(r){py=r}let py=new Y5,h8=!0,p8=!1;function gy(){return p8=!0,h8}function ZT(){if(p8)throw new Error("Cannot enable prod mode after platform setup.");h8=!1}let ga;const m8=new Cn("AllowMultipleToken");class nw{constructor(i,o){this.name=i,this.token=o}}function _8(r,i,o=[]){const l=`Platform: ${i}`,c=new Cn(l);return(f=[])=>{let m=iw();if(!m||m.injector.get(m8,!1))if(r)r(o.concat(f).concat({provide:c,useValue:!0}));else{const v=o.concat(f).concat({provide:c,useValue:!0},{provide:cm,useValue:"platform"});!function(r){if(ga&&!ga.destroyed&&!ga.injector.get(m8,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");ga=r.get(y8);const i=r.get(ly,null);i&&i.forEach(o=>o())}(Mn.create({providers:v,name:l}))}return function(r){const i=iw();if(!i)throw new Error("No platform exists!");if(!i.injector.get(r,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return i}(c)}}function iw(){return ga&&!ga.destroyed?ga:null}let y8=(()=>{class r{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,l){const v=function(r,i){let o;return o="noop"===r?new Z5:("zone.js"===r?void 0:r)||new Ki({enableLongStackTrace:gy(),shouldCoalesceEventChangeDetection:!!(null==i?void 0:i.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==i?void 0:i.ngZoneRunCoalescing)}),o}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),E=[{provide:Ki,useValue:v}];return v.run(()=>{const T=Mn.create({providers:E,parent:this.injector,name:o.moduleType.name}),M=o.create(T),z=M.injector.get(sa,null);if(!z)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return v.runOutsideAngular(()=>{const q=v.onError.subscribe({next:se=>{z.handleError(se)}});M.onDestroy(()=>{my(this._modules,M),q.unsubscribe()})}),function(r,i,o){try{const l=o();return P2(l)?l.catch(c=>{throw i.runOutsideAngular(()=>r.handleError(c)),c}):l}catch(l){throw i.runOutsideAngular(()=>r.handleError(l)),l}}(z,v,()=>{const q=M.injector.get(cl);return q.runInitializers(),q.donePromise.then(()=>(Q2(M.injector.get(D1,Bm)||Bm),this._moduleDoBootstrap(M),M))})})}bootstrapModule(o,l=[]){const c=Zu({},l);return function(r,i,o){const l=new $_(o);return Promise.resolve(l)}(0,0,o).then(f=>this.bootstrapModuleFactory(f,c))}_moduleDoBootstrap(o){const l=o.injector.get(Vp);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(c=>l.bootstrap(c));else{if(!o.instance.ngDoBootstrap)throw new Error(`The module ${$(o.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);o.instance.ngDoBootstrap(l)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o()),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(o){return new(o||r)(wn(Mn))},r.\u0275prov=D({token:r,factory:r.\u0275fac}),r})();function Zu(r,i){return Array.isArray(i)?i.reduce(Zu,r):Object.assign(Object.assign({},r),i)}let Vp=(()=>{class r{constructor(o,l,c,f,m){this._zone=o,this._injector=l,this._exceptionHandler=c,this._componentFactoryResolver=f,this._initStatus=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new B.y(T=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{T.next(this._stable),T.complete()})}),E=new B.y(T=>{let M;this._zone.runOutsideAngular(()=>{M=this._zone.onStable.subscribe(()=>{Ki.assertNotInAngularZone(),a8(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,T.next(!0))})})});const z=this._zone.onUnstable.subscribe(()=>{Ki.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{T.next(!1)}))});return()=>{M.unsubscribe(),z.unsubscribe()}});this.isStable=(0,Z.T)(v,E.pipe((0,te.B)()))}bootstrap(o,l){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let c;c=o instanceof N3?o:this._componentFactoryResolver.resolveComponentFactory(o),this.componentTypes.push(c.componentType);const f=function(r){return r.isBoundToModule}(c)?void 0:this._injector.get(qi),v=c.create(Mn.NULL,[],l||c.selector,f),E=v.location.nativeElement,T=v.injector.get(d8,null),M=T&&v.injector.get(f8);return T&&M&&M.registerApplication(E,T),v.onDestroy(()=>{this.detachView(v.hostView),my(this.components,v),M&&M.unregisterApplication(E)}),this._loadComponent(v),v}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const l=o;this._views.push(l),l.attachToAppRef(this)}detachView(o){const l=o;my(this._views,l),l.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(t8,[]).concat(this._bootstrapListeners).forEach(c=>c(o))}ngOnDestroy(){this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return r.\u0275fac=function(o){return new(o||r)(wn(Ki),wn(Mn),wn(sa),wn(_c),wn(cl))},r.\u0275prov=D({token:r,factory:r.\u0275fac}),r})();function my(r,i){const o=r.indexOf(i);o>-1&&r.splice(o,1)}class Yu{}class Bf{}const vc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let E8=(()=>{class r{constructor(o,l){this._compiler=o,this._config=l||vc}load(o){return this.loadAndCompile(o)}loadAndCompile(o){let[l,c]=o.split("#");return void 0===c&&(c="default"),F(8255)(l).then(f=>f[c]).then(f=>ni(f,l,c)).then(f=>this._compiler.compileModuleAsync(f))}loadFactory(o){let[l,c]=o.split("#"),f="NgFactory";return void 0===c&&(c="default",f=""),F(8255)(this._config.factoryPathPrefix+l+this._config.factoryPathSuffix).then(m=>m[c+f]).then(m=>ni(m,l,c))}}return r.\u0275fac=function(o){return new(o||r)(wn(Vf),wn(Bf,8))},r.\u0275prov=D({token:r,factory:r.\u0275fac}),r})();function ni(r,i,o){if(!r)throw new Error(`Cannot find '${o}' in '${i}'`);return r}const wy=function(r){return null},D8=_8(null,"core",[{provide:e8,useValue:"unknown"},{provide:y8,deps:[Mn]},{provide:f8,deps:[]},{provide:n8,deps:[]}]),U1=[{provide:Vp,useClass:Vp,deps:[Ki,Mn,sa,_c,cl]},{provide:c5,deps:[Ki],useFactory:function(r){let i=[];return r.onStable.subscribe(()=>{for(;i.length;)i.pop()()}),function(o){i.push(o)}}},{provide:cl,useClass:cl,deps:[[new ea,oy]]},{provide:Vf,useClass:Vf,deps:[]},ul,{provide:r1,useFactory:function(){return _E},deps:[]},{provide:i1,useFactory:function(){return yE},deps:[]},{provide:D1,useFactory:function(r){return Q2(r=r||"undefined"!=typeof $localize&&$localize.locale||Bm),r},deps:[[new Xo(D1),new ea,new sr]]},{provide:r8,useValue:"USD"}];let Ty=(()=>{class r{constructor(o){}}return r.\u0275fac=function(o){return new(o||r)(wn(Vp))},r.\u0275mod=Gs({type:r}),r.\u0275inj=j({providers:U1}),r})()},8939:(Ke,Ce,F)=>{"use strict";F.d(Ce,{hO:()=>oe,xv:()=>U,Dh:()=>$,GT:()=>J,cc:()=>he,on:()=>P,pX:()=>te});var d=F(7716),K=F(7841),B=F(7473);Ke=F.hmd(Ke);const Z=["ngOnDestroy"],te=(ue,_e,Te,Pe={})=>new Proxy(ue,{get:(Be,Je)=>Te.runOutsideAngular(()=>{var lt;if(ue[Je])return(null===(lt=null==Pe?void 0:Pe.spy)||void 0===lt?void 0:lt.get)&&Pe.spy.get(Je,ue[Je]),ue[Je];if(Z.indexOf(Je)>-1)return()=>{};const it=_e.toPromise().then(de=>{const we=de&&de[Je];return"function"==typeof we?we.bind(de):we&&we.then?we.then(Ne=>Te.run(()=>Ne)):Te.run(()=>we)});return new Proxy(()=>{},{get:(de,we)=>it[we],apply:(de,we,Ne)=>it.then(je=>{var Le;const et=je&&je(...Ne);return(null===(Le=null==Pe?void 0:Pe.spy)||void 0===Le?void 0:Le.apply)&&Pe.spy.apply(Je,Ne,et),et})})})}),J=(ue,_e)=>{_e.forEach(Te=>{Object.getOwnPropertyNames(Te.prototype||Te).forEach(Pe=>{Object.defineProperty(ue.prototype,Pe,Object.getOwnPropertyDescriptor(Te.prototype||Te,Pe))})})};class H{constructor(_e){return _e}}const $=new d.OlP("angularfire2.app.options"),U=new d.OlP("angularfire2.app.name");function P(ue,_e,Te){const Be="object"==typeof Te&&Te||{};Be.name=Be.name||"string"==typeof Te&&Te||"[DEFAULT]";const lt=K.Z.apps.filter(it=>it&&it.name===Be.name)[0]||_e.runOutsideAngular(()=>K.Z.initializeApp(ue,Be));try{JSON.stringify(ue)!==JSON.stringify(lt.options)&&N("error",`${lt.name} Firebase App already initialized with different options${Ke.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(it){}return new H(lt)}const N=(ue,..._e)=>{(0,d.X6Q)()&&"undefined"!=typeof console&&console[ue](..._e)},W={provide:H,useFactory:P,deps:[$,d.R0b,[new d.FiY,U]]};let oe=(()=>{class ue{constructor(Te){K.Z.registerVersion("angularfire",B.q4.full,"core"),K.Z.registerVersion("angularfire",B.q4.full,"app-compat"),K.Z.registerVersion("angular",d.q4F.full,Te.toString())}static initializeApp(Te,Pe){return{ngModule:ue,providers:[{provide:$,useValue:Te},{provide:U,useValue:Pe}]}}}return ue.\u0275fac=function(Te){return new(Te||ue)(d.LFG(d.Lbi))},ue.\u0275mod=d.oAB({type:ue}),ue.\u0275inj=d.cJS({providers:[W]}),ue})();function he(ue,_e,Te,Pe,Be){const[,Je,lt]=globalThis.\u0275AngularfireInstanceCache.find(it=>it[0]===ue)||[];if(Je)return function(ue,_e){try{return ue.toString()===_e.toString()}catch(Te){return ue===_e}}(Be,lt)||(re("error",`${_e} was already initialized on the ${Te} Firebase App with different settings.${G?" You may need to reload as Firebase is not HMR aware.":""}`),re("warn",{is:Be,was:lt})),Je;{const it=Pe();return globalThis.\u0275AngularfireInstanceCache.push([ue,it,Be]),it}}const G=!!Ke.hot,re=(ue,..._e)=>{(0,d.X6Q)()&&"undefined"!=typeof console&&console[ue](..._e)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},7473:(Ke,Ce,F)=>{"use strict";F.d(Ce,{q4:()=>Pd,iC:()=>Xn,fc:()=>Ul,HU:()=>Jc,vb:()=>Ua,JM:()=>Ui});var d=F(7716),K=F(2329),B=F(8239),Z=F(8026),te=F(3854),J=F(3910),H=F(5422),$=F(6676);const U="@firebase/installations",P="0.5.4",W=`w:${P}`,oe="FIS_v2",_e=new te.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Te(I){return I instanceof te.ZR&&I.code.includes("request-failed")}function Pe({projectId:I}){return`https://firebaseinstallations.googleapis.com/v1/projects/${I}/installations`}function Be(I){return{token:I.token,requestStatus:2,expiresIn:je(I.expiresIn),creationTime:Date.now()}}function Je(I,R){return lt.apply(this,arguments)}function lt(){return(lt=(0,B.Z)(function*(I,R){const X=(yield R.json()).error;return _e.create("request-failed",{requestName:I,serverCode:X.code,serverMessage:X.message,serverStatus:X.status})})).apply(this,arguments)}function it({apiKey:I}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I})}function de(I,{refreshToken:R}){const V=it(I);return V.append("Authorization",function(I){return`${oe} ${I}`}(R)),V}function we(I){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,B.Z)(function*(I){const R=yield I();return R.status>=500&&R.status<600?I():R})).apply(this,arguments)}function je(I){return Number(I.replace("s","000"))}function et(I,R){return w.apply(this,arguments)}function w(){return(w=(0,B.Z)(function*(I,{fid:R}){const V=Pe(I),Re={method:"POST",headers:it(I),body:JSON.stringify({fid:R,authVersion:oe,appId:I.appId,sdkVersion:W})},Ge=yield we(()=>fetch(V,Re));if(Ge.ok){const ot=yield Ge.json();return{fid:ot.fid||R,registrationStatus:2,refreshToken:ot.refreshToken,authToken:Be(ot.authToken)}}throw yield Je("Create Installation",Ge)})).apply(this,arguments)}function ne(I){return new Promise(R=>{setTimeout(R,I)})}const Se=/^[cdef][\w-]{21}$/;function Fe(){try{const I=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(I),I[0]=112+I[0]%16;const V=function(I){return function(I){return btoa(String.fromCharCode(...I)).replace(/\+/g,"-").replace(/\//g,"_")}(I).substr(0,22)}(I);return Se.test(V)?V:""}catch(I){return""}}function Qe(I){return`${I.appName}!${I.appId}`}const rt=new Map;function Xe(I,R){const V=Qe(I);j(V,R),function(I,R){const V=(!le&&"BroadcastChannel"in self&&(le=new BroadcastChannel("[Firebase] FID Change"),le.onmessage=I=>{j(I.data.key,I.data.fid)}),le);V&&V.postMessage({key:I,fid:R}),0===rt.size&&le&&(le.close(),le=null)}(V,R)}function j(I,R){const V=rt.get(I);if(V)for(const X of V)X(R)}let le=null;const ke="firebase-installations-store";let Et=null;function hn(){return Et||(Et=(0,$.openDb)("firebase-installations-database",1,I=>{switch(I.oldVersion){case 0:I.createObjectStore(ke)}})),Et}function st(I,R){return zt.apply(this,arguments)}function zt(){return(zt=(0,B.Z)(function*(I,R){const V=Qe(I),be=(yield hn()).transaction(ke,"readwrite"),Re=be.objectStore(ke),Ge=yield Re.get(V);return yield Re.put(R,V),yield be.complete,(!Ge||Ge.fid!==R.fid)&&Xe(I,R.fid),R})).apply(this,arguments)}function rr(I){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,B.Z)(function*(I){const R=Qe(I),X=(yield hn()).transaction(ke,"readwrite");yield X.objectStore(ke).delete(R),yield X.complete})).apply(this,arguments)}function Ct(I,R){return wt.apply(this,arguments)}function wt(){return(wt=(0,B.Z)(function*(I,R){const V=Qe(I),be=(yield hn()).transaction(ke,"readwrite"),Re=be.objectStore(ke),Ge=yield Re.get(V),ot=R(Ge);return void 0===ot?yield Re.delete(V):yield Re.put(ot,V),yield be.complete,ot&&(!Ge||Ge.fid!==ot.fid)&&Xe(I,ot.fid),ot})).apply(this,arguments)}function Ht(I){return $t.apply(this,arguments)}function $t(){return($t=(0,B.Z)(function*(I){let R;const V=yield Ct(I,X=>{const be=Pr(X),Re=en(I,be);return R=Re.registrationPromise,Re.installationEntry});return""===V.fid?{installationEntry:yield R}:{installationEntry:V,registrationPromise:R}})).apply(this,arguments)}function Pr(I){return Mt(I||{fid:Fe(),registrationStatus:0})}function en(I,R){if(0===R.registrationStatus){if(!navigator.onLine)return{installationEntry:R,registrationPromise:Promise.reject(_e.create("app-offline"))};const V={fid:R.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:V,registrationPromise:function(I,R){return vt.apply(this,arguments)}(I,V)}}return 1===R.registrationStatus?{installationEntry:R,registrationPromise:Dc(I)}:{installationEntry:R}}function vt(){return(vt=(0,B.Z)(function*(I,R){try{return st(I,yield et(I,R))}catch(V){throw Te(V)&&409===V.customData.serverCode?yield rr(I):yield st(I,{fid:R.fid,registrationStatus:0}),V}})).apply(this,arguments)}function Dc(I){return hs.apply(this,arguments)}function hs(){return(hs=(0,B.Z)(function*(I){let R=yield sn(I);for(;1===R.registrationStatus;)yield ne(100),R=yield sn(I);if(0===R.registrationStatus){const{installationEntry:V,registrationPromise:X}=yield Ht(I);return X||V}return R})).apply(this,arguments)}function sn(I){return Ct(I,R=>{if(!R)throw _e.create("installation-not-found");return Mt(R)})}function Mt(I){return function(I){return 1===I.registrationStatus&&I.registrationTime+1e4<Date.now()}(I)?{fid:I.fid,registrationStatus:0}:I}function Rc(I,R){return fe.apply(this,arguments)}function fe(){return(fe=(0,B.Z)(function*({appConfig:I,platformLoggerProvider:R},V){const X=ie(I,V),be=de(I,V),Re=R.getImmediate({optional:!0});Re&&be.append("x-firebase-client",Re.getPlatformInfoString());const ot={method:"POST",headers:be,body:JSON.stringify({installation:{sdkVersion:W}})},dt=yield we(()=>fetch(X,ot));if(dt.ok)return Be(yield dt.json());throw yield Je("Generate Auth Token",dt)})).apply(this,arguments)}function ie(I,{fid:R}){return`${Pe(I)}/${R}/authTokens:generate`}function ge(I){return ze.apply(this,arguments)}function ze(){return(ze=(0,B.Z)(function*(I,R=!1){let V;const X=yield Ct(I.appConfig,Re=>{if(!Nn(Re))throw _e.create("not-registered");const Ge=Re.authToken;if(!R&&_r(Ge))return Re;if(1===Ge.requestStatus)return V=Ae(I,R),Re;{if(!navigator.onLine)throw _e.create("app-offline");const ot=cr(Re);return V=Jt(I,ot),ot}});return V?yield V:X.authToken})).apply(this,arguments)}function Ae(I,R){return ct.apply(this,arguments)}function ct(){return(ct=(0,B.Z)(function*(I,R){let V=yield Pt(I.appConfig);for(;1===V.authToken.requestStatus;)yield ne(100),V=yield Pt(I.appConfig);const X=V.authToken;return 0===X.requestStatus?ge(I,R):X})).apply(this,arguments)}function Pt(I){return Ct(I,R=>{if(!Nn(R))throw _e.create("not-registered");return function(I){return 1===I.requestStatus&&I.requestTime+1e4<Date.now()}(R.authToken)?Object.assign(Object.assign({},R),{authToken:{requestStatus:0}}):R})}function Jt(I,R){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,B.Z)(function*(I,R){try{const V=yield Rc(I,R),X=Object.assign(Object.assign({},R),{authToken:V});return yield st(I.appConfig,X),V}catch(V){if(!Te(V)||401!==V.customData.serverCode&&404!==V.customData.serverCode){const X=Object.assign(Object.assign({},R),{authToken:{requestStatus:0}});yield st(I.appConfig,X)}else yield rr(I.appConfig);throw V}})).apply(this,arguments)}function Nn(I){return void 0!==I&&2===I.registrationStatus}function _r(I){return 2===I.requestStatus&&!function(I){const R=Date.now();return R<I.creationTime||I.creationTime+I.expiresIn<R+36e5}(I)}function cr(I){const R={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},I),{authToken:R})}function Gs(){return(Gs=(0,B.Z)(function*(I){const R=I,{installationEntry:V,registrationPromise:X}=yield Ht(R.appConfig);return X?X.catch(console.error):ge(R).catch(console.error),V.fid})).apply(this,arguments)}function Ws(){return(Ws=(0,B.Z)(function*(I,R=!1){const V=I;return yield Mc(V.appConfig),(yield ge(V,R)).token})).apply(this,arguments)}function Mc(I){return ri.apply(this,arguments)}function ri(){return(ri=(0,B.Z)(function*(I){const{registrationPromise:R}=yield Ht(I);R&&(yield R)})).apply(this,arguments)}function ln(I){return _e.create("missing-app-config-values",{valueName:I})}const Or="installations";(0,Z._registerComponent)(new J.wA(Or,I=>{const R=I.getProvider("app").getImmediate();return{app:R,appConfig:function(I){if(!I||!I.options)throw ln("App Configuration");if(!I.name)throw ln("App Name");const R=["projectId","apiKey","appId"];for(const V of R)if(!I.options[V])throw ln(V);return{appName:I.name,projectId:I.options.projectId,apiKey:I.options.apiKey,appId:I.options.appId}}(R),platformLoggerProvider:(0,Z._getProvider)(R,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,Z._registerComponent)(new J.wA("installations-internal",I=>{const R=I.getProvider("app").getImmediate(),V=(0,Z._getProvider)(R,Or).getImmediate();return{getId:()=>function(I){return Gs.apply(this,arguments)}(V),getToken:be=>function(I){return Ws.apply(this,arguments)}(V,be)}},"PRIVATE")),(0,Z.registerVersion)(U,P),(0,Z.registerVersion)(U,P,"esm2017");const $r="@firebase/remote-config",ir=new te.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class _l{constructor(R,V,X,be){this.client=R,this.storage=V,this.storageCache=X,this.logger=be}isCachedDataFresh(R,V){if(!V)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const X=Date.now()-V,be=X<=R;return this.logger.debug(`Config fetch cache check. Cache age millis: ${X}. Cache max age millis (minimumFetchIntervalMillis setting): ${R}. Is cache hit: ${be}.`),be}fetch(R){var V=this;return(0,B.Z)(function*(){const[X,be]=yield Promise.all([V.storage.getLastSuccessfulFetchTimestampMillis(),V.storage.getLastSuccessfulFetchResponse()]);if(be&&V.isCachedDataFresh(R.cacheMaxAgeMillis,X))return be;R.eTag=be&&be.eTag;const Re=yield V.client.fetch(R),Ge=[V.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Re.status&&Ge.push(V.storage.setLastSuccessfulFetchResponse(Re)),yield Promise.all(Ge),Re})()}}function vi(I=navigator){return I.languages&&I.languages[0]||I.language}class bi{constructor(R,V,X,be,Re,Ge){this.firebaseInstallations=R,this.sdkVersion=V,this.namespace=X,this.projectId=be,this.apiKey=Re,this.appId=Ge}fetch(R){var V=this;return(0,B.Z)(function*(){const[X,be]=yield Promise.all([V.firebaseInstallations.getId(),V.firebaseInstallations.getToken()]),Ge=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${V.projectId}/namespaces/${V.namespace}:fetch?key=${V.apiKey}`,ot={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":R.eTag||"*"},dt={sdk_version:V.sdkVersion,app_instance_id:X,app_instance_id_token:be,app_id:V.appId,language_code:vi()},Zt={method:"POST",headers:ot,body:JSON.stringify(dt)},dn=fetch(Ge,Zt),Un=new Promise((Ti,Si)=>{R.signal.addEventListener(()=>{const Dt=new Error("The operation was aborted.");Dt.name="AbortError",Si(Dt)})});let Lr;try{yield Promise.race([dn,Un]),Lr=yield dn}catch(Ti){let Si="fetch-client-network";throw"AbortError"===Ti.name&&(Si="fetch-timeout"),ir.create(Si,{originalErrorMessage:Ti.message})}let er=Lr.status;const Bl=Lr.headers.get("ETag")||void 0;let oo,jl;if(200===Lr.status){let Ti;try{Ti=yield Lr.json()}catch(Si){throw ir.create("fetch-client-parse",{originalErrorMessage:Si.message})}oo=Ti.entries,jl=Ti.state}if("INSTANCE_STATE_UNSPECIFIED"===jl?er=500:"NO_CHANGE"===jl?er=304:("NO_TEMPLATE"===jl||"EMPTY_CONFIG"===jl)&&(oo={}),304!==er&&200!==er)throw ir.create("fetch-status",{httpStatus:er});return{status:er,eTag:Bl,config:oo}})()}}class Nc{constructor(R,V){this.client=R,this.storage=V}fetch(R){var V=this;return(0,B.Z)(function*(){const X=(yield V.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return V.attemptFetch(R,X)})()}attemptFetch(R,{throttleEndTimeMillis:V,backoffCount:X}){var be=this;return(0,B.Z)(function*(){yield function(I,R){return new Promise((V,X)=>{const be=Math.max(R-Date.now(),0),Re=setTimeout(V,be);I.addEventListener(()=>{clearTimeout(Re),X(ir.create("fetch-throttle",{throttleEndTimeMillis:R}))})})}(R.signal,V);try{const Re=yield be.client.fetch(R);return yield be.storage.deleteThrottleMetadata(),Re}catch(Re){if(!function(I){if(!(I instanceof te.ZR&&I.customData))return!1;const R=Number(I.customData.httpStatus);return 429===R||500===R||503===R||504===R}(Re))throw Re;const Ge={throttleEndTimeMillis:Date.now()+(0,te.$s)(X),backoffCount:X+1};return yield be.storage.setThrottleMetadata(Ge),be.attemptFetch(R,Ge)}})()}}class ag{constructor(R,V,X,be,Re){this.app=R,this._client=V,this._storageCache=X,this._storage=be,this._logger=Re,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ba(I,R){const V=I.target.error||void 0;return ir.create(R,{originalErrorMessage:V&&V.message})}const Lo="app_namespace_store";class lg{constructor(R,V,X,be=function(){return new Promise((I,R)=>{try{const V=indexedDB.open("firebase_remote_config",1);V.onerror=X=>{R(ba(X,"storage-open"))},V.onsuccess=X=>{I(X.target.result)},V.onupgradeneeded=X=>{const be=X.target.result;switch(X.oldVersion){case 0:be.createObjectStore(Lo,{keyPath:"compositeKey"})}}}catch(V){R(ir.create("storage-open",{originalErrorMessage:V}))}})}()){this.appId=R,this.appName=V,this.namespace=X,this.openDbPromise=be}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(R){return this.set("last_fetch_status",R)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(R){return this.set("last_successful_fetch_timestamp_millis",R)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(R){return this.set("last_successful_fetch_response",R)}getActiveConfig(){return this.get("active_config")}setActiveConfig(R){return this.set("active_config",R)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(R){return this.set("active_config_etag",R)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(R){return this.set("throttle_metadata",R)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(R){var V=this;return(0,B.Z)(function*(){const X=yield V.openDbPromise;return new Promise((be,Re)=>{const ot=X.transaction([Lo],"readonly").objectStore(Lo),dt=V.createCompositeKey(R);try{const Zt=ot.get(dt);Zt.onerror=dn=>{Re(ba(dn,"storage-get"))},Zt.onsuccess=dn=>{const Un=dn.target.result;be(Un?Un.value:void 0)}}catch(Zt){Re(ir.create("storage-get",{originalErrorMessage:Zt&&Zt.message}))}})})()}set(R,V){var X=this;return(0,B.Z)(function*(){const be=yield X.openDbPromise;return new Promise((Re,Ge)=>{const dt=be.transaction([Lo],"readwrite").objectStore(Lo),Zt=X.createCompositeKey(R);try{const dn=dt.put({compositeKey:Zt,value:V});dn.onerror=Un=>{Ge(ba(Un,"storage-set"))},dn.onsuccess=()=>{Re()}}catch(dn){Ge(ir.create("storage-set",{originalErrorMessage:dn&&dn.message}))}})})()}delete(R){var V=this;return(0,B.Z)(function*(){const X=yield V.openDbPromise;return new Promise((be,Re)=>{const ot=X.transaction([Lo],"readwrite").objectStore(Lo),dt=V.createCompositeKey(R);try{const Zt=ot.delete(dt);Zt.onerror=dn=>{Re(ba(dn,"storage-delete"))},Zt.onsuccess=()=>{be()}}catch(Zt){Re(ir.create("storage-delete",{originalErrorMessage:Zt&&Zt.message}))}})})()}createCompositeKey(R){return[this.appId,this.appName,this.namespace,R].join()}}class ud{constructor(R){this.storage=R}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var R=this;return(0,B.Z)(function*(){const V=R.storage.getLastFetchStatus(),X=R.storage.getLastSuccessfulFetchTimestampMillis(),be=R.storage.getActiveConfig(),Re=yield V;Re&&(R.lastFetchStatus=Re);const Ge=yield X;Ge&&(R.lastSuccessfulFetchTimestampMillis=Ge);const ot=yield be;ot&&(R.activeConfig=ot)})()}setLastFetchStatus(R){return this.lastFetchStatus=R,this.storage.setLastFetchStatus(R)}setLastSuccessfulFetchTimestampMillis(R){return this.lastSuccessfulFetchTimestampMillis=R,this.storage.setLastSuccessfulFetchTimestampMillis(R)}setActiveConfig(R){return this.activeConfig=R,this.storage.setActiveConfig(R)}}function xc(){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,B.Z)(function*(){if(!(0,te.hl)())return!1;try{return yield(0,te.eu)()}catch(I){return!1}})).apply(this,arguments)}(0,Z._registerComponent)(new J.wA("remote-config",function(R,{instanceIdentifier:V}){const X=R.getProvider("app").getImmediate(),be=R.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw ir.create("registration-window");if(!(0,te.hl)())throw ir.create("indexed-db-unavailable");const{projectId:Re,apiKey:Ge,appId:ot}=X.options;if(!Re)throw ir.create("registration-project-id");if(!Ge)throw ir.create("registration-api-key");if(!ot)throw ir.create("registration-app-id");const dt=new lg(ot,X.name,V=V||"firebase"),Zt=new ud(dt),dn=new H.Yd($r);dn.logLevel=H.in.ERROR;const Un=new bi(be,Z.SDK_VERSION,V,Re,Ge,ot),Lr=new Nc(Un,dt),er=new _l(Lr,dt,Zt,dn),Bl=new ag(X,er,Zt,dt,dn);return function(I){const R=(0,te.m9)(I);R._initializePromise||(R._initializePromise=R._storageCache.loadFromStorage().then(()=>{R._isInitializationComplete=!0}))}(Bl),Bl},"PUBLIC").setMultipleInstances(!0)),(0,Z.registerVersion)($r,"0.3.3"),(0,Z.registerVersion)($r,"0.3.3","esm2017");const Ca="/firebase-messaging-sw.js",ug="/firebase-cloud-messaging-push-scope",Ea="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ki="google.c.a.c_id",wa="google.c.a.c_l",ai="google.c.a.ts",Ia="google.c.a.e";var br=(()=>{return(I=br||(br={})).PUSH_RECEIVED="push-received",I.NOTIFICATION_CLICKED="notification-clicked",br;var I})();function Fi(I){const R=new Uint8Array(I);return btoa(String.fromCharCode(...R)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function kc(I){const V=(I+"=".repeat((4-I.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),X=atob(V),be=new Uint8Array(X.length);for(let Re=0;Re<X.length;++Re)be[Re]=X.charCodeAt(Re);return be}const Fc="fcm_token_details_db",nh="fcm_token_object_Store";function Gr(I){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,B.Z)(function*(I){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Re=>Re.name).includes(Fc))return null;let R=null;return(yield(0,$.openDb)(Fc,5,function(){var X=(0,B.Z)(function*(be){var Re;if(be.oldVersion<2||!be.objectStoreNames.contains(nh))return;const Ge=be.transaction.objectStore(nh),ot=yield Ge.index("fcmSenderId").get(I);if(yield Ge.clear(),ot)if(2===be.oldVersion){const dt=ot;if(!dt.auth||!dt.p256dh||!dt.endpoint)return;R={token:dt.fcmToken,createTime:null!==(Re=dt.createTime)&&void 0!==Re?Re:Date.now(),subscriptionOptions:{auth:dt.auth,p256dh:dt.p256dh,endpoint:dt.endpoint,swScope:dt.swScope,vapidKey:"string"==typeof dt.vapidKey?dt.vapidKey:Fi(dt.vapidKey)}}}else if(3===be.oldVersion){const dt=ot;R={token:dt.fcmToken,createTime:dt.createTime,subscriptionOptions:{auth:Fi(dt.auth),p256dh:Fi(dt.p256dh),endpoint:dt.endpoint,swScope:dt.swScope,vapidKey:Fi(dt.vapidKey)}}}else if(4===be.oldVersion){const dt=ot;R={token:dt.fcmToken,createTime:dt.createTime,subscriptionOptions:{auth:Fi(dt.auth),p256dh:Fi(dt.p256dh),endpoint:dt.endpoint,swScope:dt.swScope,vapidKey:Fi(dt.vapidKey)}}}});return function(be){return X.apply(this,arguments)}}())).close(),yield(0,$.deleteDb)(Fc),yield(0,$.deleteDb)("fcm_vapid_details_db"),yield(0,$.deleteDb)("undefined"),hd(R)?R:null})).apply(this,arguments)}function hd(I){if(!I||!I.subscriptionOptions)return!1;const{subscriptionOptions:R}=I;return"number"==typeof I.createTime&&I.createTime>0&&"string"==typeof I.token&&I.token.length>0&&"string"==typeof R.auth&&R.auth.length>0&&"string"==typeof R.p256dh&&R.p256dh.length>0&&"string"==typeof R.endpoint&&R.endpoint.length>0&&"string"==typeof R.swScope&&R.swScope.length>0&&"string"==typeof R.vapidKey&&R.vapidKey.length>0}const ms="firebase-messaging-store";let pd=null;function un(){return pd||(pd=(0,$.openDb)("firebase-messaging-database",1,I=>{switch(I.oldVersion){case 0:I.createObjectStore(ms)}})),pd}function gd(I){return Li.apply(this,arguments)}function Li(){return(Li=(0,B.Z)(function*(I){const R=Ks(I),X=yield(yield un()).transaction(ms).objectStore(ms).get(R);if(X)return X;{const be=yield Gr(I.appConfig.senderId);if(be)return yield Ci(I,be),be}})).apply(this,arguments)}function Ci(I,R){return nn.apply(this,arguments)}function nn(){return(nn=(0,B.Z)(function*(I,R){const V=Ks(I),be=(yield un()).transaction(ms,"readwrite");return yield be.objectStore(ms).put(R,V),yield be.complete,R})).apply(this,arguments)}function Bo(I){return bl.apply(this,arguments)}function bl(){return(bl=(0,B.Z)(function*(I){const R=Ks(I),X=(yield un()).transaction(ms,"readwrite");yield X.objectStore(ms).delete(R),yield X.complete})).apply(this,arguments)}function Ks({appConfig:I}){return I.appId}const zn=new te.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function _s(I,R){return ys.apply(this,arguments)}function ys(){return(ys=(0,B.Z)(function*(I,R){const V=yield Sa(I),X=Tt(R),be={method:"POST",headers:V,body:JSON.stringify(X)};let Re;try{Re=yield(yield fetch(xn(I.appConfig),be)).json()}catch(Ge){throw zn.create("token-subscribe-failed",{errorInfo:Ge})}if(Re.error)throw zn.create("token-subscribe-failed",{errorInfo:Re.error.message});if(!Re.token)throw zn.create("token-subscribe-no-token");return Re.token})).apply(this,arguments)}function hr(I,R){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,B.Z)(function*(I,R){const V=yield Sa(I),X=Tt(R.subscriptionOptions),be={method:"PATCH",headers:V,body:JSON.stringify(X)};let Re;try{Re=yield(yield fetch(`${xn(I.appConfig)}/${R.token}`,be)).json()}catch(Ge){throw zn.create("token-update-failed",{errorInfo:Ge})}if(Re.error)throw zn.create("token-update-failed",{errorInfo:Re.error.message});if(!Re.token)throw zn.create("token-update-no-token");return Re.token})).apply(this,arguments)}function El(I,R){return vs.apply(this,arguments)}function vs(){return(vs=(0,B.Z)(function*(I,R){const X={method:"DELETE",headers:yield Sa(I)};try{const Re=yield(yield fetch(`${xn(I.appConfig)}/${R}`,X)).json();if(Re.error)throw zn.create("token-unsubscribe-failed",{errorInfo:Re.error.message})}catch(be){throw zn.create("token-unsubscribe-failed",{errorInfo:be})}})).apply(this,arguments)}function xn({projectId:I}){return`https://fcmregistrations.googleapis.com/v1/projects/${I}/registrations`}function Sa(I){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,B.Z)(function*({appConfig:I,installations:R}){const V=yield R.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I.apiKey,"x-goog-firebase-installations-auth":`FIS ${V}`})})).apply(this,arguments)}function Tt({p256dh:I,auth:R,endpoint:V,vapidKey:X}){const be={web:{endpoint:V,auth:R,p256dh:I}};return X!==Ea&&(be.web.applicationPubKey=X),be}const wl=6048e5;function md(I){return Il.apply(this,arguments)}function Il(){return(Il=(0,B.Z)(function*(I){const R=yield Tl(I.swRegistration,I.vapidKey),V={vapidKey:I.vapidKey,swScope:I.swRegistration.scope,endpoint:R.endpoint,auth:Fi(R.getKey("auth")),p256dh:Fi(R.getKey("p256dh"))},X=yield gd(I.firebaseDependencies);if(X){if(Sl(X.subscriptionOptions,V))return Date.now()>=X.createTime+wl?Lc(I,{token:X.token,createTime:Date.now(),subscriptionOptions:V}):X.token;try{yield El(I.firebaseDependencies,X.token)}catch(be){console.warn(be)}return He(I.firebaseDependencies,V)}return He(I.firebaseDependencies,V)})).apply(this,arguments)}function _d(I){return Da.apply(this,arguments)}function Da(){return(Da=(0,B.Z)(function*(I){const R=yield gd(I.firebaseDependencies);R&&(yield El(I.firebaseDependencies,R.token),yield Bo(I.firebaseDependencies));const V=yield I.swRegistration.pushManager.getSubscription();return!V||V.unsubscribe()})).apply(this,arguments)}function Lc(I,R){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,B.Z)(function*(I,R){try{const V=yield hr(I.firebaseDependencies,R),X=Object.assign(Object.assign({},R),{token:V,createTime:Date.now()});return yield Ci(I.firebaseDependencies,X),V}catch(V){throw yield _d(I),V}})).apply(this,arguments)}function He(I,R){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,B.Z)(function*(I,R){const X={token:yield _s(I,R),createTime:Date.now(),subscriptionOptions:R};return yield Ci(I,X),X.token})).apply(this,arguments)}function Tl(I,R){return pn.apply(this,arguments)}function pn(){return(pn=(0,B.Z)(function*(I,R){return(yield I.pushManager.getSubscription())||I.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:kc(R)})})).apply(this,arguments)}function Sl(I,R){return R.vapidKey===I.vapidKey&&R.endpoint===I.endpoint&&R.auth===I.auth&&R.p256dh===I.p256dh}function Vi(I){const R={from:I.from,collapseKey:I.collapse_key,messageId:I.fcm_message_id};return function(I,R){if(!R.notification)return;I.notification={};const V=R.notification.title;V&&(I.notification.title=V);const X=R.notification.body;X&&(I.notification.body=X);const be=R.notification.image;be&&(I.notification.image=be)}(R,I),function(I,R){!R.data||(I.data=R.data)}(R,I),function(I,R){if(!R.fcmOptions)return;I.fcmOptions={};const V=R.fcmOptions.link;V&&(I.fcmOptions.link=V);const X=R.fcmOptions.analytics_label;X&&(I.fcmOptions.analyticsLabel=X)}(R,I),R}function yd(I){return"object"==typeof I&&!!I&&ki in I}function Vc(I,R){const V=[];for(let X=0;X<I.length;X++)V.push(I.charAt(X)),X<R.length&&V.push(R.charAt(X));return V.join("")}function Ho(I){return zn.create("missing-app-config-values",{valueName:I})}Vc("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Vc("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class kn{constructor(R,V,X){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const be=function(I){if(!I||!I.options)throw Ho("App Configuration Object");if(!I.name)throw Ho("App Name");const R=["projectId","apiKey","appId","messagingSenderId"],{options:V}=I;for(const X of R)if(!V[X])throw Ho(X);return{appName:I.name,projectId:V.projectId,apiKey:V.apiKey,appId:V.appId,senderId:V.messagingSenderId}}(R);this.firebaseDependencies={app:R,appConfig:be,installations:V,analyticsProvider:X}}_delete(){return Promise.resolve()}}function li(I){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,B.Z)(function*(I){try{I.swRegistration=yield navigator.serviceWorker.register(Ca,{scope:ug}),I.swRegistration.update().catch(()=>{})}catch(R){throw zn.create("failed-service-worker-registration",{browserErrorMessage:R.message})}})).apply(this,arguments)}function ci(I,R){return Er.apply(this,arguments)}function Er(){return(Er=(0,B.Z)(function*(I,R){if(!R&&!I.swRegistration&&(yield li(I)),R||!I.swRegistration){if(!(R instanceof ServiceWorkerRegistration))throw zn.create("invalid-sw-registration");I.swRegistration=R}})).apply(this,arguments)}function Uc(I,R){return Al.apply(this,arguments)}function Al(){return(Al=(0,B.Z)(function*(I,R){R?I.vapidKey=R:I.vapidKey||(I.vapidKey=Ea)})).apply(this,arguments)}function Bc(){return(Bc=(0,B.Z)(function*(I,R){if(!navigator)throw zn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw zn.create("permission-blocked");return yield Uc(I,null==R?void 0:R.vapidKey),yield ci(I,null==R?void 0:R.serviceWorkerRegistration),md(I)})).apply(this,arguments)}function Na(I,R,V){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,B.Z)(function*(I,R,V){const X=Dl(R);(yield I.firebaseDependencies.analyticsProvider.get()).logEvent(X,{message_id:V[ki],message_name:V[wa],message_time:V[ai],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Dl(I){switch(I){case br.NOTIFICATION_CLICKED:return"notification_open";case br.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Go(){return(Go=(0,B.Z)(function*(I,R){const V=R.data;if(!V.isFirebaseMessaging)return;I.onMessageHandler&&V.messageType===br.PUSH_RECEIVED&&("function"==typeof I.onMessageHandler?I.onMessageHandler(Vi(V)):I.onMessageHandler.next(Vi(V)));const X=V.data;yd(X)&&"1"===X[Ia]&&(yield Na(I,V.messageType,X))})).apply(this,arguments)}const jc="@firebase/messaging";function Cd(){return es.apply(this,arguments)}function es(){return(es=(0,B.Z)(function*(){return"undefined"!=typeof window&&(0,te.hl)()&&(yield(0,te.eu)())&&(0,te.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,Z._registerComponent)(new J.wA("messaging",I=>{const R=new kn(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),I.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",V=>function(I,R){return Go.apply(this,arguments)}(R,V)),R},"PUBLIC")),(0,Z._registerComponent)(new J.wA("messaging-internal",I=>{const R=I.getProvider("messaging").getImmediate();return{getToken:X=>function(I,R){return Bc.apply(this,arguments)}(R,X)}},"PRIVATE")),(0,Z.registerVersion)(jc,"0.9.4"),(0,Z.registerVersion)(jc,"0.9.4","esm2017");const qo="analytics",sh="firebase_id",bs="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",xa="https://www.googletagmanager.com/gtag/js",Rn=new H.Yd("@firebase/analytics");function $c(I){return Promise.all(I.map(R=>R.catch(V=>V)))}function oh(I,R){const V=document.createElement("script");V.src=`${xa}?l=${I}&id=${R}`,V.async=!0,document.head.appendChild(V)}function Zo(I,R,V,X,be,Re){return wd.apply(this,arguments)}function wd(){return(wd=(0,B.Z)(function*(I,R,V,X,be,Re){const Ge=X[be];try{if(Ge)yield R[Ge];else{const dt=(yield $c(V)).find(Zt=>Zt.measurementId===be);dt&&(yield R[dt.appId])}}catch(ot){Rn.error(ot)}I("config",be,Re)})).apply(this,arguments)}function Yo(I,R,V,X,be){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,B.Z)(function*(I,R,V,X,be){try{let Re=[];if(be&&be.send_to){let Ge=be.send_to;Array.isArray(Ge)||(Ge=[Ge]);const ot=yield $c(V);for(const dt of Ge){const Zt=ot.find(Un=>Un.measurementId===dt),dn=Zt&&R[Zt.appId];if(!dn){Re=[];break}Re.push(dn)}}0===Re.length&&(Re=Object.values(R)),yield Promise.all(Re),I("event",X,be||{})}catch(Re){Rn.error(Re)}})).apply(this,arguments)}function hg(){const I=window.document.getElementsByTagName("script");for(const R of Object.values(I))if(R.src&&R.src.includes(xa))return R;return null}const Ei=new te.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Ml=new class{constructor(R={},V=1e3){this.throttleMetadata=R,this.intervalMillis=V}getThrottleMetadata(R){return this.throttleMetadata[R]}setThrottleMetadata(R,V){this.throttleMetadata[R]=V}deleteThrottleMetadata(R){delete this.throttleMetadata[R]}};function lh(I){return new Headers({Accept:"application/json","x-goog-api-key":I})}function qc(I){return Es.apply(this,arguments)}function Es(){return(Es=(0,B.Z)(function*(I){var R;const{appId:V,apiKey:X}=I,be={method:"GET",headers:lh(X)},Re=bs.replace("{app-id}",V),Ge=yield fetch(Re,be);if(200!==Ge.status&&304!==Ge.status){let ot="";try{const dt=yield Ge.json();(null===(R=dt.error)||void 0===R?void 0:R.message)&&(ot=dt.error.message)}catch(dt){}throw Ei.create("config-fetch-failed",{httpStatus:Ge.status,responseMessage:ot})}return Ge.json()})).apply(this,arguments)}function Td(I){return qr.apply(this,arguments)}function qr(){return(qr=(0,B.Z)(function*(I,R=Ml,V){const{appId:X,apiKey:be,measurementId:Re}=I.options;if(!X)throw Ei.create("no-app-id");if(!be){if(Re)return{measurementId:Re,appId:X};throw Ei.create("no-api-key")}const Ge=R.getThrottleMetadata(X)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ot=new ch;return setTimeout((0,B.Z)(function*(){ot.abort()}),void 0!==V?V:6e4),ka({appId:X,apiKey:be,measurementId:Re},Ge,ot,R)})).apply(this,arguments)}function ka(I,R,V){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,B.Z)(function*(I,{throttleEndTimeMillis:R,backoffCount:V},X,be=Ml){const{appId:Re,measurementId:Ge}=I;try{yield n0(X,R)}catch(ot){if(Ge)return Rn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ge} provided in the "measurementId" field in the local Firebase config. [${ot.message}]`),{appId:Re,measurementId:Ge};throw ot}try{const ot=yield qc(I);return be.deleteThrottleMetadata(Re),ot}catch(ot){if(!Sd(ot)){if(be.deleteThrottleMetadata(Re),Ge)return Rn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ge} provided in the "measurementId" field in the local Firebase config. [${ot.message}]`),{appId:Re,measurementId:Ge};throw ot}const dt=503===Number(ot.customData.httpStatus)?(0,te.$s)(V,be.intervalMillis,30):(0,te.$s)(V,be.intervalMillis),Zt={throttleEndTimeMillis:Date.now()+dt,backoffCount:V+1};return be.setThrottleMetadata(Re,Zt),Rn.debug(`Calling attemptFetch again in ${dt} millis`),ka(I,Zt,X,be)}})).apply(this,arguments)}function n0(I,R){return new Promise((V,X)=>{const be=Math.max(R-Date.now(),0),Re=setTimeout(V,be);I.addEventListener(()=>{clearTimeout(Re),X(Ei.create("fetch-throttle",{throttleEndTimeMillis:R}))})})}function Sd(I){if(!(I instanceof te.ZR&&I.customData))return!1;const R=Number(I.customData.httpStatus);return 429===R||500===R||503===R||504===R}class ch{constructor(){this.listeners=[]}addEventListener(R){this.listeners.push(R)}abort(){this.listeners.forEach(R=>R())}}function Ad(){return Pl.apply(this,arguments)}function Pl(){return(Pl=(0,B.Z)(function*(){if(!(0,te.hl)())return Rn.warn(Ei.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,te.eu)()}catch(I){return Rn.warn(Ei.create("indexeddb-unavailable",{errorInfo:I}).message),!1}return!0})).apply(this,arguments)}function Xs(){return(Xs=(0,B.Z)(function*(I,R,V,X,be,Re,Ge){var ot;const dt=Td(I);dt.then(er=>{V[er.measurementId]=er.appId,I.options.measurementId&&er.measurementId!==I.options.measurementId&&Rn.warn(`The measurement ID in the local Firebase config (${I.options.measurementId}) does not match the measurement ID fetched from the server (${er.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(er=>Rn.error(er)),R.push(dt);const Zt=Ad().then(er=>{if(er)return X.getId()}),[dn,Un]=yield Promise.all([dt,Zt]);hg()||oh(Re,dn.measurementId),be("js",new Date);const Lr=null!==(ot=null==Ge?void 0:Ge.config)&&void 0!==ot?ot:{};return Lr.origin="firebase",Lr.update=!0,null!=Un&&(Lr[sh]=Un),be("config",dn.measurementId,Lr),dn.measurementId})).apply(this,arguments)}class vn{constructor(R){this.app=R}_delete(){return delete pt[this.app.options.appId],Promise.resolve()}}let pt={},Hn=[];const Zc={};let Nl,bn,kr="dataLayer",Ol=!1;function pr(I,R,V){!function(){const I=[];if((0,te.ru)()&&I.push("This is a browser extension environment."),(0,te.zI)()||I.push("Cookies are not available."),I.length>0){const R=I.map((X,be)=>`(${be+1}) ${X}`).join(" "),V=Ei.create("invalid-analytics-context",{errorInfo:R});Rn.warn(V.message)}}();const X=I.options.appId;if(!X)throw Ei.create("no-app-id");if(!I.options.apiKey){if(!I.options.measurementId)throw Ei.create("no-api-key");Rn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${I.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=pt[X])throw Ei.create("already-exists",{id:X});if(!Ol){!function(I){let R=[];Array.isArray(window[I])?R=window[I]:window[I]=R}(kr);const{wrappedGtag:Re,gtagCore:Ge}=function(I,R,V,X,be){let Re=function(...Ge){window[X].push(arguments)};return window[be]&&"function"==typeof window[be]&&(Re=window[be]),window[be]=function(I,R,V,X){function Re(){return(Re=(0,B.Z)(function*(Ge,ot,dt){try{"event"===Ge?yield Yo(I,R,V,ot,dt):"config"===Ge?yield Zo(I,R,V,X,ot,dt):I("set",ot)}catch(Zt){Rn.error(Zt)}})).apply(this,arguments)}return function(Ge,ot,dt){return Re.apply(this,arguments)}}(Re,I,R,V),{gtagCore:Re,wrappedGtag:window[be]}}(pt,Hn,Zc,kr,"gtag");bn=Re,Nl=Ge,Ol=!0}return pt[X]=function(I,R,V,X,be,Re,Ge){return Xs.apply(this,arguments)}(I,Hn,Zc,R,Nl,kr,V),new vn(I)}function xl(){return(xl=(0,B.Z)(function*(I,R,V,X,be){if(be&&be.global)I("event",V,X);else{const Re=yield R;I("event",V,Object.assign(Object.assign({},X),{send_to:Re}))}})).apply(this,arguments)}function Ii(){return Rd.apply(this,arguments)}function Rd(){return(Rd=(0,B.Z)(function*(){if((0,te.ru)()||!(0,te.zI)()||!(0,te.hl)())return!1;try{return yield(0,te.eu)()}catch(I){return!1}})).apply(this,arguments)}const Md="@firebase/analytics";(0,Z._registerComponent)(new J.wA(qo,(R,{options:V})=>pr(R.getProvider("app").getImmediate(),R.getProvider("installations-internal").getImmediate(),V),"PUBLIC")),(0,Z._registerComponent)(new J.wA("analytics-internal",function(R){try{const V=R.getProvider(qo).getImmediate();return{logEvent:(X,be,Re)=>function(I,R,V,X){I=(0,te.m9)(I),function(I,R,V,X,be){return xl.apply(this,arguments)}(bn,pt[I.app.options.appId],R,V,X).catch(be=>Rn.error(be))}(V,X,be,Re)}}catch(V){throw Ei.create("interop-component-reg-failed",{reason:V})}},"PRIVATE")),(0,Z.registerVersion)(Md,"0.7.4"),(0,Z.registerVersion)(Md,"0.7.4","esm2017");var r0=F(7771),Ll=F(3637),_g=F(3342),Vl=F(309),yg=F(3101);const Pd=new d.GfV("7.2.0"),Kc="__angularfire_symbol__analyticsIsSupported",Ts="__angularfire_symbol__remoteConfigIsSupported",is="__angularfire_symbol__messagingIsSupported";function Ui(I,R,V){if(R){if(1===R.length)return R[0];const Re=R.filter(Ge=>Ge.app===V);if(1===Re.length)return Re[0]}return V.container.getProvider(I).getImmediate({optional:!0})}globalThis[Kc]||(globalThis[Kc]=Ii().then(I=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=I)),globalThis[is]||(globalThis[is]=Cd().then(I=>globalThis.__angularfire_symbol__messagingIsSupportedValue=I)),globalThis[Ts]||(globalThis[Ts]=xc().then(I=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=I));const Ua=(I,R)=>{const V=R?[R]:(0,K.C6)(),X=[];return V.forEach(be=>{be.container.getProvider(I).instances.forEach(Ge=>{X.includes(Ge)||X.push(Ge)})}),X};function di(){}class ss{constructor(R,V=r0.N){this.zone=R,this.delegate=V}now(){return this.delegate.now()}schedule(R,V,X){const be=this.zone;return this.delegate.schedule(function(Ge){be.runGuarded(()=>{R.apply(this,[Ge])})},V,X)}}class Od{constructor(R){this.zone=R,this.task=null}call(R,V){const X=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",di,{},di,di)),V.pipe((0,_g.b)({next:X,complete:X,error:X})).subscribe(R).add(X)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Jc=(()=>{class I{constructor(V){this.ngZone=V,this.outsideAngular=V.runOutsideAngular(()=>new ss(Zone.current)),this.insideAngular=V.run(()=>new ss(Zone.current,Ll.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return I.\u0275fac=function(V){return new(V||I)(d.LFG(d.R0b))},I.\u0275prov=d.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function io(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function Ul(I){return I.pipe((0,Vl.QV)(io().outsideAngular))}function Xn(I){return io(),function(I){return function(V){return(V=V.lift(new Od(I.ngZone))).pipe((0,yg.R)(I.outsideAngular),(0,Vl.QV)(I.insideAngular))}}(io())(I)}},3854:(Ke,Ce,F)=>{"use strict";F.d(Ce,{BH:()=>oe,LL:()=>w,ZR:()=>et,gQ:()=>ke,zI:()=>Ne,hu:()=>K,g5:()=>B,US:()=>J,tV:()=>U,h$:()=>H,$s:()=>sn,r3:()=>D,Sg:()=>he,ne:()=>Et,p$:()=>P,vZ:()=>le,ZB:()=>N,gK:()=>Ct,pd:()=>Nt,m9:()=>Rc,z$:()=>ee,GJ:()=>Xe,jU:()=>ue,ru:()=>_e,xb:()=>j,w1:()=>Be,hl:()=>de,uI:()=>G,UG:()=>re,Yr:()=>lt,b$:()=>Te,w9:()=>rt,cI:()=>Se,UI:()=>pe,xO:()=>Ye,zd:()=>mt,DV:()=>O,ug:()=>en,dS:()=>Pr,Pz:()=>xe,Dv:()=>Yn,Wj:()=>Ht,lb:()=>$t,eu:()=>we});const K=function(fe,ie){if(!fe)throw B(ie)},B=function(fe){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+fe)},Z=function(fe){const ie=[];let ge=0;for(let ze=0;ze<fe.length;ze++){let Ae=fe.charCodeAt(ze);Ae<128?ie[ge++]=Ae:Ae<2048?(ie[ge++]=Ae>>6|192,ie[ge++]=63&Ae|128):55296==(64512&Ae)&&ze+1<fe.length&&56320==(64512&fe.charCodeAt(ze+1))?(Ae=65536+((1023&Ae)<<10)+(1023&fe.charCodeAt(++ze)),ie[ge++]=Ae>>18|240,ie[ge++]=Ae>>12&63|128,ie[ge++]=Ae>>6&63|128,ie[ge++]=63&Ae|128):(ie[ge++]=Ae>>12|224,ie[ge++]=Ae>>6&63|128,ie[ge++]=63&Ae|128)}return ie},J={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(fe,ie){if(!Array.isArray(fe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ge=ie?this.byteToCharMapWebSafe_:this.byteToCharMap_,ze=[];for(let Ae=0;Ae<fe.length;Ae+=3){const ct=fe[Ae],Pt=Ae+1<fe.length,Jt=Pt?fe[Ae+1]:0,Pn=Ae+2<fe.length,Nn=Pn?fe[Ae+2]:0;let cr=(15&Jt)<<2|Nn>>6,$s=63&Nn;Pn||($s=64,Pt||(cr=64)),ze.push(ge[ct>>2],ge[(3&ct)<<4|Jt>>4],ge[cr],ge[$s])}return ze.join("")},encodeString(fe,ie){return this.HAS_NATIVE_SUPPORT&&!ie?btoa(fe):this.encodeByteArray(Z(fe),ie)},decodeString(fe,ie){return this.HAS_NATIVE_SUPPORT&&!ie?atob(fe):function(fe){const ie=[];let ge=0,ze=0;for(;ge<fe.length;){const Ae=fe[ge++];if(Ae<128)ie[ze++]=String.fromCharCode(Ae);else if(Ae>191&&Ae<224){const ct=fe[ge++];ie[ze++]=String.fromCharCode((31&Ae)<<6|63&ct)}else if(Ae>239&&Ae<365){const Pn=((7&Ae)<<18|(63&fe[ge++])<<12|(63&fe[ge++])<<6|63&fe[ge++])-65536;ie[ze++]=String.fromCharCode(55296+(Pn>>10)),ie[ze++]=String.fromCharCode(56320+(1023&Pn))}else{const ct=fe[ge++],Pt=fe[ge++];ie[ze++]=String.fromCharCode((15&Ae)<<12|(63&ct)<<6|63&Pt)}}return ie.join("")}(this.decodeStringToByteArray(fe,ie))},decodeStringToByteArray(fe,ie){this.init_();const ge=ie?this.charToByteMapWebSafe_:this.charToByteMap_,ze=[];for(let Ae=0;Ae<fe.length;){const ct=ge[fe.charAt(Ae++)],Jt=Ae<fe.length?ge[fe.charAt(Ae)]:0;++Ae;const Nn=Ae<fe.length?ge[fe.charAt(Ae)]:64;++Ae;const Qt=Ae<fe.length?ge[fe.charAt(Ae)]:64;if(++Ae,null==ct||null==Jt||null==Nn||null==Qt)throw Error();ze.push(ct<<2|Jt>>4),64!==Nn&&(ze.push(Jt<<4&240|Nn>>2),64!==Qt&&ze.push(Nn<<6&192|Qt))}return ze},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let fe=0;fe<this.ENCODED_VALS.length;fe++)this.byteToCharMap_[fe]=this.ENCODED_VALS.charAt(fe),this.charToByteMap_[this.byteToCharMap_[fe]]=fe,this.byteToCharMapWebSafe_[fe]=this.ENCODED_VALS_WEBSAFE.charAt(fe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[fe]]=fe,fe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(fe)]=fe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(fe)]=fe)}}},H=function(fe){const ie=Z(fe);return J.encodeByteArray(ie,!0)},$=function(fe){return H(fe).replace(/\./g,"")},U=function(fe){try{return J.decodeString(fe,!0)}catch(ie){console.error("base64Decode failed: ",ie)}return null};function P(fe){return N(void 0,fe)}function N(fe,ie){if(!(ie instanceof Object))return ie;switch(ie.constructor){case Date:return new Date(ie.getTime());case Object:void 0===fe&&(fe={});break;case Array:fe=[];break;default:return ie}for(const ge in ie)!ie.hasOwnProperty(ge)||!W(ge)||(fe[ge]=N(fe[ge],ie[ge]));return fe}function W(fe){return"__proto__"!==fe}class oe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ie,ge)=>{this.resolve=ie,this.reject=ge})}wrapCallback(ie){return(ge,ze)=>{ge?this.reject(ge):this.resolve(ze),"function"==typeof ie&&(this.promise.catch(()=>{}),1===ie.length?ie(ge):ie(ge,ze))}}}function he(fe,ie){if(fe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ze=ie||"demo-project",Ae=fe.iat||0,ct=fe.sub||fe.user_id;if(!ct)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Pt=Object.assign({iss:`https://securetoken.google.com/${ze}`,aud:ze,iat:Ae,exp:Ae+3600,auth_time:Ae,sub:ct,user_id:ct,firebase:{sign_in_provider:"custom",identities:{}}},fe);return[$(JSON.stringify({alg:"none",type:"JWT"})),$(JSON.stringify(Pt)),""].join(".")}function ee(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function G(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ee())}function re(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(fe){return!1}}function ue(){return"object"==typeof self&&self.self===self}function _e(){const fe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof fe&&void 0!==fe.id}function Te(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Be(){const fe=ee();return fe.indexOf("MSIE ")>=0||fe.indexOf("Trident/")>=0}function lt(){return!1}function de(){return"object"==typeof indexedDB}function we(){return new Promise((fe,ie)=>{try{let ge=!0;const ze="validate-browser-context-for-indexeddb-analytics-module",Ae=self.indexedDB.open(ze);Ae.onsuccess=()=>{Ae.result.close(),ge||self.indexedDB.deleteDatabase(ze),fe(!0)},Ae.onupgradeneeded=()=>{ge=!1},Ae.onerror=()=>{var ct;ie((null===(ct=Ae.error)||void 0===ct?void 0:ct.message)||"")}}catch(ge){ie(ge)}})}function Ne(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class et extends Error{constructor(ie,ge,ze){super(ge),this.code=ie,this.customData=ze,this.name="FirebaseError",Object.setPrototypeOf(this,et.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,w.prototype.create)}}class w{constructor(ie,ge,ze){this.service=ie,this.serviceName=ge,this.errors=ze}create(ie,...ge){const ze=ge[0]||{},Ae=`${this.service}/${ie}`,ct=this.errors[ie],Pt=ct?function(fe,ie){return fe.replace(ce,(ge,ze)=>{const Ae=ie[ze];return null!=Ae?String(Ae):`<${ze}?>`})}(ct,ze):"Error";return new et(Ae,`${this.serviceName}: ${Pt} (${Ae}).`,ze)}}const ce=/\{\$([^}]+)}/g;function Se(fe){return JSON.parse(fe)}function xe(fe){return JSON.stringify(fe)}const Fe=function(fe){let ie={},ge={},ze={},Ae="";try{const ct=fe.split(".");ie=Se(U(ct[0])||""),ge=Se(U(ct[1])||""),Ae=ct[2],ze=ge.d||{},delete ge.d}catch(ct){}return{header:ie,claims:ge,data:ze,signature:Ae}},rt=function(fe){const ge=Fe(fe).claims;return!!ge&&"object"==typeof ge&&ge.hasOwnProperty("iat")},Xe=function(fe){const ie=Fe(fe).claims;return"object"==typeof ie&&!0===ie.admin};function D(fe,ie){return Object.prototype.hasOwnProperty.call(fe,ie)}function O(fe,ie){if(Object.prototype.hasOwnProperty.call(fe,ie))return fe[ie]}function j(fe){for(const ie in fe)if(Object.prototype.hasOwnProperty.call(fe,ie))return!1;return!0}function pe(fe,ie,ge){const ze={};for(const Ae in fe)Object.prototype.hasOwnProperty.call(fe,Ae)&&(ze[Ae]=ie.call(ge,fe[Ae],Ae,fe));return ze}function le(fe,ie){if(fe===ie)return!0;const ge=Object.keys(fe),ze=Object.keys(ie);for(const Ae of ge){if(!ze.includes(Ae))return!1;const ct=fe[Ae],Pt=ie[Ae];if(ve(ct)&&ve(Pt)){if(!le(ct,Pt))return!1}else if(ct!==Pt)return!1}for(const Ae of ze)if(!ge.includes(Ae))return!1;return!0}function ve(fe){return null!==fe&&"object"==typeof fe}function Ye(fe){const ie=[];for(const[ge,ze]of Object.entries(fe))Array.isArray(ze)?ze.forEach(Ae=>{ie.push(encodeURIComponent(ge)+"="+encodeURIComponent(Ae))}):ie.push(encodeURIComponent(ge)+"="+encodeURIComponent(ze));return ie.length?"&"+ie.join("&"):""}function mt(fe){const ie={};return fe.replace(/^\?/,"").split("&").forEach(ze=>{if(ze){const[Ae,ct]=ze.split("=");ie[decodeURIComponent(Ae)]=decodeURIComponent(ct)}}),ie}function Nt(fe){const ie=fe.indexOf("?");if(!ie)return"";const ge=fe.indexOf("#",ie);return fe.substring(ie,ge>0?ge:void 0)}class ke{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let ie=1;ie<this.blockSize;++ie)this.pad_[ie]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(ie,ge){ge||(ge=0);const ze=this.W_;if("string"==typeof ie)for(let Qt=0;Qt<16;Qt++)ze[Qt]=ie.charCodeAt(ge)<<24|ie.charCodeAt(ge+1)<<16|ie.charCodeAt(ge+2)<<8|ie.charCodeAt(ge+3),ge+=4;else for(let Qt=0;Qt<16;Qt++)ze[Qt]=ie[ge]<<24|ie[ge+1]<<16|ie[ge+2]<<8|ie[ge+3],ge+=4;for(let Qt=16;Qt<80;Qt++){const cr=ze[Qt-3]^ze[Qt-8]^ze[Qt-14]^ze[Qt-16];ze[Qt]=4294967295&(cr<<1|cr>>>31)}let Nn,_r,Ae=this.chain_[0],ct=this.chain_[1],Pt=this.chain_[2],Jt=this.chain_[3],Pn=this.chain_[4];for(let Qt=0;Qt<80;Qt++){Qt<40?Qt<20?(Nn=Jt^ct&(Pt^Jt),_r=1518500249):(Nn=ct^Pt^Jt,_r=1859775393):Qt<60?(Nn=ct&Pt|Jt&(ct|Pt),_r=2400959708):(Nn=ct^Pt^Jt,_r=3395469782);const cr=(Ae<<5|Ae>>>27)+Nn+Pn+_r+ze[Qt]&4294967295;Pn=Jt,Jt=Pt,Pt=4294967295&(ct<<30|ct>>>2),ct=Ae,Ae=cr}this.chain_[0]=this.chain_[0]+Ae&4294967295,this.chain_[1]=this.chain_[1]+ct&4294967295,this.chain_[2]=this.chain_[2]+Pt&4294967295,this.chain_[3]=this.chain_[3]+Jt&4294967295,this.chain_[4]=this.chain_[4]+Pn&4294967295}update(ie,ge){if(null==ie)return;void 0===ge&&(ge=ie.length);const ze=ge-this.blockSize;let Ae=0;const ct=this.buf_;let Pt=this.inbuf_;for(;Ae<ge;){if(0===Pt)for(;Ae<=ze;)this.compress_(ie,Ae),Ae+=this.blockSize;if("string"==typeof ie){for(;Ae<ge;)if(ct[Pt]=ie.charCodeAt(Ae),++Pt,++Ae,Pt===this.blockSize){this.compress_(ct),Pt=0;break}}else for(;Ae<ge;)if(ct[Pt]=ie[Ae],++Pt,++Ae,Pt===this.blockSize){this.compress_(ct),Pt=0;break}}this.inbuf_=Pt,this.total_+=ge}digest(){const ie=[];let ge=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let Ae=this.blockSize-1;Ae>=56;Ae--)this.buf_[Ae]=255&ge,ge/=256;this.compress_(this.buf_);let ze=0;for(let Ae=0;Ae<5;Ae++)for(let ct=24;ct>=0;ct-=8)ie[ze]=this.chain_[Ae]>>ct&255,++ze;return ie}}function Et(fe,ie){const ge=new hn(fe,ie);return ge.subscribe.bind(ge)}class hn{constructor(ie,ge){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ge,this.task.then(()=>{ie(this)}).catch(ze=>{this.error(ze)})}next(ie){this.forEachObserver(ge=>{ge.next(ie)})}error(ie){this.forEachObserver(ge=>{ge.error(ie)}),this.close(ie)}complete(){this.forEachObserver(ie=>{ie.complete()}),this.close()}subscribe(ie,ge,ze){let Ae;if(void 0===ie&&void 0===ge&&void 0===ze)throw new Error("Missing Observer.");Ae=function(fe,ie){if("object"!=typeof fe||null===fe)return!1;for(const ge of["next","error","complete"])if(ge in fe&&"function"==typeof fe[ge])return!0;return!1}(ie)?ie:{next:ie,error:ge,complete:ze},void 0===Ae.next&&(Ae.next=rr),void 0===Ae.error&&(Ae.error=rr),void 0===Ae.complete&&(Ae.complete=rr);const ct=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Ae.error(this.finalError):Ae.complete()}catch(Pt){}}),this.observers.push(Ae),ct}unsubscribeOne(ie){void 0===this.observers||void 0===this.observers[ie]||(delete this.observers[ie],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ie){if(!this.finalized)for(let ge=0;ge<this.observers.length;ge++)this.sendOne(ge,ie)}sendOne(ie,ge){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ie])try{ge(this.observers[ie])}catch(ze){"undefined"!=typeof console&&console.error&&console.error(ze)}})}close(ie){this.finalized||(this.finalized=!0,void 0!==ie&&(this.finalError=ie),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rr(){}const Yn=function(fe,ie,ge,ze){let Ae;if(ze<ie?Ae="at least "+ie:ze>ge&&(Ae=0===ge?"none":"no more than "+ge),Ae)throw new Error(fe+" failed: Was called with "+ze+(1===ze?" argument.":" arguments.")+" Expects "+Ae+".")};function Ct(fe,ie){return`${fe} failed: ${ie} argument `}function Ht(fe,ie,ge,ze){if((!ze||ge)&&"function"!=typeof ge)throw new Error(Ct(fe,ie)+"must be a valid function.")}function $t(fe,ie,ge,ze){if((!ze||ge)&&("object"!=typeof ge||null===ge))throw new Error(Ct(fe,ie)+"must be a valid context object.")}const Pr=function(fe){const ie=[];let ge=0;for(let ze=0;ze<fe.length;ze++){let Ae=fe.charCodeAt(ze);if(Ae>=55296&&Ae<=56319){const ct=Ae-55296;ze++,K(ze<fe.length,"Surrogate pair missing trail surrogate."),Ae=65536+(ct<<10)+(fe.charCodeAt(ze)-56320)}Ae<128?ie[ge++]=Ae:Ae<2048?(ie[ge++]=Ae>>6|192,ie[ge++]=63&Ae|128):Ae<65536?(ie[ge++]=Ae>>12|224,ie[ge++]=Ae>>6&63|128,ie[ge++]=63&Ae|128):(ie[ge++]=Ae>>18|240,ie[ge++]=Ae>>12&63|128,ie[ge++]=Ae>>6&63|128,ie[ge++]=63&Ae|128)}return ie},en=function(fe){let ie=0;for(let ge=0;ge<fe.length;ge++){const ze=fe.charCodeAt(ge);ze<128?ie++:ze<2048?ie+=2:ze>=55296&&ze<=56319?(ie+=4,ge++):ie+=3}return ie};function sn(fe,ie=1e3,ge=2){const ze=ie*Math.pow(ge,fe),Ae=Math.round(.5*ze*(Math.random()-.5)*2);return Math.min(144e5,ze+Ae)}function Rc(fe){return fe&&fe._delegate?fe._delegate:fe}},7454:module=>{var Ce;window,Ce=function(){return function(Ke){var Ce={};function F(d){if(Ce[d])return Ce[d].exports;var K=Ce[d]={i:d,l:!1,exports:{}};return Ke[d].call(K.exports,K,K.exports,F),K.l=!0,K.exports}return F.m=Ke,F.c=Ce,F.d=function(d,K,B){F.o(d,K)||Object.defineProperty(d,K,{enumerable:!0,get:B})},F.r=function(d){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},F.t=function(d,K){if(1&K&&(d=F(d)),8&K||4&K&&"object"==typeof d&&d&&d.__esModule)return d;var B=Object.create(null);if(F.r(B),Object.defineProperty(B,"default",{enumerable:!0,value:d}),2&K&&"string"!=typeof d)for(var Z in d)F.d(B,Z,function(te){return d[te]}.bind(null,Z));return B},F.n=function(d){var K=d&&d.__esModule?function(){return d.default}:function(){return d};return F.d(K,"a",K),K},F.o=function(d,K){return Object.prototype.hasOwnProperty.call(d,K)},F.p="",F(F.s=22)}([function(Ke,Ce,F){"use strict";(function(d){function K(U){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(P){return typeof P}:function(P){return P&&"function"==typeof Symbol&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(U)}function B(U,P,N){for(var W=[],oe=0;oe<N&&P+oe<U.byteLength;oe++)W.push(U.getUint8(P+oe));return te(W)}function Z(U,P,N){for(var W=[],oe=0;oe<N&&P+oe<U.byteLength;oe+=2)W.push(U.getUint16(P+oe));return te(W)}function te(U){return U.map(function(P){return String.fromCharCode(P)}).join("")}function J(){for(var U=1;U<arguments.length;U++)for(var P in arguments[U])arguments[0][P]=arguments[U][P];return arguments[0]}function H(U,P,N){var W=!1;Object.defineProperty(U,P,{get:function(){return W||(W=!0,Object.defineProperty(U,P,{configurable:!0,enumerable:!0,value:N.apply(U),writable:!0})),U[P]},configurable:!0,enumerable:!0})}function $(U){return"undefined"!=typeof btoa?btoa(Array.prototype.reduce.call(new Uint8Array(U),function(P,N){return P+String.fromCharCode(N)},"")):void 0!==d?void 0!==K(d.from)?d.from(U).toString("base64"):new d(U).toString("base64"):void 0}F.d(Ce,"c",function(){return B}),F.d(Ce,"e",function(){return Z}),F.d(Ce,"d",function(){return te}),F.d(Ce,"f",function(){return J}),F.d(Ce,"a",function(){return H}),F.d(Ce,"b",function(){return $})}).call(this,F(10).Buffer)},function(Ke,Ce,F){"use strict";Ce.a={USE_FILE:!0,USE_PNG_FILE:!0,USE_EXIF:!0,USE_IPTC:!0,USE_XMP:!0,USE_ICC:!0,USE_MPF:!0,USE_THUMBNAIL:!0,USE_TIFF:!0,USE_JPEG:!0,USE_PNG:!0,USE_HEIC:!0,USE_WEBP:!0}},function(Ke,Ce,F){"use strict";var d=F(4),K={1:1,2:1,3:2,4:4,5:8,7:1,9:4,10:8,13:4},B={BYTE:1,ASCII:2,SHORT:3,LONG:4,RATIONAL:5,UNDEFINED:7,SLONG:9,SRATIONAL:10,IFD:13};function Z(H,$){return H.getUint8($)}function te(H,$,U){return H.getUint32($,U===d.a.LITTLE_ENDIAN)}function J(H,$,U){return H.getInt32($,U===d.a.LITTLE_ENDIAN)}Ce.a={getAsciiValue:function(H){return H.map(function($){return String.fromCharCode($)})},getByteAt:Z,getAsciiAt:function(H,$){return H.getUint8($)},getShortAt:function(H,$,U){return H.getUint16($,U===d.a.LITTLE_ENDIAN)},getLongAt:te,getRationalAt:function(H,$,U){return[te(H,$,U),te(H,$+4,U)]},getUndefinedAt:function(H,$){return Z(H,$)},getSlongAt:J,getSrationalAt:function(H,$,U){return[J(H,$,U),J(H,$+4,U)]},getIfdPointerAt:function(H,$,U){return te(H,$,U)},typeSizes:K,tagTypes:B,getTypeSize:function(H){if(void 0===B[H])throw new Error("No such type found.");return K[B[H]]}}},function(Ke,Ce,F){"use strict";function d(Z){return Z.map(function(te){return String.fromCharCode(te)}).join("")}function K(Z){if(Z.length>=8){var te=d(Z.slice(0,8));if("ASCII\0\0\0"===te)return d(Z.slice(8));if("JIS\0\0\0\0\0"===te)return"[JIS encoded text]";if("UNICODE\0"===te)return"[Unicode encoded text]";if("\0\0\0\0\0\0\0\0"===te)return"[Undefined encoding]"}return"Undefined"}function B(Z){return Z[0][0]/Z[0][1]+Z[1][0]/Z[1][1]/60+Z[2][0]/Z[2][1]/3600}F.d(Ce,"c",function(){return d}),F.d(Ce,"b",function(){return K}),F.d(Ce,"a",function(){return B})},function(Ke,Ce,F){"use strict";Ce.a={BIG_ENDIAN:19789,LITTLE_ENDIAN:18761,getByteOrder:function(d,K){if(18761===d.getUint16(K))return 18761;if(19789===d.getUint16(K))return 19789;throw new Error("Illegal byte order value. Faulty image.")}}},function(Ke,Ce,F){"use strict";function d(K){this.name="MetadataMissingError",this.message=K||"No Exif data",this.stack=(new Error).stack}d.prototype=new Error,Ce.a={MetadataMissingError:d}},function(Ke,Ce,F){"use strict";var d=F(1),K=F(0),B=F(4),Z=F(2),te={LightSource:function(w){return 1===w?"Daylight":2===w?"Fluorescent":3===w?"Tungsten (incandescent light)":4===w?"Flash":9===w?"Fine weather":10===w?"Cloudy weather":11===w?"Shade":12===w?"Daylight fluorescent (D 5700 \u2013 7100K)":13===w?"Day white fluorescent (N 4600 \u2013 5400K)":14===w?"Cool white fluorescent (W 3900 \u2013 4500K)":15===w?"White fluorescent (WW 3200 \u2013 3700K)":17===w?"Standard light A":18===w?"Standard light B":19===w?"Standard light C":20===w?"D55":21===w?"D65":22===w?"D75":23===w?"D50":24===w?"ISO studio tungsten":255===w?"Other light source":"Unknown"}},J={11:"ProcessingSoftware",254:{name:"SubfileType",description:function(w){return{0:"Full-resolution image",1:"Reduced-resolution image",2:"Single page of multi-page image",3:"Single page of multi-page reduced-resolution image",4:"Transparency mask",5:"Transparency mask of reduced-resolution image",6:"Transparency mask of multi-page image",7:"Transparency mask of reduced-resolution multi-page image",65537:"Alternate reduced-resolution image",4294967295:"Invalid"}[w]||"Unknown"}},255:{name:"OldSubfileType",description:function(w){return{0:"Full-resolution image",1:"Reduced-resolution image",2:"Single page of multi-page image"}[w]||"Unknown"}},256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",263:{name:"Thresholding",description:function(w){return{1:"No dithering or halftoning",2:"Ordered dither or halfton",3:"Randomized dither"}[w]||"Unknown"}},264:"CellWidth",265:"CellLength",266:{name:"FillOrder",description:function(w){return{1:"Normal",2:"Reversed"}[w]||"Unknown"}},269:"DocumentName",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:{name:"Orientation",description:function(w){return 1===w?"top-left":2===w?"top-right":3===w?"bottom-right":4===w?"bottom-left":5===w?"left-top":6===w?"right-top":7===w?"right-bottom":8===w?"left-bottom":"Undefined"}},277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:{name:"XResolution",description:function(w){return""+Math.round(w[0]/w[1])}},283:{name:"YResolution",description:function(w){return""+Math.round(w[0]/w[1])}},284:"PlanarConfiguration",285:"PageName",286:{name:"XPosition",description:function(w){return""+Math.round(w[0]/w[1])}},287:{name:"YPosition",description:function(w){return""+Math.round(w[0]/w[1])}},290:{name:"GrayResponseUnit",description:function(w){return{1:"0.1",2:"0.001",3:"0.0001",4:"1e-05",5:"1e-06"}[w]||"Unknown"}},296:{name:"ResolutionUnit",description:function(w){return 2===w?"inches":3===w?"centimeters":"Unknown"}},297:"PageNumber",301:"TransferFunction",305:"Software",306:"DateTime",315:"Artist",316:"HostComputer",317:"Predictor",318:{name:"WhitePoint",description:function(w){return w.map(function(ne){return"".concat(ne[0],"/").concat(ne[1])}).join(", ")}},319:{name:"PrimaryChromaticities",description:function(w){return w.map(function(ne){return"".concat(ne[0],"/").concat(ne[1])}).join(", ")}},321:"HalftoneHints",322:"TileWidth",323:"TileLength",330:"A100DataOffset",332:{name:"InkSet",description:function(w){return{1:"CMYK",2:"Not CMYK"}[w]||"Unknown"}},337:"TargetPrinter",338:{name:"ExtraSamples",description:function(w){return{0:"Unspecified",1:"Associated Alpha",2:"Unassociated Alpha"}[w]||"Unknown"}},339:{name:"SampleFormat",description:function(w){var ne={1:"Unsigned",2:"Signed",3:"Float",4:"Undefined",5:"Complex int",6:"Complex float"};return Array.isArray(w)?w.map(function(ce){return ne[ce]||"Unknown"}).join(", "):"Unknown"}},513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",529:{name:"YCbCrCoefficients",description:function(w){return w.map(function(ne){return""+ne[0]/ne[1]}).join("/")}},530:"YCbCrSubSampling",531:{name:"YCbCrPositioning",description:function(w){return 1===w?"centered":2===w?"co-sited":"undefined "+w}},532:{name:"ReferenceBlackWhite",description:function(w){return w.map(function(ne){return""+ne[0]/ne[1]}).join(", ")}},700:"ApplicationNotes",18246:"Rating",18249:"RatingPercent",33432:{name:"Copyright",description:function(w){return w.join("; ")}},33550:"PixelScale",33723:"IPTC-NAA",33920:"IntergraphMatrix",33922:"ModelTiePoint",34118:"SEMInfo",34264:"ModelTransform",34377:"PhotoshopSettings",34665:"Exif IFD Pointer",34675:"ICC_Profile",34735:"GeoTiffDirectory",34736:"GeoTiffDoubleParams",34737:"GeoTiffAsciiParams",34853:"GPS Info IFD Pointer",40091:"XPTitle",40092:"XPComment",40093:"XPAuthor",40094:"XPKeywords",40095:"XPSubject",42112:"GDALMetadata",42113:"GDALNoData",50341:"PrintIM",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50725:"ReductionMatrix1",50726:"ReductionMatrix2",50727:"AnalogBalance",50728:"AsShotNeutral",50729:"AsShotWhiteXY",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"DNGLensInfo",50739:"ShadowScale",50741:{name:"MakerNoteSafety",description:function(w){return{0:"Unsafe",1:"Safe"}[w]||"Unknown"}},50778:{name:"CalibrationIlluminant1",description:te.LightSource},50779:{name:"CalibrationIlluminant2",description:te.LightSource},50781:"RawDataUniqueID",50827:"OriginalRawFileName",50828:"OriginalRawFileData",50831:"AsShotICCProfile",50832:"AsShotPreProfileMatrix",50833:"CurrentICCProfile",50834:"CurrentPreProfileMatrix",50879:"ColorimetricReference",50885:"SRawType",50898:"PanasonicTitle",50899:"PanasonicTitle2",50931:"CameraCalibrationSig",50932:"ProfileCalibrationSig",50933:"ProfileIFD",50934:"AsShotProfileName",50936:"ProfileName",50937:"ProfileHueSatMapDims",50938:"ProfileHueSatMapData1",50939:"ProfileHueSatMapData2",50940:"ProfileToneCurve",50941:{name:"ProfileEmbedPolicy",description:function(w){return{0:"Allow Copying",1:"Embed if Used",2:"Never Embed",3:"No Restrictions"}[w]||"Unknown"}},50942:"ProfileCopyright",50964:"ForwardMatrix1",50965:"ForwardMatrix2",50966:"PreviewApplicationName",50967:"PreviewApplicationVersion",50968:"PreviewSettingsName",50969:"PreviewSettingsDigest",50970:{name:"PreviewColorSpace",description:function(w){return{1:"Gray Gamma 2.2",2:"sRGB",3:"Adobe RGB",4:"ProPhoto RGB"}[w]||"Unknown"}},50971:"PreviewDateTime",50972:"RawImageDigest",50973:"OriginalRawFileDigest",50981:"ProfileLookTableDims",50982:"ProfileLookTableData",51043:"TimeCodes",51044:"FrameRate",51058:"TStop",51081:"ReelName",51089:"OriginalDefaultFinalSize",51090:"OriginalBestQualitySize",51091:"OriginalDefaultCropSize",51105:"CameraLabel",51107:{name:"ProfileHueSatMapEncoding",description:function(w){return{0:"Linear",1:"sRGB"}[w]||"Unknown"}},51108:{name:"ProfileLookTableEncoding",description:function(w){return{0:"Linear",1:"sRGB"}[w]||"Unknown"}},51109:"BaselineExposureOffset",51110:{name:"DefaultBlackRender",description:function(w){return{0:"Auto",1:"None"}[w]||"Unknown"}},51111:"NewRawImageDigest",51112:"RawToPreviewGain"},H=F(3);function U(w,ne){(null==ne||ne>w.length)&&(ne=w.length);for(var ce=0,Se=new Array(ne);ce<ne;ce++)Se[ce]=w[ce];return Se}var P={33434:{name:"ExposureTime",description:function(w){return 0!==w[0]?"1/".concat(Math.round(w[1]/w[0])):"0/".concat(w[1])}},33437:{name:"FNumber",description:function(w){return"f/".concat(w[0]/w[1])}},34850:{name:"ExposureProgram",description:function(w){return 0===w?"Undefined":1===w?"Manual":2===w?"Normal program":3===w?"Aperture priority":4===w?"Shutter priority":5===w?"Creative program":6===w?"Action program":7===w?"Portrait mode":8===w?"Landscape mode":9===w?"Bulb":"Unknown"}},34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:{name:"OECF",description:function(){return"[Raw OECF table data]"}},34858:"TimeZoneOffset",34859:"SelfTimerMode",34864:{name:"SensitivityType",description:function(w){return{1:"Standard Output Sensitivity",2:"Recommended Exposure Index",3:"ISO Speed",4:"Standard Output Sensitivity and Recommended Exposure Index",5:"Standard Output Sensitivity and ISO Speed",6:"Recommended Exposure Index and ISO Speed",7:"Standard Output Sensitivity, Recommended Exposure Index and ISO Speed"}[w]||"Unknown"}},34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",36864:{name:"ExifVersion",description:function(w){return Object(H.c)(w)}},36867:"DateTimeOriginal",36868:"DateTimeDigitized",36873:"GooglePlusUploadCode",36880:"OffsetTime",36881:"OffsetTimeOriginal",36882:"OffsetTimeDigitized",37121:{name:"ComponentsConfiguration",description:function(w){return w.map(function(ne){return 49===ne?"Y":50===ne?"Cb":51===ne?"Cr":52===ne?"R":53===ne?"G":54===ne?"B":void 0}).join("")}},37122:"CompressedBitsPerPixel",37377:{name:"ShutterSpeedValue",description:function(w){return"1/".concat(Math.round(Math.pow(2,w[0]/w[1])))}},37378:{name:"ApertureValue",description:function(w){return Math.pow(Math.sqrt(2),w[0]/w[1]).toFixed(2)}},37379:"BrightnessValue",37380:"ExposureBiasValue",37381:{name:"MaxApertureValue",description:function(w){return Math.pow(Math.sqrt(2),w[0]/w[1]).toFixed(2)}},37382:{name:"SubjectDistance",description:function(w){return w[0]/w[1]+" m"}},37383:{name:"MeteringMode",description:function(w){return 1===w?"Average":2===w?"CenterWeightedAverage":3===w?"Spot":4===w?"MultiSpot":5===w?"Pattern":6===w?"Partial":255===w?"Other":"Unknown"}},37384:{name:"LightSource",description:te.LightSource},37385:{name:"Flash",description:function(w){return 0===w?"Flash did not fire":1===w?"Flash fired":5===w?"Strobe return light not detected":7===w?"Strobe return light detected":9===w?"Flash fired, compulsory flash mode":13===w?"Flash fired, compulsory flash mode, return light not detected":15===w?"Flash fired, compulsory flash mode, return light detected":16===w?"Flash did not fire, compulsory flash mode":24===w?"Flash did not fire, auto mode":25===w?"Flash fired, auto mode":29===w?"Flash fired, auto mode, return light not detected":31===w?"Flash fired, auto mode, return light detected":32===w?"No flash function":65===w?"Flash fired, red-eye reduction mode":69===w?"Flash fired, red-eye reduction mode, return light not detected":71===w?"Flash fired, red-eye reduction mode, return light detected":73===w?"Flash fired, compulsory flash mode, red-eye reduction mode":77===w?"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected":79===w?"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected":89===w?"Flash fired, auto mode, red-eye reduction mode":93===w?"Flash fired, auto mode, return light not detected, red-eye reduction mode":95===w?"Flash fired, auto mode, return light detected, red-eye reduction mode":"Unknown"}},37386:{name:"FocalLength",description:function(w){return w[0]/w[1]+" mm"}},37393:"ImageNumber",37394:{name:"SecurityClassification",description:function(w){return{C:"Confidential",R:"Restricted",S:"Secret",T:"Top Secret",U:"Unclassified"}[w]||"Unknown"}},37395:"ImageHistory",37396:{name:"SubjectArea",description:function(w){return 2===w.length?"Location; X: ".concat(w[0],", Y: ").concat(w[1]):3===w.length?"Circle; X: ".concat(w[0],", Y: ").concat(w[1],", diameter: ").concat(w[2]):4===w.length?"Rectangle; X: ".concat(w[0],", Y: ").concat(w[1],", width: ").concat(w[2],", height: ").concat(w[3]):"Unknown"}},37500:{name:"MakerNote",description:function(){return"[Raw maker note data]"}},37510:{name:"UserComment",description:H.b},37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",37888:{name:"AmbientTemperature",description:function(w){return w[0]/w[1]+" \xb0C"}},37889:{name:"Humidity",description:function(w){return w[0]/w[1]+" %"}},37890:{name:"Pressure",description:function(w){return w[0]/w[1]+" hPa"}},37891:{name:"WaterDepth",description:function(w){return w[0]/w[1]+" m"}},37892:{name:"Acceleration",description:function(w){return w[0]/w[1]+" mGal"}},37893:{name:"CameraElevationAngle",description:function(w){return w[0]/w[1]+" \xb0"}},40960:{name:"FlashpixVersion",description:function(w){return w.map(function(ne){return String.fromCharCode(ne)}).join("")}},40961:{name:"ColorSpace",description:function(w){return 1===w?"sRGB":65535===w?"Uncalibrated":"Unknown"}},40962:"PixelXDimension",40963:"PixelYDimension",40964:"RelatedSoundFile",40965:"Interoperability IFD Pointer",41483:"FlashEnergy",41484:{name:"SpatialFrequencyResponse",description:function(){return"[Raw SFR table data]"}},41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:{name:"FocalPlaneResolutionUnit",description:function(w){return 2===w?"inches":3===w?"centimeters":"Unknown"}},41492:{name:"SubjectLocation",description:function(w){var ne=function(w,ne){return function(ce){if(Array.isArray(ce))return ce}(w)||function(ce,Se){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(ce)){var xe=[],Fe=!0,Oe=!1,Qe=void 0;try{for(var rt,Xe=ce[Symbol.iterator]();!(Fe=(rt=Xe.next()).done)&&(xe.push(rt.value),2!==xe.length);Fe=!0);}catch(D){Oe=!0,Qe=D}finally{try{Fe||null==Xe.return||Xe.return()}finally{if(Oe)throw Qe}}return xe}}(w)||function(ce,Se){if(ce){if("string"==typeof ce)return U(ce,2);var xe=Object.prototype.toString.call(ce).slice(8,-1);if("Object"===xe&&ce.constructor&&(xe=ce.constructor.name),"Map"===xe||"Set"===xe)return Array.from(ce);if("Arguments"===xe||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(xe))return U(ce,2)}}(w)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(w),Se=ne[1];return"X: ".concat(ne[0],", Y: ").concat(Se)}},41493:"ExposureIndex",41495:{name:"SensingMethod",description:function(w){return 1===w?"Undefined":2===w?"One-chip color area sensor":3===w?"Two-chip color area sensor":4===w?"Three-chip color area sensor":5===w?"Color sequential area sensor":7===w?"Trilinear sensor":8===w?"Color sequential linear sensor":"Unknown"}},41728:{name:"FileSource",description:function(w){return 3===w?"DSC":"Unknown"}},41729:{name:"SceneType",description:function(w){return 1===w?"A directly photographed image":"Unknown"}},41730:{name:"CFAPattern",description:function(){return"[Raw CFA pattern table data]"}},41985:{name:"CustomRendered",description:function(w){return 0===w?"Normal process":1===w?"Custom process":"Unknown"}},41986:{name:"ExposureMode",description:function(w){return 0===w?"Auto exposure":1===w?"Manual exposure":2===w?"Auto bracket":"Unknown"}},41987:{name:"WhiteBalance",description:function(w){return 0===w?"Auto white balance":1===w?"Manual white balance":"Unknown"}},41988:{name:"DigitalZoomRatio",description:function(w){return 0===w[0]?"Digital zoom was not used":""+w[0]/w[1]}},41989:{name:"FocalLengthIn35mmFilm",description:function(w){return 0===w?"Unknown":w}},41990:{name:"SceneCaptureType",description:function(w){return 0===w?"Standard":1===w?"Landscape":2===w?"Portrait":3===w?"Night scene":"Unknown"}},41991:{name:"GainControl",description:function(w){return 0===w?"None":1===w?"Low gain up":2===w?"High gain up":3===w?"Low gain down":4===w?"High gain down":"Unknown"}},41992:{name:"Contrast",description:function(w){return 0===w?"Normal":1===w?"Soft":2===w?"Hard":"Unknown"}},41993:{name:"Saturation",description:function(w){return 0===w?"Normal":1===w?"Low saturation":2===w?"High saturation":"Unknown"}},41994:{name:"Sharpness",description:function(w){return 0===w?"Normal":1===w?"Soft":2===w?"Hard":"Unknown"}},41995:{name:"DeviceSettingDescription",description:function(){return"[Raw device settings table data]"}},41996:{name:"SubjectDistanceRange",description:function(w){return 1===w?"Macro":2===w?"Close view":3===w?"Distant view":"Unknown"}},42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:{name:"LensSpecification",description:function(w){var ne="".concat(w[0][0]/w[0][1],"-").concat(w[1][0]/w[1][1]," mm");return 0===w[3][1]?"".concat(ne," f/?"):"".concat(ne," f/").concat(1/(w[2][1]/w[2][1]/(w[3][0]/w[3][1])))}},42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",42080:{name:"CompositeImage",description:function(w){return{1:"Not a Composite Image",2:"General Composite Image",3:"Composite Image Captured While Shooting"}[w]||"Unknown"}},42081:"SourceImageNumberOfCompositeImage",42082:"SourceExposureTimesOfCompositeImage",42240:"Gamma",59932:"Padding",59933:"OffsetSchema",65e3:"OwnerName",65001:"SerialNumber",65002:"Lens",65100:"RawFile",65101:"Converter",65102:"WhiteBalance",65105:"Exposure",65106:"Shadows",65107:"Brightness",65108:"Contrast",65109:"Saturation",65110:"Sharpness",65111:"Smoothness",65112:"MoireFilter"};function W(w,ne){(null==ne||ne>w.length)&&(ne=w.length);for(var ce=0,Se=new Array(ne);ce<ne;ce++)Se[ce]=w[ce];return Se}var oe={0:{name:"GPSVersionID",description:function(w){return 2===w[0]&&2===w[1]&&0===w[2]&&0===w[3]?"Version 2.2":"Unknown"}},1:{name:"GPSLatitudeRef",description:function(w){var ne=w.join("");return"N"===ne?"North latitude":"S"===ne?"South latitude":"Unknown"}},2:{name:"GPSLatitude",description:H.a},3:{name:"GPSLongitudeRef",description:function(w){var ne=w.join("");return"E"===ne?"East longitude":"W"===ne?"West longitude":"Unknown"}},4:{name:"GPSLongitude",description:H.a},5:{name:"GPSAltitudeRef",description:function(w){return 0===w?"Sea level":1===w?"Sea level reference (negative value)":"Unknown"}},6:{name:"GPSAltitude",description:function(w){return w[0]/w[1]+" m"}},7:{name:"GPSTimeStamp",description:function(w){return w.map(function(ne){var ce=function(w,ne){return function(ce){if(Array.isArray(ce))return ce}(w)||function(ce,Se){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(ce)){var xe=[],Fe=!0,Oe=!1,Qe=void 0;try{for(var rt,Xe=ce[Symbol.iterator]();!(Fe=(rt=Xe.next()).done)&&(xe.push(rt.value),2!==xe.length);Fe=!0);}catch(D){Oe=!0,Qe=D}finally{try{Fe||null==Xe.return||Xe.return()}finally{if(Oe)throw Qe}}return xe}}(w)||function(ce,Se){if(ce){if("string"==typeof ce)return W(ce,2);var xe=Object.prototype.toString.call(ce).slice(8,-1);if("Object"===xe&&ce.constructor&&(xe=ce.constructor.name),"Map"===xe||"Set"===xe)return Array.from(ce);if("Arguments"===xe||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(xe))return W(ce,2)}}(w)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(ne),Se=ce[0]/ce[1];return/^\d(\.|$)/.test("".concat(Se))?"0".concat(Se):Se}).join(":")}},8:"GPSSatellites",9:{name:"GPSStatus",description:function(w){var ne=w.join("");return"A"===ne?"Measurement in progress":"V"===ne?"Measurement Interoperability":"Unknown"}},10:{name:"GPSMeasureMode",description:function(w){var ne=w.join("");return"2"===ne?"2-dimensional measurement":"3"===ne?"3-dimensional measurement":"Unknown"}},11:"GPSDOP",12:{name:"GPSSpeedRef",description:function(w){var ne=w.join("");return"K"===ne?"Kilometers per hour":"M"===ne?"Miles per hour":"N"===ne?"Knots":"Unknown"}},13:"GPSSpeed",14:{name:"GPSTrackRef",description:function(w){var ne=w.join("");return"T"===ne?"True direction":"M"===ne?"Magnetic direction":"Unknown"}},15:"GPSTrack",16:{name:"GPSImgDirectionRef",description:function(w){var ne=w.join("");return"T"===ne?"True direction":"M"===ne?"Magnetic direction":"Unknown"}},17:"GPSImgDirection",18:"GPSMapDatum",19:{name:"GPSDestLatitudeRef",description:function(w){var ne=w.join("");return"N"===ne?"North latitude":"S"===ne?"South latitude":"Unknown"}},20:{name:"GPSDestLatitude",description:function(w){return w[0][0]/w[0][1]+w[1][0]/w[1][1]/60+w[2][0]/w[2][1]/3600}},21:{name:"GPSDestLongitudeRef",description:function(w){var ne=w.join("");return"E"===ne?"East longitude":"W"===ne?"West longitude":"Unknown"}},22:{name:"GPSDestLongitude",description:function(w){return w[0][0]/w[0][1]+w[1][0]/w[1][1]/60+w[2][0]/w[2][1]/3600}},23:{name:"GPSDestBearingRef",description:function(w){var ne=w.join("");return"T"===ne?"True direction":"M"===ne?"Magnetic direction":"Unknown"}},24:"GPSDestBearing",25:{name:"GPSDestDistanceRef",description:function(w){var ne=w.join("");return"K"===ne?"Kilometers":"M"===ne?"Miles":"N"===ne?"Knots":"Unknown"}},26:"GPSDestDistance",27:{name:"GPSProcessingMethod",description:H.b},28:{name:"GPSAreaInformation",description:H.b},29:"GPSDateStamp",30:{name:"GPSDifferential",description:function(w){return 0===w?"Measurement without differential correction":1===w?"Differential correction applied":"Unknown"}},31:"GPSHPositioningError"},he={1:"InteroperabilityIndex",2:{name:"InteroperabilityVersion",description:function(w){return Object(H.c)(w)}},4096:"RelatedImageFileFormat",4097:"RelatedImageWidth",4098:"RelatedImageHeight"},ee={45056:{name:"MPFVersion",description:function(w){return Object(H.c)(w)}},45057:"NumberOfImages",45058:"MPEntry",45059:"ImageUIDList",45060:"TotalFrames"},G=Object(K.f)({},J,P),re={"0th":G,exif:G,gps:oe,interoperability:he,mpf:d.a.USE_MPF?ee:{}},ue={1:Z.a.getByteAt,2:Z.a.getAsciiAt,3:Z.a.getShortAt,4:Z.a.getLongAt,5:Z.a.getRationalAt,7:Z.a.getUndefinedAt,9:Z.a.getSlongAt,10:Z.a.getSrationalAt,13:Z.a.getIfdPointerAt};function _e(w,ne,ce){return ne+Z.a.getLongAt(w,ne+4,ce)}function Je(w,ne,ce,Se){if(Se===B.a.LITTLE_ENDIAN){for(var xe=0,Fe=0;Fe<ce;Fe++)xe+=w[ne+Fe]<<8*Fe;return xe}for(var Oe=0,Qe=0;Qe<ce;Qe++)Oe+=w[ne+Qe]<<8*(ce-1-Qe);return Oe}function lt(w){var ne=[w>>31&1,w>>30&1,w>>29&1],ce=[];return ne[0]&&ce.push("Dependent Parent Image"),ne[1]&&ce.push("Dependent Child Image"),ne[2]&&ce.push("Representative Image"),{value:ne,description:ce.join(", ")||"None"}}function it(w){var ne=w>>24&7;return{value:ne,description:0===ne?"JPEG":"Unknown"}}function de(w){var ne=16777215&w;return{value:ne,description:{196608:"Baseline MP Primary Image",65537:"Large Thumbnail (VGA equivalent)",65538:"Large Thumbnail (Full HD equivalent)",131073:"Multi-Frame Image (Panorama)",131074:"Multi-Frame Image (Disparity)",131075:"Multi-Frame Image (Multi-Angle)",0:"Undefined"}[ne]||"Unknown"}}function we(w){return 0===w}function Ne(w,ne,ce,Se,xe){var O,j,pe,Fe=Z.a.getTypeSize("SHORT"),Oe={},Qe=(O=w,pe=xe,(j=Se)+Z.a.getTypeSize("SHORT")<=O.byteLength?Z.a.getShortAt(O,j,pe):0);Se+=Fe;for(var rt=0;rt<Qe&&!(Se+12>w.byteLength);rt++){var Xe=je(w,ne,ce,Se,xe);void 0!==Xe&&(Oe[Xe.name]={id:Xe.id,value:Xe.value,description:Xe.description}),Se+=12}if(d.a.USE_THUMBNAIL&&Se<w.byteLength-Z.a.getTypeSize("LONG")){var D=Z.a.getLongAt(w,Se,xe);0!==D&&(Oe.Thumbnail=Ne(w,ne,ce,ce+D,xe))}return Oe}function je(w,ne,ce,Se,xe){var Fe,Oe=Z.a.getTypeSize("SHORT"),Qe=Oe+Z.a.getTypeSize("SHORT"),rt=Qe+Z.a.getTypeSize("LONG"),Xe=Z.a.getShortAt(w,Se,xe),D=Z.a.getShortAt(w,Se+Oe,xe),O=Z.a.getLongAt(w,Se+Qe,xe);if(void 0!==Z.a.typeSizes[D]){if(Z.a.typeSizes[D]*O<=Z.a.getTypeSize("LONG"))Fe=Le(w,Se+rt,D,O,xe);else{var j=Z.a.getLongAt(w,Se+rt,xe);Fe=ce+j+Z.a.typeSizes[D]*O<=w.byteLength?Le(w,ce+j,D,O,xe,33723===Xe):"<faulty value>"}D===Z.a.tagTypes.ASCII&&(Fe=function(ve){try{return ve.map(function(Ye){return decodeURIComponent(escape(Ye))})}catch(Ye){return ve}}(Fe=function(ve){for(var Ye=[],mt=0,Nt=0;Nt<ve.length;Nt++)"\0"!==ve[Nt]?(void 0===Ye[mt]&&(Ye[mt]=""),Ye[mt]+=ve[Nt]):mt++;return Ye}(Fe)));var pe="undefined-".concat(Xe),le=Fe;if(void 0!==re[ne][Xe])if(void 0!==re[ne][Xe].name&&void 0!==re[ne][Xe].description){pe=re[ne][Xe].name;try{le=re[ne][Xe].description(Fe)}catch(ve){le=et(Fe)}}else D===Z.a.tagTypes.RATIONAL||D===Z.a.tagTypes.SRATIONAL?(pe=re[ne][Xe],le=""+Fe[0]/Fe[1]):(pe=re[ne][Xe],le=et(Fe));return{id:Xe,name:pe,value:Fe,description:le}}}function Le(w,ne,ce,Se,xe){var Fe=arguments.length>5&&void 0!==arguments[5]&&arguments[5],Oe=[];Fe&&(Se*=Z.a.typeSizes[ce],ce=Z.a.tagTypes.BYTE);for(var Qe=0;Qe<Se;Qe++)Oe.push(ue[ce](w,ne,xe)),ne+=Z.a.typeSizes[ce];return ce===Z.a.tagTypes.ASCII?Oe=Z.a.getAsciiValue(Oe):1===Oe.length&&(Oe=Oe[0]),Oe}function et(w){return w instanceof Array?w.join(", "):w}Ce.a={read:function(w,ne){var xe,Fe,Oe,ce=B.a.getByteOrder(w,ne),Se=Ne(xe=w,"0th",Fe=ne,_e(xe,Fe,Oe=ce),Oe);return function(w,ne,ce,Se){return void 0!==w["Interoperability IFD Pointer"]?Object(K.f)(w,Ne(ne,"interoperability",ce,ce+w["Interoperability IFD Pointer"].value,Se)):w}(Se=function(w,ne,ce,Se){return void 0!==w["GPS Info IFD Pointer"]?Object(K.f)(w,Ne(ne,"gps",ce,ce+w["GPS Info IFD Pointer"].value,Se)):w}(Se=function(w,ne,ce,Se){return void 0!==w["Exif IFD Pointer"]?Object(K.f)(w,Ne(ne,"exif",ce,ce+w["Exif IFD Pointer"].value,Se)):w}(Se,w,ne,ce),w,ne,ce),w,ne,ce)},readMpf:function(w,ne){var ce=B.a.getByteOrder(w,ne);return function(xe,Fe,Oe,Qe){if(!Oe.MPEntry)return Oe;for(var rt=[],Xe=0;Xe<Math.ceil(Oe.MPEntry.value.length/16);Xe++){rt[Xe]={};var D=Je(Oe.MPEntry.value,16*Xe,Z.a.getTypeSize("LONG"),Qe);rt[Xe].ImageFlags=lt(D),rt[Xe].ImageFormat=it(D),rt[Xe].ImageType=de(D);var O=Je(Oe.MPEntry.value,16*Xe+4,Z.a.getTypeSize("LONG"),Qe);rt[Xe].ImageSize={value:O,description:""+O};var j=we(Xe)?0:Je(Oe.MPEntry.value,16*Xe+8,Z.a.getTypeSize("LONG"),Qe)+Fe;rt[Xe].ImageOffset={value:j,description:""+j};var pe=Je(Oe.MPEntry.value,16*Xe+12,Z.a.getTypeSize("SHORT"),Qe);rt[Xe].DependentImage1EntryNumber={value:pe,description:""+pe};var le=Je(Oe.MPEntry.value,16*Xe+14,Z.a.getTypeSize("SHORT"),Qe);rt[Xe].DependentImage2EntryNumber={value:le,description:""+le},rt[Xe].image=xe.buffer.slice(j,j+O),Object(K.a)(rt[Xe],"base64",function(){return Object(K.b)(this.image)})}return Oe.Images=rt,Oe}(w,ne,Ne(w,"mpf",ne,_e(w,ne,ce),ce),ce)}}},function(Ke,Ce,F){"use strict";var d=F(3),K={iptc:{256:{name:"Model Version",description:function(ee){return((ee[0]<<8)+ee[1]).toString()}},261:{name:"Destination",repeatable:!0},276:{name:"File Format",description:function(ee){return((ee[0]<<8)+ee[1]).toString()}},278:{name:"File Format Version",description:function(ee){return((ee[0]<<8)+ee[1]).toString()}},286:"Service Identifier",296:"Envelope Number",306:"Product ID",316:"Envelope Priority",326:{name:"Date Sent",description:B},336:{name:"Time Sent",description:Z},346:{name:"Coded Character Set",description:te,encoding_name:te},356:"UNO",376:{name:"ARM Identifier",description:function(ee){return((ee[0]<<8)+ee[1]).toString()}},378:{name:"ARM Version",description:function(ee){return((ee[0]<<8)+ee[1]).toString()}},512:{name:"Record Version",description:function(ee){return((ee[0]<<8)+ee[1]).toString()}},515:"Object Type Reference",516:"Object Attribute Reference",517:"Object Name",519:"Edit Status",520:{name:"Editorial Update",description:function(ee){return"01"===Object(d.c)(ee)?"Additional Language":"Unknown"}},522:"Urgency",524:{name:"Subject Reference",repeatable:!0,description:function(ee){var G=Object(d.c)(ee).split(":");return G[2]+(G[3]?"/"+G[3]:"")+(G[4]?"/"+G[4]:"")}},527:"Category",532:{name:"Supplemental Category",repeatable:!0},534:"Fixture Identifier",537:{name:"Keywords",repeatable:!0},538:{name:"Content Location Code",repeatable:!0},539:{name:"Content Location Name",repeatable:!0},542:"Release Date",547:"Release Time",549:"Expiration Date",550:"Expiration Time",552:"Special Instructions",554:{name:"Action Advised",description:function(ee){var G=Object(d.c)(ee);return"01"===G?"Object Kill":"02"===G?"Object Replace":"03"===G?"Object Append":"04"===G?"Object Reference":"Unknown"}},557:{name:"Reference Service",repeatable:!0},559:{name:"Reference Date",repeatable:!0},562:{name:"Reference Number",repeatable:!0},567:{name:"Date Created",description:B},572:{name:"Time Created",description:Z},574:{name:"Digital Creation Date",description:B},575:{name:"Digital Creation Time",description:Z},577:"Originating Program",582:"Program Version",587:{name:"Object Cycle",description:function(ee){var G=Object(d.c)(ee);return"a"===G?"morning":"p"===G?"evening":"b"===G?"both":"Unknown"}},592:{name:"By-line",repeatable:!0},597:{name:"By-line Title",repeatable:!0},602:"City",604:"Sub-location",607:"Province/State",612:"Country/Primary Location Code",613:"Country/Primary Location Name",615:"Original Transmission Reference",617:"Headline",622:"Credit",627:"Source",628:"Copyright Notice",630:{name:"Contact",repeatable:!0},632:"Caption/Abstract",634:{name:"Writer/Editor",repeatable:!0},637:{name:"Rasterized Caption",description:function(ee){return ee}},642:"Image Type",643:{name:"Image Orientation",description:function(ee){var G=Object(d.c)(ee);return"P"===G?"Portrait":"L"===G?"Landscape":"S"===G?"Square":"Unknown"}},647:"Language Identifier",662:{name:"Audio Type",description:function(ee){var G=Object(d.c)(ee),re=G.charAt(0),ue=G.charAt(1),_e="";return"1"===re?_e+="Mono":"2"===re&&(_e+="Stereo"),"A"===ue?_e+=", actuality":"C"===ue?_e+=", question and answer session":"M"===ue?_e+=", music, transmitted by itself":"Q"===ue?_e+=", response to a question":"R"===ue?_e+=", raw sound":"S"===ue?_e+=", scener":"V"===ue?_e+=", voicer":"W"===ue&&(_e+=", wrap"),""!==_e?_e:G}},663:{name:"Audio Sampling Rate",description:function(ee){return parseInt(Object(d.c)(ee),10)+" Hz"}},664:{name:"Audio Sampling Resolution",description:function(ee){var G=parseInt(Object(d.c)(ee),10);return G+(1===G?" bit":" bits")}},665:{name:"Audio Duration",description:function(ee){var G=Object(d.c)(ee);return G.length>=6?G.substr(0,2)+":"+G.substr(2,2)+":"+G.substr(4,2):G}},666:"Audio Outcue",698:"Short Document ID",699:"Unique Document ID",700:"Owner ID",712:{name:function(ee){return 2===ee.length?"ObjectData Preview File Format":"Record 2 destination"},description:function(ee){if(2===ee.length){var G=(ee[0]<<8)+ee[1];return 0===G?"No ObjectData":1===G?"IPTC-NAA Digital Newsphoto Parameter Record":2===G?"IPTC7901 Recommended Message Format":3===G?"Tagged Image File Format (Adobe/Aldus Image data)":4===G?"Illustrator (Adobe Graphics data)":5===G?"AppleSingle (Apple Computer Inc)":6===G?"NAA 89-3 (ANPA 1312)":7===G?"MacBinary II":8===G?"IPTC Unstructured Character Oriented File Format (UCOFF)":9===G?"United Press International ANPA 1312 variant":10===G?"United Press International Down-Load Message":11===G?"JPEG File Interchange (JFIF)":12===G?"Photo-CD Image-Pac (Eastman Kodak)":13===G?"Microsoft Bit Mapped Graphics File [*.BMP]":14===G?"Digital Audio File [*.WAV] (Microsoft & Creative Labs)":15===G?"Audio plus Moving Video [*.AVI] (Microsoft)":16===G?"PC DOS/Windows Executable Files [*.COM][*.EXE]":17===G?"Compressed Binary File [*.ZIP] (PKWare Inc)":18===G?"Audio Interchange File Format AIFF (Apple Computer Inc)":19===G?"RIFF Wave (Microsoft Corporation)":20===G?"Freehand (Macromedia/Aldus)":21===G?'Hypertext Markup Language "HTML" (The Internet Society)':22===G?"MPEG 2 Audio Layer 2 (Musicom), ISO/IEC":23===G?"MPEG 2 Audio Layer 3, ISO/IEC":24===G?"Portable Document File (*.PDF) Adobe":25===G?"News Industry Text Format (NITF)":26===G?"Tape Archive (*.TAR)":27===G?"Tidningarnas Telegrambyr\xe5 NITF version (TTNITF DTD)":28===G?"Ritzaus Bureau NITF version (RBNITF DTD)":29===G?"Corel Draw [*.CDR]":"Unknown format ".concat(G)}return Object(d.c)(ee)}},713:{name:"ObjectData Preview File Format Version",description:function(ee,G){var re={"00":{"00":"1"},"01":{"01":"1","02":"2","03":"3","04":"4"},"02":{"04":"4"},"03":{"01":"5.0","02":"6.0"},"04":{"01":"1.40"},"05":{"01":"2"},"06":{"01":"1"},11:{"01":"1.02"},20:{"01":"3.1","02":"4.0","03":"5.0","04":"5.5"},21:{"02":"2.0"}},ue=Object(d.c)(ee);if(G["ObjectData Preview File Format"]){var _e=Object(d.c)(G["ObjectData Preview File Format"].value);if(re[_e]&&re[_e][ue])return re[_e][ue]}return ue}},714:"ObjectData Preview Data",1802:{name:"Size Mode",description:function(ee){return ee[0].toString()}},1812:{name:"Max Subfile Size",description:function(ee){for(var G=0,re=0;re<ee.length;re++)G=(G<<8)+ee[re];return G.toString()}},1882:{name:"ObjectData Size Announced",description:function(ee){for(var G=0,re=0;re<ee.length;re++)G=(G<<8)+ee[re];return G.toString()}},1887:{name:"Maximum ObjectData Size",description:function(ee){for(var G=0,re=0;re<ee.length;re++)G=(G<<8)+ee[re];return G.toString()}}}};function B(ee){var G=Object(d.c)(ee);return G.length>=8?G.substr(0,4)+"-"+G.substr(4,2)+"-"+G.substr(6,2):G}function Z(ee){var G=Object(d.c)(ee),re=G;return G.length>=6&&(re=G.substr(0,2)+":"+G.substr(2,2)+":"+G.substr(4,2),11===G.length&&(re+=G.substr(6,1)+G.substr(7,2)+":"+G.substr(9,2))),re}function te(ee){var G=Object(d.c)(ee);return"\x1b%G"===G?"UTF-8":"\x1b%5"===G?"Windows-1252":"\x1b%/G"===G?"UTF-8 Level 1":"\x1b%/H"===G?"UTF-8 Level 2":"\x1b%/I"===G?"UTF-8 Level 3":"\x1b/A"===G?"ISO-8859-1":"\x1b/B"===G?"ISO-8859-2":"\x1b/C"===G?"ISO-8859-3":"\x1b/D"===G?"ISO-8859-4":"\x1b/@"===G?"ISO-8859-5":"\x1b/G"===G?"ISO-8859-6":"\x1b/F"===G?"ISO-8859-7":"\x1b/H"===G?"ISO-8859-8":"Unknown"}var H_decode=function(ee,G){var re=function(){if("undefined"!=typeof TextDecoder)return TextDecoder}();if(void 0!==re&&void 0!==ee)try{return new re(ee).decode(Uint8Array.from(G))}catch(ue){}return function(ue){try{return decodeURIComponent(escape(ue))}catch(_e){return ue}}(G.map(function(ue){return String.fromCharCode(ue)}).join(""))};function $(ee,G){if(943868237!==ee.getUint32(G,!1))throw new Error("Not an IPTC resource block.");return{type:ee.getUint16(G+4),size:ee.getUint16(G+10)}}function U(ee){return 1028===ee.type}function P(ee){return ee.size%2!=0?1:0}function N(ee,G,re){for(var ue={},_e=void 0,Te=re+G.size;re<Te&&re<ee.byteLength;){var Pe=W(ee,re,ue,_e),Be=Pe.tag,Je=Pe.tagSize;if(null===Be)break;"encoding"in Be&&(_e=Be.encoding),void 0===ue[Be.name]||void 0===Be.repeatable?ue[Be.name]={id:Be.id,value:Be.value,description:Be.description}:(ue[Be.name]instanceof Array||(ue[Be.name]=[{id:ue[Be.name].id,value:ue[Be.name].value,description:ue[Be.name].description}]),ue[Be.name].push({id:Be.id,value:Be.value,description:Be.description})),re+=5+Je}return ue}function W(ee,G,re,ue){if(28!==ee.getUint8(G))return{tag:null,tagSize:0};var Je,_e=ee.getUint16(G+1),Te=ee.getUint16(G+3),Pe=function(Je,lt,it){for(var de=[],we=0;we<it;we++)de.push(Je.getUint8(lt+we));return de}(ee,G+5,Te),Be={id:_e,name:oe(K.iptc[_e],_e,Pe),value:Pe,description:he(K.iptc[_e],Pe,re,ue)};return K.iptc[Je=_e]&&K.iptc[Je].repeatable&&(Be.repeatable=!0),function(Je){return K.iptc[Je]&&void 0!==K.iptc[Je].encoding_name}(_e)&&(Be.encoding=K.iptc[_e].encoding_name(Pe)),{tag:Be,tagSize:Te}}function oe(ee,G,re){return ee?"string"==typeof ee?ee:"function"==typeof ee.name?ee.name(re):ee.name:"undefined-".concat(G)}function he(ee,G,re,ue){if((_e=ee)&&void 0!==_e.description)try{return ee.description(G,re)}catch(_e){}var _e;return function(_e,Te){return _e&&Te instanceof Array}(ee,G)?H_decode(ue,G):G}Ce.a={read:function(ee,G){try{if(Array.isArray(ee))return N(new DataView(Uint8Array.from(ee).buffer),{size:ee.length},0);var re=function(Te,Pe){for(;Pe+12<=Te.byteLength;){var Be=$(Te,Pe);if(U(Be))return{naaBlock:Be,dataOffset:Pe+12};Pe+=12+Be.size+P(Be)}throw new Error("No IPTC NAA resource block.")}(ee,G);return N(ee,re.naaBlock,re.dataOffset)}catch(Te){return{}}}}},function(Ke,Ce,F){"use strict";var d=F(0);function B(w,ne){(null==ne||ne>w.length)&&(ne=w.length);for(var ce=0,Se=new Array(ne);ce<ne;ce++)Se[ce]=w[ce];return Se}var Z={"tiff:Orientation":function(w){return"1"===w?"Horizontal (normal)":"2"===w?"Mirror horizontal":"3"===w?"Rotate 180":"4"===w?"Mirror vertical":"5"===w?"Mirror horizontal and rotate 270 CW":"6"===w?"Rotate 90 CW":"7"===w?"Mirror horizontal and rotate 90 CW":"8"===w?"Rotate 270 CW":w},"exif:GPSLatitude":te,"exif:GPSLongitude":te};function te(w){var ne=function(w,ne){return function(ce){if(Array.isArray(ce))return ce}(w)||function(ce,Se){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(ce)){var xe=[],Fe=!0,Oe=!1,Qe=void 0;try{for(var rt,Xe=ce[Symbol.iterator]();!(Fe=(rt=Xe.next()).done)&&(xe.push(rt.value),2!==xe.length);Fe=!0);}catch(D){Oe=!0,Qe=D}finally{try{Fe||null==Xe.return||Xe.return()}finally{if(Oe)throw Qe}}return xe}}(w)||function(ce,Se){if(ce){if("string"==typeof ce)return B(ce,2);var xe=Object.prototype.toString.call(ce).slice(8,-1);if("Object"===xe&&ce.constructor&&(xe=ce.constructor.name),"Map"===xe||"Set"===xe)return Array.from(ce);if("Arguments"===xe||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(xe))return B(ce,2)}}(w)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(w.split(",")),ce=ne[0],Se=ne[1];if(void 0!==ce&&void 0!==Se){var xe=parseFloat(ce),Fe=parseFloat(Se),Oe=Se.charAt(Se.length-1);if(!Number.isNaN(xe)&&!Number.isNaN(Fe))return""+(xe+Fe/60)+Oe}return w}var J=F(14);function H(w){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ne){return typeof ne}:function(ne){return ne&&"function"==typeof Symbol&&ne.constructor===Symbol&&ne!==Symbol.prototype?"symbol":typeof ne})(w)}function $(w,ne){for(var ce=ne.reduce(function(rt,Xe){return rt+Xe.length},0),Se=new Uint8Array(ce),xe=0,Fe=0;Fe<ne.length;Fe++){var Oe=ne[Fe],Qe=w.buffer.slice(Oe.dataOffset,Oe.dataOffset+Oe.length);Se.set(new Uint8Array(Qe),xe),xe+=Oe.length}return new DataView(Se.buffer)}function U(w,ne){try{var ce=function Se(xe){for(var Fe=0;Fe<xe.childNodes.length;Fe++){if("x:xmpmeta"===xe.childNodes[Fe].tagName)return Se(xe.childNodes[Fe]);if("rdf:RDF"===xe.childNodes[Fe].tagName)return xe.childNodes[Fe]}throw new Error}(function(Se){var xe=J.a.get();if(!xe)throw console.warn("Warning: DOMParser is not available. It is needed to be able to parse XMP tags."),new Error;var Fe=new xe,Oe="string"==typeof Se?Se:Object(d.c)(Se,0,Se.byteLength),Qe=Fe.parseFromString(Oe.replace(/^.+(<\?xpacket begin)/,"$1").replace(/(<\?xpacket end=".*"\?>).+$/,"$1"),"application/xml");if("parsererror"===Qe.documentElement.nodeName)throw new Error(Qe.documentElement.textContent);return Qe}(ne));return Object(d.f)(w,G(P(ce,!0)))}catch(Se){return w}}function P(w){var ne=arguments.length>1&&void 0!==arguments[1]&&arguments[1],ce=N(w);return W(ce)?ne?{}:oe(ce[0]):he(ce)}function N(w){for(var ne=[],ce=0;ce<w.childNodes.length;ce++)ne.push(w.childNodes[ce]);return ne}function W(w){return 1===w.length&&"#text"===w[0].nodeName}function oe(w){return w.nodeValue}function he(w){var ne={};return w.forEach(function(ce){if((xe=ce).nodeName&&"#text"!==xe.nodeName){var Se=function(xe){return{attributes:ee(xe),value:P(xe)}}(ce);void 0!==ne[ce.nodeName]?(Array.isArray(ne[ce.nodeName])||(ne[ce.nodeName]=[ne[ce.nodeName]]),ne[ce.nodeName].push(Se)):ne[ce.nodeName]=Se}var xe}),ne}function ee(w){for(var ne={},ce=0;ce<w.attributes.length;ce++)ne[w.attributes[ce].nodeName]=decodeURIComponent(escape(w.attributes[ce].value));return ne}function G(w){var ne={};if("string"==typeof w)return w;for(var ce in w){var Se=w[ce];Array.isArray(Se)||(Se=[Se]),Se.forEach(function(xe){Object(d.f)(ne,re(xe.attributes)),"object"===H(xe.value)&&Object(d.f)(ne,it(xe.value))})}return ne}function re(w){var ne={};for(var ce in w)ue(ce)&&(ne[Te(ce)]={value:w[ce],attributes:{},description:Pe(w[ce],ce)});return ne}function ue(w){return"rdf:parseType"!==w&&!_e(w)}function _e(w){return"xmlns"===w.split(":")[0]}function Te(w){return w.split(":")[1]}function Pe(w){var ne=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(Array.isArray(w))return Be(w);if("object"===H(w))return Je(w);try{return ne&&"function"==typeof Z[ne]?Z[ne](w):decodeURIComponent(escape(w))}catch(ce){return w}}function Be(w){return w.map(function(ne){return Pe(void 0!==ne.value?ne.value:ne)}).join(", ")}function Je(w){var ne=[];for(var ce in w)ne.push("".concat(lt(ce),": ").concat(w[ce].value));return ne.join("; ")}function lt(w){return"CiAdrCity"===w?"CreatorCity":"CiAdrCtry"===w?"CreatorCountry":"CiAdrExtadr"===w?"CreatorAddress":"CiAdrPcode"===w?"CreatorPostalCode":"CiAdrRegion"===w?"CreatorRegion":"CiEmailWork"===w?"CreatorWorkEmail":"CiTelWork"===w?"CreatorWorkPhone":"CiUrlWork"===w?"CreatorWorkUrl":w}function it(w){var ne={};for(var ce in w)_e(ce)||(ne[Te(ce)]=de(w[ce],ce));return ne}function de(w,ne){return we(w)?Ne(w,ne):"Resource"===(ce=w).attributes["rdf:parseType"]||void 0!==ce.value["rdf:Description"]&&void 0===ce.value["rdf:Description"].value["rdf:value"]?function(ce,Se){var xe={value:{},attributes:{}};return void 0!==ce.value["rdf:Description"]&&(Object(d.f)(xe.value,re(ce.value["rdf:Description"].attributes)),Object(d.f)(xe.attributes,je(ce)),ce=ce.value["rdf:Description"]),Object(d.f)(xe.value,it(ce.value)),xe.description=Pe(xe.value,Se),xe}(w,ne):function(ce){return 0===Object.keys(ce.value).length&&void 0===ce.attributes["rdf:resource"]}(w)?function(ce,Se){var xe=re(ce.attributes);return{value:xe,attributes:{},description:Pe(xe,Se)}}(w,ne):function(ce){return void 0!==Le(ce.value)}(w)?function(ce,Se){var xe=Le(ce.value).value["rdf:li"],Fe=je(ce),Oe=[];return void 0===xe?xe=[]:Array.isArray(xe)||(xe=[xe]),xe.forEach(function(Qe){var rt;Oe.push(we(rt=Qe)?Ne(rt):"Resource"===rt.attributes["rdf:parseType"]?it(rt.value):{value:rt.value,attributes:je(rt),description:Pe(rt.value)})}),{value:Oe,attributes:Fe,description:Pe(Oe,Se)}}(w,ne):function(ce,Se){var xe=et(ce)||G(ce.value);return{value:xe,attributes:je(ce),description:Pe(xe,Se)}}(w,ne);var ce}function we(w){return"Resource"===w.attributes["rdf:parseType"]&&void 0!==w.value["rdf:value"]||void 0!==w.value["rdf:Description"]&&void 0!==w.value["rdf:Description"].value["rdf:value"]}function Ne(w,ne){var ce=je(w);void 0!==w.value["rdf:Description"]&&(w=w.value["rdf:Description"]),Object(d.f)(ce,je(w),function(xe){var Fe={};for(var Oe in xe.value)"rdf:value"===Oe||_e(Oe)||(Fe[Te(Oe)]=xe.value[Oe].value);return Fe}(w));var xe,Se=et((xe=w).value["rdf:value"])||xe.value["rdf:value"].value;return{value:Se,attributes:ce,description:Pe(Se,ne)}}function je(w){var ne={};for(var ce in w.attributes)"rdf:parseType"===ce||"rdf:resource"===ce||_e(ce)||(ne[Te(ce)]=w.attributes[ce]);return ne}function Le(w){return w["rdf:Bag"]||w["rdf:Seq"]||w["rdf:Alt"]}function et(w){return w.attributes&&w.attributes["rdf:resource"]}Ce.a={read:function(w,ne){return"string"==typeof w?U({},w):function(ce,Se){if(0===Se.length)return[];var xe=[$(ce,Se.slice(0,1))];return Se.length>1&&xe.push($(ce,Se.slice(1))),xe}(w,ne).reduce(U,{})}}},function(Ke,Ce,F){"use strict";var d=F(0),K={desc:{name:"ICC Description"},cprt:{name:"ICC Copyright"},dmdd:{name:"ICC Device Model Description"},vued:{name:"ICC Viewing Conditions Description"},dmnd:{name:"ICC Device Manufacturer for Display"},tech:{name:"Technology"}},B={4:{name:"Preferred CMM type",value:function($,U){return Object(d.c)($,U,4)},description:function($){return null!==$?Z($):""}},8:{name:"Profile Version",value:function($,U){return $.getUint8(U).toString(10)+"."+($.getUint8(U+1)>>4).toString(10)+"."+($.getUint8(U+1)%16).toString(10)}},12:{name:"Profile/Device class",value:function($,U){return Object(d.c)($,U,4)},description:function($){switch($.toLowerCase()){case"scnr":return"Input Device profile";case"mntr":return"Display Device profile";case"prtr":return"Output Device profile";case"link":return"DeviceLink profile";case"abst":return"Abstract profile";case"spac":return"ColorSpace profile";case"nmcl":return"NamedColor profile";case"cenc":return"ColorEncodingSpace profile";case"mid ":return"MultiplexIdentification profile";case"mlnk":return"MultiplexLink profile";case"mvis":return"MultiplexVisualization profile";default:return $}}},16:{name:"Color Space",value:function($,U){return Object(d.c)($,U,4)}},20:{name:"Connection Space",value:function($,U){return Object(d.c)($,U,4)}},24:{name:"ICC Profile Date",value:function($,U){return(P=$,N=U,W=P.getUint16(N),oe=P.getUint16(N+2)-1,he=P.getUint16(N+4),ee=P.getUint16(N+6),G=P.getUint16(N+8),re=P.getUint16(N+10),new Date(Date.UTC(W,oe,he,ee,G,re))).toISOString();var P,N,W,oe,he,ee,G,re}},36:{name:"ICC Signature",value:function($,U){return P=$.buffer.slice(U,U+4),String.fromCharCode.apply(null,new Uint8Array(P));var P}},40:{name:"Primary Platform",value:function($,U){return Object(d.c)($,U,4)},description:function($){return Z($)}},48:{name:"Device Manufacturer",value:function($,U){return Object(d.c)($,U,4)},description:function($){return Z($)}},52:{name:"Device Model Number",value:function($,U){return Object(d.c)($,U,4)}},64:{name:"Rendering Intent",value:function($,U){return $.getUint32(U)},description:function($){switch($){case 0:return"Perceptual";case 1:return"Relative Colorimetric";case 2:return"Saturation";case 3:return"Absolute Colorimetric";default:return $}}},80:{name:"Profile Creator",value:function($,U){return Object(d.c)($,U,4)}}};function Z($){switch($.toLowerCase()){case"appl":return"Apple";case"adbe":return"Adobe";case"msft":return"Microsoft";case"sunw":return"Sun Microsystems";case"sgi":return"Silicon Graphics";case"tgnt":return"Taligent";default:return $}}function te($,U){return $.length<U+12}function J($){return String.fromCharCode.apply(null,new Uint8Array($))}function H($,U,P){K[U]?$[K[U].name]={value:P,description:P}:$[U]={value:P,description:P}}Ce.a={read:function($,U){try{for(var P=U.reduce(function(G,re){return G+re.length},0),N=new Uint8Array(P),W=0,oe=(G=$,Array.isArray(G)?new DataView(Uint8Array.from(G).buffer).buffer:G.buffer),he=function(G){var re=U.find(function(Te){return Te.chunkNumber===G});if(!re)throw new Error("ICC chunk ".concat(G," not found"));var ue=oe.slice(re.offset,re.offset+re.length),_e=new Uint8Array(ue);N.set(_e,W),W+=_e.length},ee=1;ee<=U.length;ee++)he(ee);return function(G){var re=G.buffer,ue=G.getUint32();if(G.byteLength!==ue)throw new Error("ICC profile length not matching");if(G.length<84)throw new Error("ICC profile too short");for(var _e={},Te=Object.keys(B),Pe=0;Pe<Te.length;Pe++){var Be=Te[Pe],Je=B[Be],lt=Je.value(G,parseInt(Be,10)),it=lt;Je.description&&(it=Je.description(lt)),_e[Je.name]={value:lt,description:it}}if("acsp"!==J(re.slice(36,40)))throw new Error("ICC profile: missing signature");if(re.length<132)return _e;for(var de=G.getUint32(128),we=132,Ne=0;Ne<de;Ne++){if(te(re,we))return _e;var je=Object(d.c)(G,we,4),Le=G.getUint32(we+4),et=G.getUint32(we+8);if(Le>re.length)return _e;var w=Object(d.c)(G,Le,4);if("desc"===w){var ne=G.getUint32(Le+8);if(ne>et)return _e;H(_e,je,J(re.slice(Le+12,Le+ne+11)))}else if("mluc"===w){for(var Se=G.getUint32(Le+8),xe=G.getUint32(Le+12),Fe=Le+16,Oe=[],Qe=0;Qe<Se;Qe++){var rt=Object(d.c)(G,Fe+0,2),Xe=Object(d.c)(G,Fe+2,2),D=G.getUint32(Fe+4),O=G.getUint32(Fe+8),j=Object(d.e)(G,Le+O,D);Oe.push({languageCode:rt,countryCode:Xe,text:j}),Fe+=xe}if(1===Se)H(_e,je,Oe[0].text);else{for(var pe={},le=0;le<Oe.length;le++)pe["".concat(Oe[le].languageCode,"-").concat(Oe[le].countryCode)]=Oe[le].text;H(_e,je,pe)}}else"text"===w?H(_e,je,J(re.slice(Le+8,Le+et-7))):"sig "===w&&H(_e,je,J(re.slice(Le+8,Le+12)));we+=12}return _e}(new DataView(N.buffer))}catch(G){return{}}var G}}},function(Ke,Ce,F){"use strict";(function(d){var K=F(19),B=F(20),Z=F(21);function te(){return H.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function J(D,O){if(te()<O)throw new RangeError("Invalid typed array length");return H.TYPED_ARRAY_SUPPORT?(D=new Uint8Array(O)).__proto__=H.prototype:(null===D&&(D=new H(O)),D.length=O),D}function H(D,O,j){if(!(H.TYPED_ARRAY_SUPPORT||this instanceof H))return new H(D,O,j);if("number"==typeof D){if("string"==typeof O)throw new Error("If encoding is specified then the first argument must be a string");return P(this,D)}return $(this,D,O,j)}function $(D,O,j,pe){if("number"==typeof O)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&O instanceof ArrayBuffer?function(le,ve,Ye,mt){if(Ye<0||ve.byteLength<Ye)throw new RangeError("'offset' is out of bounds");if(ve.byteLength<Ye+(mt||0))throw new RangeError("'length' is out of bounds");return ve=void 0===Ye&&void 0===mt?new Uint8Array(ve):void 0===mt?new Uint8Array(ve,Ye):new Uint8Array(ve,Ye,mt),H.TYPED_ARRAY_SUPPORT?(le=ve).__proto__=H.prototype:le=N(le,ve),le}(D,O,j,pe):"string"==typeof O?function(le,ve,Ye){if("string"==typeof Ye&&""!==Ye||(Ye="utf8"),!H.isEncoding(Ye))throw new TypeError('"encoding" must be a valid string encoding');var mt=0|oe(ve,Ye),Nt=(le=J(le,mt)).write(ve,Ye);return Nt!==mt&&(le=le.slice(0,Nt)),le}(D,O,j):function(le,ve){if(H.isBuffer(ve)){var Ye=0|W(ve.length);return 0===(le=J(le,Ye)).length||ve.copy(le,0,0,Ye),le}if(ve){if("undefined"!=typeof ArrayBuffer&&ve.buffer instanceof ArrayBuffer||"length"in ve)return"number"!=typeof ve.length||(mt=ve.length)!=mt?J(le,0):N(le,ve);if("Buffer"===ve.type&&Z(ve.data))return N(le,ve.data)}var mt;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(D,O)}function U(D){if("number"!=typeof D)throw new TypeError('"size" argument must be a number');if(D<0)throw new RangeError('"size" argument must not be negative')}function P(D,O){if(U(O),D=J(D,O<0?0:0|W(O)),!H.TYPED_ARRAY_SUPPORT)for(var j=0;j<O;++j)D[j]=0;return D}function N(D,O){var j=O.length<0?0:0|W(O.length);D=J(D,j);for(var pe=0;pe<j;pe+=1)D[pe]=255&O[pe];return D}function W(D){if(D>=te())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+te().toString(16)+" bytes");return 0|D}function oe(D,O){if(H.isBuffer(D))return D.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(D)||D instanceof ArrayBuffer))return D.byteLength;"string"!=typeof D&&(D=""+D);var j=D.length;if(0===j)return 0;for(var pe=!1;;)switch(O){case"ascii":case"latin1":case"binary":return j;case"utf8":case"utf-8":case void 0:return Qe(D).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*j;case"hex":return j>>>1;case"base64":return rt(D).length;default:if(pe)return Qe(D).length;O=(""+O).toLowerCase(),pe=!0}}function he(D,O,j){var pe=!1;if((void 0===O||O<0)&&(O=0),O>this.length||((void 0===j||j>this.length)&&(j=this.length),j<=0)||(j>>>=0)<=(O>>>=0))return"";for(D||(D="utf8");;)switch(D){case"hex":return Ne(this,O,j);case"utf8":case"utf-8":return it(this,O,j);case"ascii":return de(this,O,j);case"latin1":case"binary":return we(this,O,j);case"base64":return lt(this,O,j);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return je(this,O,j);default:if(pe)throw new TypeError("Unknown encoding: "+D);D=(D+"").toLowerCase(),pe=!0}}function ee(D,O,j){var pe=D[O];D[O]=D[j],D[j]=pe}function G(D,O,j,pe,le){if(0===D.length)return-1;if("string"==typeof j?(pe=j,j=0):j>2147483647?j=2147483647:j<-2147483648&&(j=-2147483648),j=+j,isNaN(j)&&(j=le?0:D.length-1),j<0&&(j=D.length+j),j>=D.length){if(le)return-1;j=D.length-1}else if(j<0){if(!le)return-1;j=0}if("string"==typeof O&&(O=H.from(O,pe)),H.isBuffer(O))return 0===O.length?-1:re(D,O,j,pe,le);if("number"==typeof O)return O&=255,H.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?le?Uint8Array.prototype.indexOf.call(D,O,j):Uint8Array.prototype.lastIndexOf.call(D,O,j):re(D,[O],j,pe,le);throw new TypeError("val must be string, number or Buffer")}function re(D,O,j,pe,le){var ve,Ye=1,mt=D.length,Nt=O.length;if(void 0!==pe&&("ucs2"===(pe=String(pe).toLowerCase())||"ucs-2"===pe||"utf16le"===pe||"utf-16le"===pe)){if(D.length<2||O.length<2)return-1;Ye=2,mt/=2,Nt/=2,j/=2}function ke(zt,rr){return 1===Ye?zt[rr]:zt.readUInt16BE(rr*Ye)}if(le){var Et=-1;for(ve=j;ve<mt;ve++)if(ke(D,ve)===ke(O,-1===Et?0:ve-Et)){if(-1===Et&&(Et=ve),ve-Et+1===Nt)return Et*Ye}else-1!==Et&&(ve-=ve-Et),Et=-1}else for(j+Nt>mt&&(j=mt-Nt),ve=j;ve>=0;ve--){for(var hn=!0,st=0;st<Nt;st++)if(ke(D,ve+st)!==ke(O,st)){hn=!1;break}if(hn)return ve}return-1}function ue(D,O,j,pe){j=Number(j)||0;var le=D.length-j;pe?(pe=Number(pe))>le&&(pe=le):pe=le;var ve=O.length;if(ve%2!=0)throw new TypeError("Invalid hex string");pe>ve/2&&(pe=ve/2);for(var Ye=0;Ye<pe;++Ye){var mt=parseInt(O.substr(2*Ye,2),16);if(isNaN(mt))return Ye;D[j+Ye]=mt}return Ye}function _e(D,O,j,pe){return Xe(Qe(O,D.length-j),D,j,pe)}function Te(D,O,j,pe){return Xe(function(le){for(var ve=[],Ye=0;Ye<le.length;++Ye)ve.push(255&le.charCodeAt(Ye));return ve}(O),D,j,pe)}function Pe(D,O,j,pe){return Te(D,O,j,pe)}function Be(D,O,j,pe){return Xe(rt(O),D,j,pe)}function Je(D,O,j,pe){return Xe(function(le,ve){for(var Ye,mt,ke=[],Et=0;Et<le.length&&!((ve-=2)<0);++Et)mt=(Ye=le.charCodeAt(Et))>>8,ke.push(Ye%256),ke.push(mt);return ke}(O,D.length-j),D,j,pe)}function lt(D,O,j){return K.fromByteArray(0===O&&j===D.length?D:D.slice(O,j))}function it(D,O,j){j=Math.min(D.length,j);for(var pe=[],le=O;le<j;){var ve,Ye,mt,Nt,ke=D[le],Et=null,hn=ke>239?4:ke>223?3:ke>191?2:1;if(le+hn<=j)switch(hn){case 1:ke<128&&(Et=ke);break;case 2:128==(192&(ve=D[le+1]))&&(Nt=(31&ke)<<6|63&ve)>127&&(Et=Nt);break;case 3:Ye=D[le+2],128==(192&(ve=D[le+1]))&&128==(192&Ye)&&(Nt=(15&ke)<<12|(63&ve)<<6|63&Ye)>2047&&(Nt<55296||Nt>57343)&&(Et=Nt);break;case 4:Ye=D[le+2],mt=D[le+3],128==(192&(ve=D[le+1]))&&128==(192&Ye)&&128==(192&mt)&&(Nt=(15&ke)<<18|(63&ve)<<12|(63&Ye)<<6|63&mt)>65535&&Nt<1114112&&(Et=Nt)}null===Et?(Et=65533,hn=1):Et>65535&&(pe.push((Et-=65536)>>>10&1023|55296),Et=56320|1023&Et),pe.push(Et),le+=hn}return function(st){var zt=st.length;if(zt<=4096)return String.fromCharCode.apply(String,st);for(var rr="",Yn=0;Yn<zt;)rr+=String.fromCharCode.apply(String,st.slice(Yn,Yn+=4096));return rr}(pe)}function de(D,O,j){var pe="";j=Math.min(D.length,j);for(var le=O;le<j;++le)pe+=String.fromCharCode(127&D[le]);return pe}function we(D,O,j){var pe="";j=Math.min(D.length,j);for(var le=O;le<j;++le)pe+=String.fromCharCode(D[le]);return pe}function Ne(D,O,j){var pe=D.length;(!O||O<0)&&(O=0),(!j||j<0||j>pe)&&(j=pe);for(var le="",ve=O;ve<j;++ve)le+=Oe(D[ve]);return le}function je(D,O,j){for(var pe=D.slice(O,j),le="",ve=0;ve<pe.length;ve+=2)le+=String.fromCharCode(pe[ve]+256*pe[ve+1]);return le}function Le(D,O,j){if(D%1!=0||D<0)throw new RangeError("offset is not uint");if(D+O>j)throw new RangeError("Trying to access beyond buffer length")}function et(D,O,j,pe,le,ve){if(!H.isBuffer(D))throw new TypeError('"buffer" argument must be a Buffer instance');if(O>le||O<ve)throw new RangeError('"value" argument is out of bounds');if(j+pe>D.length)throw new RangeError("Index out of range")}function w(D,O,j,pe){O<0&&(O=65535+O+1);for(var le=0,ve=Math.min(D.length-j,2);le<ve;++le)D[j+le]=(O&255<<8*(pe?le:1-le))>>>8*(pe?le:1-le)}function ne(D,O,j,pe){O<0&&(O=4294967295+O+1);for(var le=0,ve=Math.min(D.length-j,4);le<ve;++le)D[j+le]=O>>>8*(pe?le:3-le)&255}function ce(D,O,j,pe,le,ve){if(j+pe>D.length)throw new RangeError("Index out of range");if(j<0)throw new RangeError("Index out of range")}function Se(D,O,j,pe,le){return le||ce(D,0,j,4),B.write(D,O,j,pe,23,4),j+4}function xe(D,O,j,pe,le){return le||ce(D,0,j,8),B.write(D,O,j,pe,52,8),j+8}Ce.Buffer=H,Ce.SlowBuffer=function(D){return+D!=D&&(D=0),H.alloc(+D)},Ce.INSPECT_MAX_BYTES=50,H.TYPED_ARRAY_SUPPORT=void 0!==d.TYPED_ARRAY_SUPPORT?d.TYPED_ARRAY_SUPPORT:function(){try{var D=new Uint8Array(1);return D.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===D.foo()&&"function"==typeof D.subarray&&0===D.subarray(1,1).byteLength}catch(O){return!1}}(),Ce.kMaxLength=te(),H.poolSize=8192,H._augment=function(D){return D.__proto__=H.prototype,D},H.from=function(D,O,j){return $(null,D,O,j)},H.TYPED_ARRAY_SUPPORT&&(H.prototype.__proto__=Uint8Array.prototype,H.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&H[Symbol.species]===H&&Object.defineProperty(H,Symbol.species,{value:null,configurable:!0})),H.alloc=function(D,O,j){return ve=O,Ye=j,U(le=D),le<=0?J(null,le):void 0!==ve?"string"==typeof Ye?J(null,le).fill(ve,Ye):J(null,le).fill(ve):J(null,le);var le,ve,Ye},H.allocUnsafe=function(D){return P(null,D)},H.allocUnsafeSlow=function(D){return P(null,D)},H.isBuffer=function(D){return!(null==D||!D._isBuffer)},H.compare=function(D,O){if(!H.isBuffer(D)||!H.isBuffer(O))throw new TypeError("Arguments must be Buffers");if(D===O)return 0;for(var j=D.length,pe=O.length,le=0,ve=Math.min(j,pe);le<ve;++le)if(D[le]!==O[le]){j=D[le],pe=O[le];break}return j<pe?-1:pe<j?1:0},H.isEncoding=function(D){switch(String(D).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},H.concat=function(D,O){if(!Z(D))throw new TypeError('"list" argument must be an Array of Buffers');if(0===D.length)return H.alloc(0);var j;if(void 0===O)for(O=0,j=0;j<D.length;++j)O+=D[j].length;var pe=H.allocUnsafe(O),le=0;for(j=0;j<D.length;++j){var ve=D[j];if(!H.isBuffer(ve))throw new TypeError('"list" argument must be an Array of Buffers');ve.copy(pe,le),le+=ve.length}return pe},H.byteLength=oe,H.prototype._isBuffer=!0,H.prototype.swap16=function(){var D=this.length;if(D%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var O=0;O<D;O+=2)ee(this,O,O+1);return this},H.prototype.swap32=function(){var D=this.length;if(D%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var O=0;O<D;O+=4)ee(this,O,O+3),ee(this,O+1,O+2);return this},H.prototype.swap64=function(){var D=this.length;if(D%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var O=0;O<D;O+=8)ee(this,O,O+7),ee(this,O+1,O+6),ee(this,O+2,O+5),ee(this,O+3,O+4);return this},H.prototype.toString=function(){var D=0|this.length;return 0===D?"":0===arguments.length?it(this,0,D):he.apply(this,arguments)},H.prototype.equals=function(D){if(!H.isBuffer(D))throw new TypeError("Argument must be a Buffer");return this===D||0===H.compare(this,D)},H.prototype.inspect=function(){var D="",O=Ce.INSPECT_MAX_BYTES;return this.length>0&&(D=this.toString("hex",0,O).match(/.{2}/g).join(" "),this.length>O&&(D+=" ... ")),"<Buffer "+D+">"},H.prototype.compare=function(D,O,j,pe,le){if(!H.isBuffer(D))throw new TypeError("Argument must be a Buffer");if(void 0===O&&(O=0),void 0===j&&(j=D?D.length:0),void 0===pe&&(pe=0),void 0===le&&(le=this.length),O<0||j>D.length||pe<0||le>this.length)throw new RangeError("out of range index");if(pe>=le&&O>=j)return 0;if(pe>=le)return-1;if(O>=j)return 1;if(this===D)return 0;for(var ve=(le>>>=0)-(pe>>>=0),Ye=(j>>>=0)-(O>>>=0),mt=Math.min(ve,Ye),Nt=this.slice(pe,le),ke=D.slice(O,j),Et=0;Et<mt;++Et)if(Nt[Et]!==ke[Et]){ve=Nt[Et],Ye=ke[Et];break}return ve<Ye?-1:Ye<ve?1:0},H.prototype.includes=function(D,O,j){return-1!==this.indexOf(D,O,j)},H.prototype.indexOf=function(D,O,j){return G(this,D,O,j,!0)},H.prototype.lastIndexOf=function(D,O,j){return G(this,D,O,j,!1)},H.prototype.write=function(D,O,j,pe){if(void 0===O)pe="utf8",j=this.length,O=0;else if(void 0===j&&"string"==typeof O)pe=O,j=this.length,O=0;else{if(!isFinite(O))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");O|=0,isFinite(j)?(j|=0,void 0===pe&&(pe="utf8")):(pe=j,j=void 0)}var le=this.length-O;if((void 0===j||j>le)&&(j=le),D.length>0&&(j<0||O<0)||O>this.length)throw new RangeError("Attempt to write outside buffer bounds");pe||(pe="utf8");for(var ve=!1;;)switch(pe){case"hex":return ue(this,D,O,j);case"utf8":case"utf-8":return _e(this,D,O,j);case"ascii":return Te(this,D,O,j);case"latin1":case"binary":return Pe(this,D,O,j);case"base64":return Be(this,D,O,j);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Je(this,D,O,j);default:if(ve)throw new TypeError("Unknown encoding: "+pe);pe=(""+pe).toLowerCase(),ve=!0}},H.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},H.prototype.slice=function(D,O){var j,pe=this.length;if((D=~~D)<0?(D+=pe)<0&&(D=0):D>pe&&(D=pe),(O=void 0===O?pe:~~O)<0?(O+=pe)<0&&(O=0):O>pe&&(O=pe),O<D&&(O=D),H.TYPED_ARRAY_SUPPORT)(j=this.subarray(D,O)).__proto__=H.prototype;else{var le=O-D;j=new H(le,void 0);for(var ve=0;ve<le;++ve)j[ve]=this[ve+D]}return j},H.prototype.readUIntLE=function(D,O,j){D|=0,O|=0,j||Le(D,O,this.length);for(var pe=this[D],le=1,ve=0;++ve<O&&(le*=256);)pe+=this[D+ve]*le;return pe},H.prototype.readUIntBE=function(D,O,j){D|=0,O|=0,j||Le(D,O,this.length);for(var pe=this[D+--O],le=1;O>0&&(le*=256);)pe+=this[D+--O]*le;return pe},H.prototype.readUInt8=function(D,O){return O||Le(D,1,this.length),this[D]},H.prototype.readUInt16LE=function(D,O){return O||Le(D,2,this.length),this[D]|this[D+1]<<8},H.prototype.readUInt16BE=function(D,O){return O||Le(D,2,this.length),this[D]<<8|this[D+1]},H.prototype.readUInt32LE=function(D,O){return O||Le(D,4,this.length),(this[D]|this[D+1]<<8|this[D+2]<<16)+16777216*this[D+3]},H.prototype.readUInt32BE=function(D,O){return O||Le(D,4,this.length),16777216*this[D]+(this[D+1]<<16|this[D+2]<<8|this[D+3])},H.prototype.readIntLE=function(D,O,j){D|=0,O|=0,j||Le(D,O,this.length);for(var pe=this[D],le=1,ve=0;++ve<O&&(le*=256);)pe+=this[D+ve]*le;return pe>=(le*=128)&&(pe-=Math.pow(2,8*O)),pe},H.prototype.readIntBE=function(D,O,j){D|=0,O|=0,j||Le(D,O,this.length);for(var pe=O,le=1,ve=this[D+--pe];pe>0&&(le*=256);)ve+=this[D+--pe]*le;return ve>=(le*=128)&&(ve-=Math.pow(2,8*O)),ve},H.prototype.readInt8=function(D,O){return O||Le(D,1,this.length),128&this[D]?-1*(255-this[D]+1):this[D]},H.prototype.readInt16LE=function(D,O){O||Le(D,2,this.length);var j=this[D]|this[D+1]<<8;return 32768&j?4294901760|j:j},H.prototype.readInt16BE=function(D,O){O||Le(D,2,this.length);var j=this[D+1]|this[D]<<8;return 32768&j?4294901760|j:j},H.prototype.readInt32LE=function(D,O){return O||Le(D,4,this.length),this[D]|this[D+1]<<8|this[D+2]<<16|this[D+3]<<24},H.prototype.readInt32BE=function(D,O){return O||Le(D,4,this.length),this[D]<<24|this[D+1]<<16|this[D+2]<<8|this[D+3]},H.prototype.readFloatLE=function(D,O){return O||Le(D,4,this.length),B.read(this,D,!0,23,4)},H.prototype.readFloatBE=function(D,O){return O||Le(D,4,this.length),B.read(this,D,!1,23,4)},H.prototype.readDoubleLE=function(D,O){return O||Le(D,8,this.length),B.read(this,D,!0,52,8)},H.prototype.readDoubleBE=function(D,O){return O||Le(D,8,this.length),B.read(this,D,!1,52,8)},H.prototype.writeUIntLE=function(D,O,j,pe){D=+D,O|=0,j|=0,pe||et(this,D,O,j,Math.pow(2,8*j)-1,0);var le=1,ve=0;for(this[O]=255&D;++ve<j&&(le*=256);)this[O+ve]=D/le&255;return O+j},H.prototype.writeUIntBE=function(D,O,j,pe){D=+D,O|=0,j|=0,pe||et(this,D,O,j,Math.pow(2,8*j)-1,0);var le=j-1,ve=1;for(this[O+le]=255&D;--le>=0&&(ve*=256);)this[O+le]=D/ve&255;return O+j},H.prototype.writeUInt8=function(D,O,j){return D=+D,O|=0,j||et(this,D,O,1,255,0),H.TYPED_ARRAY_SUPPORT||(D=Math.floor(D)),this[O]=255&D,O+1},H.prototype.writeUInt16LE=function(D,O,j){return D=+D,O|=0,j||et(this,D,O,2,65535,0),H.TYPED_ARRAY_SUPPORT?(this[O]=255&D,this[O+1]=D>>>8):w(this,D,O,!0),O+2},H.prototype.writeUInt16BE=function(D,O,j){return D=+D,O|=0,j||et(this,D,O,2,65535,0),H.TYPED_ARRAY_SUPPORT?(this[O]=D>>>8,this[O+1]=255&D):w(this,D,O,!1),O+2},H.prototype.writeUInt32LE=function(D,O,j){return D=+D,O|=0,j||et(this,D,O,4,4294967295,0),H.TYPED_ARRAY_SUPPORT?(this[O+3]=D>>>24,this[O+2]=D>>>16,this[O+1]=D>>>8,this[O]=255&D):ne(this,D,O,!0),O+4},H.prototype.writeUInt32BE=function(D,O,j){return D=+D,O|=0,j||et(this,D,O,4,4294967295,0),H.TYPED_ARRAY_SUPPORT?(this[O]=D>>>24,this[O+1]=D>>>16,this[O+2]=D>>>8,this[O+3]=255&D):ne(this,D,O,!1),O+4},H.prototype.writeIntLE=function(D,O,j,pe){if(D=+D,O|=0,!pe){var le=Math.pow(2,8*j-1);et(this,D,O,j,le-1,-le)}var ve=0,Ye=1,mt=0;for(this[O]=255&D;++ve<j&&(Ye*=256);)D<0&&0===mt&&0!==this[O+ve-1]&&(mt=1),this[O+ve]=(D/Ye>>0)-mt&255;return O+j},H.prototype.writeIntBE=function(D,O,j,pe){if(D=+D,O|=0,!pe){var le=Math.pow(2,8*j-1);et(this,D,O,j,le-1,-le)}var ve=j-1,Ye=1,mt=0;for(this[O+ve]=255&D;--ve>=0&&(Ye*=256);)D<0&&0===mt&&0!==this[O+ve+1]&&(mt=1),this[O+ve]=(D/Ye>>0)-mt&255;return O+j},H.prototype.writeInt8=function(D,O,j){return D=+D,O|=0,j||et(this,D,O,1,127,-128),H.TYPED_ARRAY_SUPPORT||(D=Math.floor(D)),D<0&&(D=255+D+1),this[O]=255&D,O+1},H.prototype.writeInt16LE=function(D,O,j){return D=+D,O|=0,j||et(this,D,O,2,32767,-32768),H.TYPED_ARRAY_SUPPORT?(this[O]=255&D,this[O+1]=D>>>8):w(this,D,O,!0),O+2},H.prototype.writeInt16BE=function(D,O,j){return D=+D,O|=0,j||et(this,D,O,2,32767,-32768),H.TYPED_ARRAY_SUPPORT?(this[O]=D>>>8,this[O+1]=255&D):w(this,D,O,!1),O+2},H.prototype.writeInt32LE=function(D,O,j){return D=+D,O|=0,j||et(this,D,O,4,2147483647,-2147483648),H.TYPED_ARRAY_SUPPORT?(this[O]=255&D,this[O+1]=D>>>8,this[O+2]=D>>>16,this[O+3]=D>>>24):ne(this,D,O,!0),O+4},H.prototype.writeInt32BE=function(D,O,j){return D=+D,O|=0,j||et(this,D,O,4,2147483647,-2147483648),D<0&&(D=4294967295+D+1),H.TYPED_ARRAY_SUPPORT?(this[O]=D>>>24,this[O+1]=D>>>16,this[O+2]=D>>>8,this[O+3]=255&D):ne(this,D,O,!1),O+4},H.prototype.writeFloatLE=function(D,O,j){return Se(this,D,O,!0,j)},H.prototype.writeFloatBE=function(D,O,j){return Se(this,D,O,!1,j)},H.prototype.writeDoubleLE=function(D,O,j){return xe(this,D,O,!0,j)},H.prototype.writeDoubleBE=function(D,O,j){return xe(this,D,O,!1,j)},H.prototype.copy=function(D,O,j,pe){if(j||(j=0),pe||0===pe||(pe=this.length),O>=D.length&&(O=D.length),O||(O=0),pe>0&&pe<j&&(pe=j),pe===j||0===D.length||0===this.length)return 0;if(O<0)throw new RangeError("targetStart out of bounds");if(j<0||j>=this.length)throw new RangeError("sourceStart out of bounds");if(pe<0)throw new RangeError("sourceEnd out of bounds");pe>this.length&&(pe=this.length),D.length-O<pe-j&&(pe=D.length-O+j);var le,ve=pe-j;if(this===D&&j<O&&O<pe)for(le=ve-1;le>=0;--le)D[le+O]=this[le+j];else if(ve<1e3||!H.TYPED_ARRAY_SUPPORT)for(le=0;le<ve;++le)D[le+O]=this[le+j];else Uint8Array.prototype.set.call(D,this.subarray(j,j+ve),O);return ve},H.prototype.fill=function(D,O,j,pe){if("string"==typeof D){if("string"==typeof O?(pe=O,O=0,j=this.length):"string"==typeof j&&(pe=j,j=this.length),1===D.length){var le=D.charCodeAt(0);le<256&&(D=le)}if(void 0!==pe&&"string"!=typeof pe)throw new TypeError("encoding must be a string");if("string"==typeof pe&&!H.isEncoding(pe))throw new TypeError("Unknown encoding: "+pe)}else"number"==typeof D&&(D&=255);if(O<0||this.length<O||this.length<j)throw new RangeError("Out of range index");if(j<=O)return this;var ve;if(O>>>=0,j=void 0===j?this.length:j>>>0,D||(D=0),"number"==typeof D)for(ve=O;ve<j;++ve)this[ve]=D;else{var Ye=H.isBuffer(D)?D:Qe(new H(D,pe).toString()),mt=Ye.length;for(ve=0;ve<j-O;++ve)this[ve+O]=Ye[ve%mt]}return this};var Fe=/[^+\/0-9A-Za-z-_]/g;function Oe(D){return D<16?"0"+D.toString(16):D.toString(16)}function Qe(D,O){var j;O=O||1/0;for(var pe=D.length,le=null,ve=[],Ye=0;Ye<pe;++Ye){if((j=D.charCodeAt(Ye))>55295&&j<57344){if(!le){if(j>56319){(O-=3)>-1&&ve.push(239,191,189);continue}if(Ye+1===pe){(O-=3)>-1&&ve.push(239,191,189);continue}le=j;continue}if(j<56320){(O-=3)>-1&&ve.push(239,191,189),le=j;continue}j=65536+(le-55296<<10|j-56320)}else le&&(O-=3)>-1&&ve.push(239,191,189);if(le=null,j<128){if((O-=1)<0)break;ve.push(j)}else if(j<2048){if((O-=2)<0)break;ve.push(j>>6|192,63&j|128)}else if(j<65536){if((O-=3)<0)break;ve.push(j>>12|224,j>>6&63|128,63&j|128)}else{if(!(j<1114112))throw new Error("Invalid code point");if((O-=4)<0)break;ve.push(j>>18|240,j>>12&63|128,j>>6&63|128,63&j|128)}}return ve}function rt(D){return K.toByteArray(function(O){if((O=(j=O,j.trim?j.trim():j.replace(/^\s+|\s+$/g,"")).replace(Fe,"")).length<2)return"";for(var j;O.length%4!=0;)O+="=";return O}(D))}function Xe(D,O,j,pe){for(var le=0;le<pe&&!(le+j>=O.length||le>=D.length);++le)O[le+j]=D[le];return le}}).call(this,F(18))},function(Ke,Ce,F){"use strict";(function(d){var K=F(0),B=F(12),Z=F(1),te=F(3),J=F(17),H=F(6),$=F(13),U=F(7),P=F(8),N=F(9),W=F(15),oe=F(16),he=F(5);function ee(de){try{return d.isBuffer(de)}catch(we){return!1}}function G(de){try{return new DataView(de)}catch(we){return new B.a(de)}}function re(de){var we=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{expanded:!1},Ne=!1,je={},Le=J.a.parseAppMarkers(de),et=Le.fileDataOffset,w=Le.tiffHeaderOffset,ne=Le.iptcDataOffset,ce=Le.xmpChunks,Se=Le.iccChunks,xe=Le.mpfDataOffset,Fe=Le.pngHeaderOffset;if(Z.a.USE_JPEG&&Z.a.USE_FILE&&ue(et)){Ne=!0;var Oe=$.a.read(de,et);we.expanded?je.file=Oe:je=Object(K.f)({},je,Oe)}if(Z.a.USE_EXIF&&_e(w)){Ne=!0;var Qe=H.a.read(de,w);if(Qe.Thumbnail&&(je.Thumbnail=Qe.Thumbnail,delete Qe.Thumbnail),we.expanded?(je.exif=Qe,Te(je)):je=Object(K.f)({},je,Qe),Z.a.USE_TIFF&&Z.a.USE_IPTC&&Qe["IPTC-NAA"]&&!Pe(ne)){var rt=U.a.read(Qe["IPTC-NAA"].value,0);we.expanded?je.iptc=rt:je=Object(K.f)({},je,rt)}if(Z.a.USE_TIFF&&Z.a.USE_XMP&&Qe.ApplicationNotes&&!Be(ce)){var Xe=P.a.read(Object(K.d)(Qe.ApplicationNotes.value));we.expanded?je.xmp=Xe:je=Object(K.f)({},je,Xe)}if(Z.a.USE_TIFF&&Z.a.USE_ICC&&Qe.ICC_Profile&&!Je(Se)){var D=N.a.read(Qe.ICC_Profile.value,[{offset:0,length:Qe.ICC_Profile.value.length,chunkNumber:1,chunksTotal:1}]);we.expanded?je.icc=D:je=Object(K.f)({},je,D)}}if(Z.a.USE_JPEG&&Z.a.USE_IPTC&&Pe(ne)){Ne=!0;var O=U.a.read(de,ne);we.expanded?je.iptc=O:je=Object(K.f)({},je,O)}if(Z.a.USE_XMP&&Be(ce)){Ne=!0;var j=P.a.read(de,ce);we.expanded?je.xmp=j:je=Object(K.f)({},je,j)}if((Z.a.USE_JPEG||Z.a.USE_WEBP)&&Z.a.USE_ICC&&Je(Se)){Ne=!0;var pe=N.a.read(de,Se);we.expanded?je.icc=pe:je=Object(K.f)({},je,pe)}if(Z.a.USE_MPF&&lt(xe)){Ne=!0;var le=H.a.readMpf(de,xe);we.expanded?je.mpf=le:je=Object(K.f)({},je,le)}if(Z.a.USE_PNG&&Z.a.USE_PNG_FILE&&it(Fe)){Ne=!0;var ve=W.a.read(de,Fe);we.expanded?je.pngFile=ve:je=Object(K.f)({},je,ve)}var Ye=(Z.a.USE_JPEG||Z.a.USE_WEBP)&&Z.a.USE_EXIF&&Z.a.USE_THUMBNAIL&&oe.a.get(de,je.Thumbnail,w);if(Ye?(Ne=!0,je.Thumbnail=Ye):delete je.Thumbnail,!Ne)throw new he.a.MetadataMissingError;return je}function ue(de){return void 0!==de}function _e(de){return void 0!==de}function Te(de){if(de.exif){if(de.exif.GPSLatitude&&de.exif.GPSLatitudeRef)try{de.gps=de.gps||{},de.gps.Latitude=Object(te.a)(de.exif.GPSLatitude.value),"S"===de.exif.GPSLatitudeRef.value.join("")&&(de.gps.Latitude=-de.gps.Latitude)}catch(we){}if(de.exif.GPSLongitude&&de.exif.GPSLongitudeRef)try{de.gps=de.gps||{},de.gps.Longitude=Object(te.a)(de.exif.GPSLongitude.value),"W"===de.exif.GPSLongitudeRef.value.join("")&&(de.gps.Longitude=-de.gps.Longitude)}catch(we){}if(de.exif.GPSAltitude&&de.exif.GPSAltitudeRef)try{de.gps=de.gps||{},de.gps.Altitude=de.exif.GPSAltitude.value[0]/de.exif.GPSAltitude.value[1],1===de.exif.GPSAltitudeRef.value&&(de.gps.Altitude=-de.gps.Altitude)}catch(we){}}}function Pe(de){return void 0!==de}function Be(de){return Array.isArray(de)&&de.length>0}function Je(de){return Array.isArray(de)&&de.length>0}function lt(de){return void 0!==de}function it(de){return void 0!==de}Ce.a={load:function(de){var we=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{expanded:!1};return ee(de)&&(de=new Uint8Array(de).buffer),re(G(de),we)},loadView:re,errors:he.a}}).call(this,F(10).Buffer)},function(Ke,Ce,F){"use strict";function d(Z){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(te){return typeof te}:function(te){return te&&"function"==typeof Symbol&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te})(Z)}F.d(Ce,"a",function(){return B});var B=function(){function Z($){if(function(U,P){if(!(U instanceof P))throw new TypeError("Cannot call a class as a function")}(this,Z),"object"!==d(U=$)||void 0===U.length||void 0===U.readUInt8||void 0===U.readUInt16LE||void 0===U.readUInt16BE||void 0===U.readUInt32LE||void 0===U.readUInt32BE||void 0===U.readInt32LE||void 0===U.readInt32BE)throw new Error("DataView: Passed buffer type is unsupported.");var U;this.buffer=$,this.byteLength=this.buffer.length}var J;return(J=[{key:"getUint8",value:function($){return this.buffer.readUInt8($)}},{key:"getUint16",value:function($,U){return U?this.buffer.readUInt16LE($):this.buffer.readUInt16BE($)}},{key:"getUint32",value:function($,U){return U?this.buffer.readUInt32LE($):this.buffer.readUInt32BE($)}},{key:"getInt32",value:function($,U){return U?this.buffer.readInt32LE($):this.buffer.readInt32BE($)}}])&&function(Z,te){for(var J=0;J<te.length;J++){var H=te[J];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(Z,H.key,H)}}(Z.prototype,J),Z}()},function(Ke,Ce,F){"use strict";var d=F(2);function K($,U,P){if(!(3>P)){var N=d.a.getByteAt($,U+2);return{value:N,description:""+N}}}function B($,U,P){if(!(5>P)){var N=d.a.getShortAt($,U+3);return{value:N,description:"".concat(N,"px")}}}function Z($,U,P){if(!(7>P)){var N=d.a.getShortAt($,U+5);return{value:N,description:"".concat(N,"px")}}}function te($,U,P,N){if(!(8+3*P>N)){for(var W=[],oe=0;oe<P;oe++){var he=U+8+3*oe;W.push([d.a.getByteAt($,he),d.a.getByteAt($,he+1),d.a.getByteAt($,he+2)])}return{value:W,description:W.length>1?J(W)+H(W):""}}}function J($){var U={1:"Y",2:"Cb",3:"Cr",4:"I",5:"Q"};return $.map(function(P){return U[P[0]]}).join("")}function H($){var U={17:"4:4:4 (1 1)",18:"4:4:0 (1 2)",20:"4:4:1 (1 4)",33:"4:2:2 (2 1)",34:"4:2:0 (2 2)",36:"4:2:1 (2 4)",65:"4:1:1 (4 1)",66:"4:1:0 (4 2)"};return 0===$.length||void 0===$[0][1]||void 0===U[$[0][1]]?"":U[$[0][1]]}Ce.a={read:function($,U){var P=d.a.getShortAt($,U),N=function(W,oe,he){if(!(8>he)){var ee=d.a.getByteAt(W,oe+7);return{value:ee,description:""+ee}}}($,U,P);return{"Bits Per Sample":K($,U,P),"Image Height":B($,U,P),"Image Width":Z($,U,P),"Color Components":N,Subsampling:N&&te($,U,N.value,P)}}}},function(module,__webpack_exports__,__webpack_require__){"use strict";function get(){if("undefined"!=typeof DOMParser)return DOMParser;try{return eval("require")("xmldom").DOMParser}catch(Ke){return}}__webpack_exports__.a={get}},function(Ke,Ce,F){"use strict";var d=F(2);function K(U,P){if(!(P+0+4>U.byteLength)){var N=d.a.getLongAt(U,P);return{value:N,description:"".concat(N,"px")}}}function B(U,P){if(!(P+4+4>U.byteLength)){var N=d.a.getLongAt(U,P+4);return{value:N,description:"".concat(N,"px")}}}function Z(U,P){if(!(P+8+1>U.byteLength)){var N=d.a.getByteAt(U,P+8);return{value:N,description:"".concat(N)}}}function te(U,P){if(!(P+9+1>U.byteLength)){var N=d.a.getByteAt(U,P+9);return{value:N,description:{0:"Grayscale",2:"RGB",3:"Palette",4:"Grayscale with Alpha",6:"RGB with Alpha"}[N]||"Unknown"}}}function J(U,P){if(!(P+10+1>U.byteLength)){var N=d.a.getByteAt(U,P+10);return{value:N,description:0===N?"Deflate/Inflate":"Unknown"}}}function H(U,P){if(!(P+11+1>U.byteLength)){var N=d.a.getByteAt(U,P+11);return{value:N,description:0===N?"Adaptive":"Unknown"}}}function $(U,P){if(!(P+12+1>U.byteLength)){var N=d.a.getByteAt(U,P+12);return{value:N,description:{0:"Noninterlaced",1:"Adam7 Interlace"}[N]||"Unknown"}}}Ce.a={read:function(U,P){return{"Image Width":K(U,P),"Image Height":B(U,P),"Bit Depth":Z(U,P),"Color Type":te(U,P),Compression:J(U,P),Filter:H(U,P),Interlace:$(U,P)}}}},function(Ke,Ce,F){"use strict";var d=F(0),K=[6,7,99];Ce.a={get:function(B,Z,te){if((H=Z)&&(void 0===H.Compression||K.includes(H.Compression.value))&&H.JPEGInterchangeFormat&&H.JPEGInterchangeFormat.value&&H.JPEGInterchangeFormatLength&&H.JPEGInterchangeFormatLength.value){Z.type="image/jpeg";var J=te+Z.JPEGInterchangeFormat.value;Z.image=B.buffer.slice(J,J+Z.JPEGInterchangeFormatLength.value),Object(d.a)(Z,"base64",function(){return Object(d.b)(this.image)})}var H;return Z}}},function(Ke,Ce,F){"use strict";var d=F(1),K=F(4),Z=F(0),J=4+"ICC_PROFILE\0".length,H=J+1;function $(de,we){return 65472===de.getUint16(we)}function U(de,we){return 65474===de.getUint16(we)}function P(de,we){var Ne="ICC_PROFILE\0".length;return 65506===de.getUint16(we)&&"ICC_PROFILE\0"===Object(Z.c)(de,we+4,Ne)}function N(de,we){var Ne="MPF\0".length;return 65506===de.getUint16(we)&&"MPF\0"===Object(Z.c)(de,we+4,Ne)}function W(de,we){var Ne="Exif".length;return 65505===de.getUint16(we)&&"Exif"===Object(Z.c)(de,we+4,Ne)&&0===de.getUint8(we+4+Ne)}function oe(de,we){return 65505===de.getUint16(we)&&(Ne=de,je=we,Le="http://ns.adobe.com/xap/1.0/\0".length,"http://ns.adobe.com/xap/1.0/\0"===Object(Z.c)(Ne,je+4,Le));var Ne,je,Le}function he(de,we){return 65505===de.getUint16(we)&&(Ne=de,je=we,Le="http://ns.adobe.com/xmp/extension/\0".length,"http://ns.adobe.com/xmp/extension/\0"===Object(Z.c)(Ne,je+4,Le));var Ne,je,Le}function ee(de,we){return{dataOffset:de+33,length:we-31}}function G(de,we){return{dataOffset:de+79,length:we-77}}function re(de,we){var Ne="Photoshop 3.0".length;return 65517===de.getUint16(we)&&"Photoshop 3.0"===Object(Z.c)(de,we+4,Ne)&&0===de.getUint8(we+4+Ne)}function ue(de,we){var Ne=de.getUint16(we);return Ne>=65504&&Ne<=65519||65534===Ne||65472===Ne||65474===Ne||65476===Ne||65499===Ne||65501===Ne||65498===Ne}function Te(de,we){return"IHDR"===Object(Z.c)(de,we+4,4)}function Pe(de,we){return"iTXt"===Object(Z.c)(de,we+4,4)&&"XML:com.adobe.xmp\0"===Object(Z.c)(de,we+8,"XML:com.adobe.xmp\0".length)}function Be(de,we){we+=8+"XML:com.adobe.xmp\0".length+1+1;for(var Ne=0;Ne<2&&we<de.byteLength;)0===de.getUint8(we)&&Ne++,we++;if(!(Ne<2))return we}function lt(de,we){var Ne=de.getUint32(we);return 0===Ne?de.byteLength-we:1===Ne&&function(je,Le){return 0===je.getUint32(Le+8)}(de,we)?de.getUint32(we+12):Ne}Ce.a={parseAppMarkers:function(de){if(d.a.USE_TIFF&&function(de){return de.byteLength>=4&&(Ne=(we=de).getUint16(0)===K.a.LITTLE_ENDIAN,42===we.getUint16(2,Ne));var we,Ne}(de))return d.a.USE_EXIF?{hasAppMarkers:!0,tiffHeaderOffset:0}:{};if(d.a.USE_JPEG&&function(de){return de.byteLength>=2&&65496===de.getUint16(0)}(de))return function(de){for(var we,Ne,je,Le,et,w,ne,ce,Se=2;Se+4+5<=de.byteLength;){if(d.a.USE_FILE&&$(de,Se))Ne=Se+2;else if(d.a.USE_FILE&&U(de,Se))je=Se+2;else if(d.a.USE_EXIF&&W(de,Se))we=de.getUint16(Se+2),Le=Se+10;else if(d.a.USE_XMP&&oe(de,Se))w||(w=[]),we=de.getUint16(Se+2),w.push(ee(Se,we));else if(d.a.USE_XMP&&he(de,Se))w||(w=[]),we=de.getUint16(Se+2),w.push(G(Se,we));else if(d.a.USE_IPTC&&re(de,Se))we=de.getUint16(Se+2),et=Se+18;else if(d.a.USE_ICC&&P(de,Se)){var xe=Se+18,Fe=(we=de.getUint16(Se+2))-16,Oe=de.getUint8(Se+J),Qe=de.getUint8(Se+H);ne||(ne=[]),ne.push({offset:xe,length:Fe,chunkNumber:Oe,chunksTotal:Qe})}else if(d.a.USE_MPF&&N(de,Se))we=de.getUint16(Se+2),ce=Se+8;else{if(!ue(de,Se))break;we=de.getUint16(Se+2)}Se+=2+we}return{hasAppMarkers:Se>2,fileDataOffset:Ne||je,tiffHeaderOffset:Le,iptcDataOffset:et,xmpChunks:w,iccChunks:ne,mpfDataOffset:ce}}(de);if(d.a.USE_PNG&&function(de){return"\x89PNG\r\n\x1a\n"===Object(Z.c)(de,0,"\x89PNG\r\n\x1a\n".length)}(de))return function(de){for(var we={hasAppMarkers:!1},Ne="\x89PNG\r\n\x1a\n".length;Ne+4+4<=de.byteLength;){if(d.a.USE_PNG_FILE&&Te(de,Ne))we.hasAppMarkers=!0,we.pngHeaderOffset=Ne+8;else if(d.a.USE_XMP&&Pe(de,Ne)){var je=Be(de,Ne);void 0!==je&&(we.hasAppMarkers=!0,we.xmpChunks=[{dataOffset:je,length:de.getUint32(Ne+0)-(je-(Ne+8))}])}Ne+=de.getUint32(Ne+0)+4+4+4}return we}(de);if(d.a.USE_HEIC&&function(de){var we=Object(Z.c)(de,4+"ftyp".length,4);return"ftyp"===Object(Z.c)(de,4,"ftyp".length)&&-1!==["heic","heix","hevc","hevx","heim","heis","hevm","hevs","mif1"].indexOf(we)}(de))return function(de){if(d.a.USE_EXIF||d.a.USE_ICC){var we=function(Fe){for(var Oe=0;Oe+4+4<=Fe.byteLength;){var Qe=lt(Fe,Oe);if(Qe>=8&&"meta"===Object(Z.c)(Fe,Oe+4,4))return{offset:Oe,length:Qe};Oe+=Qe}return{offset:void 0,length:0}}(de),Ne=we.offset;if(void 0===Ne)return{hasAppMarkers:!1};var Le=Math.min(Ne+we.length,de.byteLength),et=function(Fe,Oe,Qe){for(var rt={ilocOffset:void 0,exifItemOffset:void 0,colrOffset:void 0};Oe+4<=Qe&&(!rt.ilocOffset||!rt.exifItemOffset||!rt.colrOffset);){var Xe=Object(Z.c)(Fe,Oe,4);d.a.USE_EXIF&&"iloc"===Xe?rt.ilocOffset=Oe:d.a.USE_EXIF&&"Exif"===Xe?rt.exifItemOffset=Oe+-4:d.a.USE_ICC&&"colr"===Xe&&(rt.colrOffset=Oe+-4),Oe++}return rt}(de,Ne,Le),ce=et.colrOffset,Se=function(Fe,Oe,Qe,rt){if(Qe&&Oe&&!(Oe+2>rt)){var Xe=Fe.getUint16(Oe);for(Qe+=12;Qe+16<=rt;){if(Fe.getUint16(Qe)===Xe){var D=Fe.getUint32(Qe+8);if(D+4<=Fe.byteLength)return D+(Fe.getUint32(D)+4)}Qe+=16}}}(de,et.exifItemOffset,et.ilocOffset,Le),xe=function(Fe,Oe,Qe){if(Oe&&!(Oe+12>Qe)){var rt=Object(Z.c)(Fe,Oe+8,4);if("prof"===rt||"rICC"===rt)return[{offset:Oe+12,length:lt(Fe,Oe)-12,chunkNumber:1,chunksTotal:1}]}}(de,ce,Le);return{hasAppMarkers:void 0!==Se||void 0!==xe,tiffHeaderOffset:Se,iccChunks:xe}}return{hasAppMarkers:!1}}(de);if(d.a.USE_WEBP&&function(de){return"RIFF"===Object(Z.c)(de,0,"RIFF".length)&&"WEBP"===Object(Z.c)(de,8,"WEBP".length)}(de))return function(de){for(var we,Ne,je,Le=12,et=!1;Le+8<de.byteLength;){var w=Object(Z.c)(de,Le,4),ne=de.getUint32(Le+4,!0);d.a.USE_EXIF&&"EXIF"===w?(et=!0,we="Exif\0\0"===Object(Z.c)(de,Le+8,"Exif\0\0".length)?Le+8+"Exif\0\0".length:Le+8):d.a.USE_XMP&&"XMP "===w?(et=!0,Ne=[{dataOffset:Le+8,length:ne}]):d.a.USE_ICC&&"ICCP"===w&&(et=!0,je=[{offset:Le+8,length:ne,chunkNumber:1,chunksTotal:1}]),Le+=8+(ne%2==0?ne:ne+1)}return{hasAppMarkers:et,tiffHeaderOffset:we,xmpChunks:Ne,iccChunks:je}}(de);throw new Error("Invalid image format")}}},function(Ke,Ce){function F(K){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(B){return typeof B}:function(B){return B&&"function"==typeof Symbol&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B})(K)}var d;d=function(){return this}();try{d=d||new Function("return this")()}catch(K){"object"===("undefined"==typeof window?"undefined":F(window))&&(d=window)}Ke.exports=d},function(Ke,Ce,F){"use strict";Ce.byteLength=function(U){var P=H(U),W=P[1];return 3*(P[0]+W)/4-W},Ce.toByteArray=function(U){var P,N,Te,W=H(U),oe=W[0],he=W[1],ee=new B(3*(oe+(Te=he))/4-Te),G=0,re=he>0?oe-4:oe;for(N=0;N<re;N+=4)P=K[U.charCodeAt(N)]<<18|K[U.charCodeAt(N+1)]<<12|K[U.charCodeAt(N+2)]<<6|K[U.charCodeAt(N+3)],ee[G++]=P>>16&255,ee[G++]=P>>8&255,ee[G++]=255&P;return 2===he&&(P=K[U.charCodeAt(N)]<<2|K[U.charCodeAt(N+1)]>>4,ee[G++]=255&P),1===he&&(P=K[U.charCodeAt(N)]<<10|K[U.charCodeAt(N+1)]<<4|K[U.charCodeAt(N+2)]>>2,ee[G++]=P>>8&255,ee[G++]=255&P),ee},Ce.fromByteArray=function(U){for(var P,N=U.length,W=N%3,oe=[],he=0,ee=N-W;he<ee;he+=16383)oe.push($(U,he,he+16383>ee?ee:he+16383));return 1===W?oe.push(d[(P=U[N-1])>>2]+d[P<<4&63]+"=="):2===W&&oe.push(d[(P=(U[N-2]<<8)+U[N-1])>>10]+d[P>>4&63]+d[P<<2&63]+"="),oe.join("")};for(var d=[],K=[],B="undefined"!=typeof Uint8Array?Uint8Array:Array,Z="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",te=0,J=Z.length;te<J;++te)d[te]=Z[te],K[Z.charCodeAt(te)]=te;function H(U){var P=U.length;if(P%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var N=U.indexOf("=");return-1===N&&(N=P),[N,N===P?0:4-N%4]}function $(U,P,N){for(var oe,he=[],ee=P;ee<N;ee+=3)he.push(d[(oe=(U[ee]<<16&16711680)+(U[ee+1]<<8&65280)+(255&U[ee+2]))>>18&63]+d[oe>>12&63]+d[oe>>6&63]+d[63&oe]);return he.join("")}K["-".charCodeAt(0)]=62,K["_".charCodeAt(0)]=63},function(Ke,Ce){Ce.read=function(F,d,K,B,Z){var te,J,H=8*Z-B-1,$=(1<<H)-1,U=$>>1,P=-7,N=K?Z-1:0,W=K?-1:1,oe=F[d+N];for(N+=W,te=oe&(1<<-P)-1,oe>>=-P,P+=H;P>0;te=256*te+F[d+N],N+=W,P-=8);for(J=te&(1<<-P)-1,te>>=-P,P+=B;P>0;J=256*J+F[d+N],N+=W,P-=8);if(0===te)te=1-U;else{if(te===$)return J?NaN:1/0*(oe?-1:1);J+=Math.pow(2,B),te-=U}return(oe?-1:1)*J*Math.pow(2,te-B)},Ce.write=function(F,d,K,B,Z,te){var J,H,$,U=8*te-Z-1,P=(1<<U)-1,N=P>>1,W=23===Z?Math.pow(2,-24)-Math.pow(2,-77):0,oe=B?0:te-1,he=B?1:-1,ee=d<0||0===d&&1/d<0?1:0;for(d=Math.abs(d),isNaN(d)||d===1/0?(H=isNaN(d)?1:0,J=P):(J=Math.floor(Math.log(d)/Math.LN2),d*($=Math.pow(2,-J))<1&&(J--,$*=2),(d+=J+N>=1?W/$:W*Math.pow(2,1-N))*$>=2&&(J++,$/=2),J+N>=P?(H=0,J=P):J+N>=1?(H=(d*$-1)*Math.pow(2,Z),J+=N):(H=d*Math.pow(2,N-1)*Math.pow(2,Z),J=0));Z>=8;F[K+oe]=255&H,oe+=he,H/=256,Z-=8);for(J=J<<Z|H,U+=Z;U>0;F[K+oe]=255&J,oe+=he,J/=256,U-=8);F[K+oe-he]|=128*ee}},function(Ke,Ce){var F={}.toString;Ke.exports=Array.isArray||function(d){return"[object Array]"==F.call(d)}},function(Ke,Ce,F){"use strict";F.r(Ce);var d=F(11);function K(){return document.createElement("canvas")}function B(P){for(var N=atob(P.split(",")[1]),W=P.split(",")[0].split(":")[1].split(";")[0],oe=new ArrayBuffer(N.length),he=new Uint8Array(oe),ee=0;ee<N.length;ee++)he[ee]=N.charCodeAt(ee);return new Blob([oe],{type:W})}function Z(P,N){var W=N.width/N.height,oe=Math.min(N.width,P.maxWidth,W*P.maxHeight);return P.maxSize>0&&P.maxSize<N.width*N.height/1e3&&(oe=Math.min(oe,Math.floor(1e3*P.maxSize/N.height))),P.scaleRatio&&(oe=Math.min(oe,Math.floor(P.scaleRatio*N.width))),P.debug&&(console.log("browser-image-resizer: original image size = "+N.width+" px (width) X "+N.height+" px (height)"),console.log("browser-image-resizer: scaled image size = "+oe+" px (width) X "+Math.floor(oe/W)+" px (height)")),oe<=0&&(oe=1,console.warn("browser-image-resizer: image size is too small")),oe}function te(P,N,W,oe){var he=P.width,ee=P.style.width,G=P.height,re=P.style.height;switch(W>4&&(P.width=G,P.style.width=re,P.height=he,P.style.height=ee),W){case 2:N.translate(he,0),N.scale(-1,1);break;case 3:N.translate(he,G),N.rotate(Math.PI);break;case 4:N.translate(0,G),N.scale(1,-1);break;case 5:N.rotate(.5*Math.PI),N.scale(1,-1);break;case 6:N.rotate(.5*Math.PI),N.translate(0,-G);break;case 7:N.rotate(.5*Math.PI),N.translate(he,-G),N.scale(-1,1);break;case 8:N.rotate(-.5*Math.PI),N.translate(-he,0)}N.drawImage(oe,0,0),N.restore()}function J(P,N){var W=document.createElement("canvas"),oe=N.outputWidth/P.width;W.width=P.width*oe,W.height=P.height*oe;var he=P.getContext("2d").getImageData(0,0,P.width,P.height),ee=W.getContext("2d").createImageData(W.width,W.height);return function(G,re,ue){function _e(Qe,rt,Xe,D,O,j){var pe=1-O,le=1-j;return Qe*pe*le+rt*O*le+Xe*pe*j+D*O*j}var Te,Pe,Be,Je,lt,it,de,we,Ne,je,Le,et,w,ne,ce,Se,xe,Fe,Oe;for(Te=0;Te<re.height;++Te)for(Be=Te/ue,Je=Math.floor(Be),lt=Math.ceil(Be)>G.height-1?G.height-1:Math.ceil(Be),Pe=0;Pe<re.width;++Pe)it=Pe/ue,de=Math.floor(it),we=Math.ceil(it)>G.width-1?G.width-1:Math.ceil(it),Ne=4*(Pe+re.width*Te),Se=_e(G.data[je=4*(de+G.width*Je)],G.data[Le=4*(we+G.width*Je)],G.data[et=4*(de+G.width*lt)],G.data[w=4*(we+G.width*lt)],ne=it-de,ce=Be-Je),re.data[Ne]=Se,xe=_e(G.data[je+1],G.data[Le+1],G.data[et+1],G.data[w+1],ne,ce),re.data[Ne+1]=xe,Fe=_e(G.data[je+2],G.data[Le+2],G.data[et+2],G.data[w+2],ne,ce),re.data[Ne+2]=Fe,Oe=_e(G.data[je+3],G.data[Le+3],G.data[et+3],G.data[w+3],ne,ce),re.data[Ne+3]=Oe}(he,ee,oe),W.getContext("2d").putImageData(ee,0,0),W}function H(P){var N=document.createElement("canvas");return N.width=P.width/2,N.height=P.height/2,N.getContext("2d").drawImage(P,0,0,N.width,N.height),N}F.d(Ce,"readAndCompressImage",function(){return U});var $={quality:.5,maxWidth:800,maxHeight:600,autoRotate:!0,debug:!1,mimeType:"image/jpeg"};function U(P,N){return new Promise(function(W,oe){var he=document.createElement("img"),ee=new FileReader,G=Object.assign({},$,N);ee.onload=function(re){he.src=re.target.result,he.onload=function(){var ue={img:he,config:G};if(G.autoRotate){G.debug&&console.log("browser-image-resizer: detecting image orientation...");var _e=function(Be){for(var Je=atob(Be.split(",")[1]),lt=new ArrayBuffer(Je.length),it=new Uint8Array(lt),de=0;de<Je.length;de++)it[de]=Je.charCodeAt(de);return lt}(he.src),Te={};try{Te=d.a.load(_e).Orientation||{}}catch(Be){console.error("browser-image-resizer: Error getting orientation"),console.error(Be)}G.debug&&console.log("browser-image-resizer: image orientation from EXIF tag = "+Te),ue.orientation=Te.value}else G.debug&&console.log("browser-image-resizer: ignoring EXIF orientation tag because autoRotate is false...");try{var Pe=function(){var Be=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},Je=Be.img,lt=Be.config,it=Be.orientation,de=void 0===it?1:it,we=K();we.width=Je.width,we.height=Je.height;var Ne=we.getContext("2d");Ne.save(),te(we,Ne,de,Je);for(var je=Z(lt,we);we.width>=2*je;)we=H(we);we.width>je&&(we=J(we,Object.assign(lt,{outputWidth:je})));var Le=we.toDataURL(lt.mimeType,lt.quality);return"function"==typeof lt.onScale&&lt.onScale(Le),B(Le)}(ue);W(Pe)}catch(Be){oe(Be)}}};try{ee.readAsDataURL(P)}catch(re){oe(re)}})}}])},module.exports=Ce()},2329:(Ke,Ce,F)=>{"use strict";F.d(Ce,{Mq:()=>d.getApp,C6:()=>d.getApps});var d=F(8026);(0,d.registerVersion)("firebase","9.4.1","app")},7841:(Ke,Ce,F)=>{"use strict";F.d(Ce,{Z:()=>d.Z});var d=F(3394);d.Z.registerVersion("firebase","9.4.1","app-compat")},941:(Ke,Ce,F)=>{"use strict";F.r(Ce);var d=F(8239),K=F(3394),B=F(3854),Z=F(8026);function $(y,p){var g={};for(var b in y)Object.prototype.hasOwnProperty.call(y,b)&&p.indexOf(b)<0&&(g[b]=y[b]);if(null!=y&&"function"==typeof Object.getOwnPropertySymbols){var A=0;for(b=Object.getOwnPropertySymbols(y);A<b.length;A++)p.indexOf(b[A])<0&&Object.prototype.propertyIsEnumerable.call(y,b[A])&&(g[b[A]]=y[b[A]])}return g}var et=F(5422),w=F(3910);const rt=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Xe=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},D=new B.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),j=new et.Yd("@firebase/auth");function pe(y,...p){j.logLevel<=et.in.ERROR&&j.error(`Auth (${Z.SDK_VERSION}): ${y}`,...p)}function le(y,...p){throw Nt(y,...p)}function ve(y,...p){return Nt(y,...p)}function Ye(y,p,g){const b=Object.assign(Object.assign({},Xe()),{[p]:g});return new B.LL("auth","Firebase",b).create(p,{appName:y.name})}function mt(y,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&le(y,"argument-error"),Ye(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Nt(y,...p){if("string"!=typeof y){const g=p[0],b=[...p.slice(1)];return b[0]&&(b[0].appName=y.name),y._errorFactory.create(g,...b)}return D.create(y,...p)}function ke(y,p,...g){if(!y)throw Nt(p,...g)}function Et(y){const p="INTERNAL ASSERTION FAILED: "+y;throw pe(p),new Error(p)}function hn(y,p){y||Et(p)}const st=new Map;function zt(y){hn(y instanceof Function,"Expected a class definition");let p=st.get(y);return p?(hn(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,st.set(y,p),p)}function Ct(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function wt(){return"http:"===Ht()||"https:"===Ht()}function Ht(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class en{constructor(p,g){this.shortDelay=p,this.longDelay=g,hn(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,B.uI)()||(0,B.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(wt()||(0,B.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function tt(y,p){hn(y.emulator,"Emulator should always be set here");const{url:g}=y.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class vt{static initialize(p,g,b){this.fetchImpl=p,g&&(this.headersImpl=g),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Et("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Et("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Et("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Dc={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},hs=new en(3e4,6e4);function sn(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function Mt(y,p,g,b){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,d.Z)(function*(y,p,g,b,A={}){return Rc(y,A,()=>{let x={},ae={};b&&("GET"===p?ae=b:x={body:JSON.stringify(b)});const De=(0,B.xO)(Object.assign({key:y.config.apiKey},ae)).slice(1),Ze=new(vt.headers());return Ze.set("Content-Type","application/json"),Ze.set("X-Client-Version",y._getSdkClientVersion()),y.languageCode&&Ze.set("X-Firebase-Locale",y.languageCode),vt.fetch()(ze(y,y.config.apiHost,g,De),Object.assign({method:p,headers:Ze,referrerPolicy:"no-referrer"},x))})})).apply(this,arguments)}function Rc(y,p,g){return fe.apply(this,arguments)}function fe(){return(fe=(0,d.Z)(function*(y,p,g){y._canInitEmulator=!1;const b=Object.assign(Object.assign({},Dc),p);try{const A=new Ae(y),x=yield Promise.race([g(),A.promise]);A.clearNetworkTimeout();const ae=yield x.json();if("needConfirmation"in ae)throw ct(y,"account-exists-with-different-credential",ae);if(x.ok&&!("errorMessage"in ae))return ae;{const De=x.ok?ae.errorMessage:ae.error.message,[Ze,We]=De.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ze)throw ct(y,"credential-already-in-use",ae);if("EMAIL_EXISTS"===Ze)throw ct(y,"email-already-in-use",ae);const ht=b[Ze]||Ze.toLowerCase().replace(/[_\s]+/g,"-");if(We)throw Ye(y,ht,We);le(y,ht)}}catch(A){if(A instanceof B.ZR)throw A;le(y,"network-request-failed")}})).apply(this,arguments)}function ie(y,p,g,b){return ge.apply(this,arguments)}function ge(){return(ge=(0,d.Z)(function*(y,p,g,b,A={}){const x=yield Mt(y,p,g,b,A);return"mfaPendingCredential"in x&&le(y,"multi-factor-auth-required",{_serverResponse:x}),x})).apply(this,arguments)}function ze(y,p,g,b){const A=`${p}${g}?${b}`;return y.config.emulator?tt(y.config,A):`${y.config.apiScheme}://${A}`}class Ae{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,b)=>{this.timer=setTimeout(()=>b(ve(this.auth,"timeout")),hs.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ct(y,p,g){const b={appName:y.name};g.email&&(b.email=g.email),g.phoneNumber&&(b.phoneNumber=g.phoneNumber);const A=ve(y,p,b);return A.customData._tokenResponse=g,A}function Jt(){return(Jt=(0,d.Z)(function*(y,p){return Mt(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Pn(y,p){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,d.Z)(function*(y,p){return Mt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function _r(y,p){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,d.Z)(function*(y,p){return Mt(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function cr(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function Gs(){return(Gs=(0,d.Z)(function*(y,p=!1){const g=(0,B.m9)(y),b=yield g.getIdToken(p),A=Ws(b);ke(A&&A.exp&&A.auth_time&&A.iat,g.auth,"internal-error");const x="object"==typeof A.firebase?A.firebase:void 0,ae=null==x?void 0:x.sign_in_provider;return{claims:A,token:b,authTime:cr(ml(A.auth_time)),issuedAtTime:cr(ml(A.iat)),expirationTime:cr(ml(A.exp)),signInProvider:ae||null,signInSecondFactor:(null==x?void 0:x.sign_in_second_factor)||null}})).apply(this,arguments)}function ml(y){return 1e3*Number(y)}function Ws(y){const[p,g,b]=y.split(".");if(void 0===p||void 0===g||void 0===b)return pe("JWT malformed, contained fewer than 3 sections"),null;try{const A=(0,B.tV)(g);return A?JSON.parse(A):(pe("Failed to decode base64 JWT payload"),null)}catch(A){return pe("Caught error parsing JWT payload as JSON",A),null}}function ri(y,p){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,d.Z)(function*(y,p,g=!1){if(g)return p;try{return yield p}catch(b){throw b instanceof B.ZR&&zr(b)&&y.auth.currentUser===y&&(yield y.auth.signOut()),b}})).apply(this,arguments)}function zr({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class yi{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const A=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const b=this.getInterval(p);this.timerId=setTimeout((0,d.Z)(function*(){yield g.iteration()}),b)}iteration(){var p=this;return(0,d.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&p.schedule(!0))}p.schedule()})()}}class ii{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=cr(this.lastLoginAt),this.creationTime=cr(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function qs(y){return yr.apply(this,arguments)}function yr(){return(yr=(0,d.Z)(function*(y){var p;const g=y.auth,b=yield y.getIdToken(),A=yield ri(y,_r(g,{idToken:b}));ke(null==A?void 0:A.users.length,g,"internal-error");const x=A.users[0];y._notifyReloadListener(x);const ae=(null===(p=x.providerUserInfo)||void 0===p?void 0:p.length)?Or(x.providerUserInfo):[],De=ln(y.providerData,ae),ht=!!y.isAnonymous&&!(y.email&&x.passwordHash||(null==De?void 0:De.length)),gt={uid:x.localId,displayName:x.displayName||null,photoURL:x.photoUrl||null,email:x.email||null,emailVerified:x.emailVerified||!1,phoneNumber:x.phoneNumber||null,tenantId:x.tenantId||null,providerData:De,metadata:new ii(x.createdAt,x.lastLoginAt),isAnonymous:ht};Object.assign(y,gt)})).apply(this,arguments)}function Ft(){return(Ft=(0,d.Z)(function*(y){const p=(0,B.m9)(y);yield qs(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function ln(y,p){return[...y.filter(b=>!p.some(A=>A.providerId===b.providerId)),...p]}function Or(y){return y.map(p=>{var{providerId:g}=p,b=$(p,["providerId"]);return{providerId:g,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function On(){return(On=(0,d.Z)(function*(y,p){const g=yield Rc(y,{},()=>{const b=(0,B.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:A,apiKey:x}=y.config,ae=ze(y,A,"/v1/token",`key=${x}`);return vt.fetch()(ae,{method:"POST",headers:{"X-Client-Version":y._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:b})});return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Hr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){ke(p.idToken,"internal-error"),ke(void 0!==p.idToken,"internal-error"),ke(void 0!==p.refreshToken,"internal-error");const g="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function(y){const p=Ws(y);return ke(p,"internal-error"),ke(void 0!==p.exp,"internal-error"),ke(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}getToken(p,g=!1){var b=this;return(0,d.Z)(function*(){return ke(!b.accessToken||b.refreshToken,p,"user-token-expired"),g||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(p,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var b=this;return(0,d.Z)(function*(){const{accessToken:A,refreshToken:x,expiresIn:ae}=yield function(y,p){return On.apply(this,arguments)}(p,g);b.updateTokensAndExpiration(A,x,Number(ae))})()}updateTokensAndExpiration(p,g,b){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(p,g){const{refreshToken:b,accessToken:A,expirationTime:x}=g,ae=new Hr;return b&&(ke("string"==typeof b,"internal-error",{appName:p}),ae.refreshToken=b),A&&(ke("string"==typeof A,"internal-error",{appName:p}),ae.accessToken=A),x&&(ke("number"==typeof x,"internal-error",{appName:p}),ae.expirationTime=x),ae}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Hr,this.toJSON())}_performRefresh(){return Et("not implemented")}}function cn(y,p){ke("string"==typeof y||void 0===y,"internal-error",{appName:p})}class $r{constructor(p){var{uid:g,auth:b,stsTokenManager:A}=p,x=$(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new yi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=b,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=x.displayName||null,this.email=x.email||null,this.emailVerified=x.emailVerified||!1,this.phoneNumber=x.phoneNumber||null,this.photoURL=x.photoURL||null,this.isAnonymous=x.isAnonymous||!1,this.tenantId=x.tenantId||null,this.metadata=new ii(x.createdAt||void 0,x.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,d.Z)(function*(){const b=yield ri(g,g.stsTokenManager.getToken(g.auth,p));return ke(b,g.auth,"internal-error"),g.accessToken!==b&&(g.accessToken=b,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),b})()}getIdTokenResult(p){return function(y){return Gs.apply(this,arguments)}(this,p)}reload(){return function(y){return Ft.apply(this,arguments)}(this)}_assign(p){this!==p&&(ke(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new $r(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,g=!1){var b=this;return(0,d.Z)(function*(){let A=!1;p.idToken&&p.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(p),A=!0),g&&(yield qs(b)),yield b.auth._persistUserIfCurrent(b),A&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var p=this;return(0,d.Z)(function*(){const g=yield p.getIdToken();return yield ri(p,function(y,p){return Jt.apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var b,A,x,ae,De,Ze,We,ht;const gt=null!==(b=g.displayName)&&void 0!==b?b:void 0,Ut=null!==(A=g.email)&&void 0!==A?A:void 0,Gn=null!==(x=g.phoneNumber)&&void 0!==x?x:void 0,go=null!==(ae=g.photoURL)&&void 0!==ae?ae:void 0,qd=null!==(De=g.tenantId)&&void 0!==De?De:void 0,mu=null!==(Ze=g._redirectEventId)&&void 0!==Ze?Ze:void 0,Hg=null!==(We=g.createdAt)&&void 0!==We?We:void 0,$g=null!==(ht=g.lastLoginAt)&&void 0!==ht?ht:void 0,{uid:_u,emailVerified:Gg,isAnonymous:Wg,providerData:Ph,stsTokenManager:yu}=g;ke(_u&&yu,p,"internal-error");const Zd=Hr.fromJSON(this.name,yu);ke("string"==typeof _u,p,"internal-error"),cn(gt,p.name),cn(Ut,p.name),ke("boolean"==typeof Gg,p,"internal-error"),ke("boolean"==typeof Wg,p,"internal-error"),cn(Gn,p.name),cn(go,p.name),cn(qd,p.name),cn(mu,p.name),cn(Hg,p.name),cn($g,p.name);const Yd=new $r({uid:_u,auth:p,email:Ut,emailVerified:Gg,displayName:gt,isAnonymous:Wg,photoURL:go,phoneNumber:Gn,tenantId:qd,stsTokenManager:Zd,createdAt:Hg,lastLoginAt:$g});return Ph&&Array.isArray(Ph)&&(Yd.providerData=Ph.map(oa=>Object.assign({},oa))),mu&&(Yd._redirectEventId=mu),Yd}static _fromIdTokenResponse(p,g,b=!1){return(0,d.Z)(function*(){const A=new Hr;A.updateFromServerResponse(g);const x=new $r({uid:g.localId,auth:p,stsTokenManager:A,isAnonymous:b});return yield qs(x),x})()}}const St=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(g,b){var A=this;return(0,d.Z)(function*(){A.storage[g]=b})()}_get(g){var b=this;return(0,d.Z)(function*(){const A=b.storage[g];return void 0===A?null:A})()}_remove(g){var b=this;return(0,d.Z)(function*(){delete b.storage[g]})()}_addListener(g,b){}_removeListener(g,b){}}return y.type="NONE",y})();function xr(y,p,g){return`firebase:${y}:${p}:${g}`}class si{constructor(p,g,b){this.persistence=p,this.auth=g,this.userKey=b;const{config:A,name:x}=this.auth;this.fullUserKey=xr(this.userKey,A.apiKey,x),this.fullPersistenceKey=xr("persistence",A.apiKey,x),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,d.Z)(function*(){const g=yield p.persistence._get(p.fullUserKey);return g?$r._fromJSON(p.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var g=this;return(0,d.Z)(function*(){if(g.persistence===p)return;const b=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=p,b?g.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,g,b="authUser"){return(0,d.Z)(function*(){if(!g.length)return new si(zt(St),p,b);const A=(yield Promise.all(g.map(function(){var We=(0,d.Z)(function*(ht){if(yield ht._isAvailable())return ht});return function(ht){return We.apply(this,arguments)}}()))).filter(We=>We);let x=A[0]||zt(St);const ae=xr(b,p.config.apiKey,p.name);let De=null;for(const We of g)try{const ht=yield We._get(ae);if(ht){const gt=$r._fromJSON(p,ht);We!==x&&(De=gt),x=We;break}}catch(ht){}const Ze=A.filter(We=>We._shouldAllowMigration);return x._shouldAllowMigration&&Ze.length?(x=Ze[0],De&&(yield x._set(ae,De.toJSON())),yield Promise.all(g.map(function(){var We=(0,d.Z)(function*(ht){if(ht!==x)try{yield ht._remove(ae)}catch(gt){}});return function(ht){return We.apply(this,arguments)}}())),new si(x,p,b)):new si(x,p,b)})()}}function ir(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(ps(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(Oo(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(tn(p))return"Blackberry";if(sd(p))return"Webos";if(ur(p))return"Safari";if((p.includes("chrome/")||xo(p))&&!p.includes("edge/"))return"Chrome";if(vr(p))return"Android";{const b=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==b?void 0:b.length))return b[1]}return"Other"}function Oo(y=(0,B.z$)()){return/firefox\//i.test(y)}function ur(y=(0,B.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function xo(y=(0,B.z$)()){return/crios\//i.test(y)}function ps(y=(0,B.z$)()){return/iemobile/i.test(y)}function vr(y=(0,B.z$)()){return/android/i.test(y)}function tn(y=(0,B.z$)()){return/blackberry/i.test(y)}function sd(y=(0,B.z$)()){return/webos/i.test(y)}function ko(y=(0,B.z$)()){return/iphone|ipad|ipod/i.test(y)}function Ji(y=(0,B.z$)()){return ko(y)||vr(y)||sd(y)||tn(y)||/windows phone/i.test(y)||ps(y)}function dr(y,p=[]){let g;switch(y){case"Browser":g=ir((0,B.z$)());break;case"Worker":g=`${ir((0,B.z$)())}-${y}`;break;default:g=y}const b=p.length?p.join(","):"FirebaseCore-web";return`${g}/JsCore/${Z.SDK_VERSION}/${b}`}class og{constructor(p,g){this.app=p,this.config=g,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fr(this),this.idTokenSubscription=new fr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=D,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=g.sdkClientVersion}_initializeWithPersistence(p,g){var b=this;return g&&(this._popupRedirectResolver=zt(g)),this._initializationPromise=this.queue((0,d.Z)(function*(){var A,x;b._deleted||(b.persistenceManager=yield si.create(b,p),!b._deleted&&((null===(A=b._popupRedirectResolver)||void 0===A?void 0:A._shouldInitProactively)&&(yield b._popupRedirectResolver._initialize(b)),yield b.initializeCurrentUser(g),b.lastNotifiedUid=(null===(x=b.currentUser)||void 0===x?void 0:x.uid)||null,!b._deleted&&(b._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,d.Z)(function*(){if(p._deleted)return;const g=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||g){if(p.currentUser&&g&&p.currentUser.uid===g.uid)return p._currentUser._assign(g),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(g)}})()}initializeCurrentUser(p){var g=this;return(0,d.Z)(function*(){var b;let A=yield g.assertedPersistence.getCurrentUser();if(p&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const x=null===(b=g.redirectUser)||void 0===b?void 0:b._redirectEventId,ae=null==A?void 0:A._redirectEventId,De=yield g.tryRedirectSignIn(p);(!x||x===ae)&&(null==De?void 0:De.user)&&(A=De.user)}return A?A._redirectEventId?(ke(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===A._redirectEventId?g.directlySetCurrentUser(A):g.reloadAndSetCurrentUserOrClear(A)):g.reloadAndSetCurrentUserOrClear(A):g.directlySetCurrentUser(null)})()}tryRedirectSignIn(p){var g=this;return(0,d.Z)(function*(){let b=null;try{b=yield g._popupRedirectResolver._completeRedirectFn(g,p,!0)}catch(A){yield g._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(p){var g=this;return(0,d.Z)(function*(){try{yield qs(p)}catch(b){if("auth/network-request-failed"!==b.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,d.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var g=this;return(0,d.Z)(function*(){const b=p?(0,B.m9)(p):null;return b&&ke(b.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(b&&b._clone(g))})()}_updateCurrentUser(p){var g=this;return(0,d.Z)(function*(){if(!g._deleted)return p&&ke(g.tenantId===p.tenantId,g,"tenant-id-mismatch"),g.queue((0,d.Z)(function*(){yield g.directlySetCurrentUser(p),g.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,d.Z)(function*(){return(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null)})()}setPersistence(p){var g=this;return this.queue((0,d.Z)(function*(){yield g.assertedPersistence.setPersistence(zt(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new B.LL("auth","Firebase",p())}onAuthStateChanged(p,g,b){return this.registerStateListener(this.authStateSubscription,p,g,b)}onIdTokenChanged(p,g,b){return this.registerStateListener(this.idTokenSubscription,p,g,b)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,g){var b=this;return(0,d.Z)(function*(){const A=yield b.getOrInitRedirectPersistenceManager(g);return null===p?A.removeCurrentUser():A.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var g=this;return(0,d.Z)(function*(){if(!g.redirectPersistenceManager){const b=p&&zt(p)||g._popupRedirectResolver;ke(b,g,"argument-error"),g.redirectPersistenceManager=yield si.create(g,[zt(b._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(p){var g=this;return(0,d.Z)(function*(){var b,A;return g._isInitialized&&(yield g.queue((0,d.Z)(function*(){}))),(null===(b=g._currentUser)||void 0===b?void 0:b._redirectEventId)===p?g._currentUser:(null===(A=g.redirectUser)||void 0===A?void 0:A._redirectEventId)===p?g.redirectUser:null})()}_persistUserIfCurrent(p){var g=this;return(0,d.Z)(function*(){if(p===g.currentUser)return g.queue((0,d.Z)(function*(){return g.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(g=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,g,b,A){if(this._deleted)return()=>{};const x="function"==typeof g?g:g.next.bind(g),ae=this._isInitialized?Promise.resolve():this._initializationPromise;return ke(ae,this,"internal-error"),ae.then(()=>x(this.currentUser)),"function"==typeof g?p.addObserver(g,b,A):p.addObserver(g)}directlySetCurrentUser(p){var g=this;return(0,d.Z)(function*(){g.currentUser&&g.currentUser!==p&&(g._currentUser._stopProactiveRefresh(),p&&g.isProactiveRefreshEnabled&&p._startProactiveRefresh()),g.currentUser=p,p?yield g.assertedPersistence.setCurrentUser(p):yield g.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=dr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function yn(y){return(0,B.m9)(y)}class fr{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,B.ne)(g=>this.observer=g)}get next(){return ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ya(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function vi(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class va{constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return Et("not implemented")}_getIdTokenResponse(p){return Et("not implemented")}_linkToIdToken(p,g){return Et("not implemented")}_getReauthenticationResolver(p){return Et("not implemented")}}function ad(y,p){return Nc.apply(this,arguments)}function Nc(){return(Nc=(0,d.Z)(function*(y,p){return Mt(y,"POST","/v1/accounts:resetPassword",sn(y,p))})).apply(this,arguments)}function eh(y,p){return ld.apply(this,arguments)}function ld(){return(ld=(0,d.Z)(function*(y,p){return Mt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function ag(y,p){return ba.apply(this,arguments)}function ba(){return(ba=(0,d.Z)(function*(y,p){return Mt(y,"POST","/v1/accounts:update",sn(y,p))})).apply(this,arguments)}function yl(){return(yl=(0,d.Z)(function*(y,p){return ie(y,"POST","/v1/accounts:signInWithPassword",sn(y,p))})).apply(this,arguments)}function Oc(y,p){return cd.apply(this,arguments)}function cd(){return(cd=(0,d.Z)(function*(y,p){return Mt(y,"POST","/v1/accounts:sendOobCode",sn(y,p))})).apply(this,arguments)}function lg(y,p){return ud.apply(this,arguments)}function ud(){return(ud=(0,d.Z)(function*(y,p){return Oc(y,p)})).apply(this,arguments)}function cg(y,p){return th.apply(this,arguments)}function th(){return(th=(0,d.Z)(function*(y,p){return Oc(y,p)})).apply(this,arguments)}function dd(y,p){return xc.apply(this,arguments)}function xc(){return(xc=(0,d.Z)(function*(y,p){return Oc(y,p)})).apply(this,arguments)}function Vo(y,p){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,d.Z)(function*(y,p){return Oc(y,p)})).apply(this,arguments)}function Ea(){return(Ea=(0,d.Z)(function*(y,p){return ie(y,"POST","/v1/accounts:signInWithEmailLink",sn(y,p))})).apply(this,arguments)}function ki(){return(ki=(0,d.Z)(function*(y,p){return ie(y,"POST","/v1/accounts:signInWithEmailLink",sn(y,p))})).apply(this,arguments)}class wa extends va{constructor(p,g,b,A=null){super("password",b),this._email=p,this._password=g,this._tenantId=A}static _fromEmailAndPassword(p,g){return new wa(p,g,"password")}static _fromEmailAndCode(p,g,b=null){return new wa(p,g,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(p){var g=this;return(0,d.Z)(function*(){switch(g.signInMethod){case"password":return function(y,p){return yl.apply(this,arguments)}(p,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function(y,p){return Ea.apply(this,arguments)}(p,{email:g._email,oobCode:g._password});default:le(p,"internal-error")}})()}_linkToIdToken(p,g){var b=this;return(0,d.Z)(function*(){switch(b.signInMethod){case"password":return eh(p,{idToken:g,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function(y,p){return ki.apply(this,arguments)}(p,{idToken:g,email:b._email,oobCode:b._password});default:le(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function ai(y,p){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,d.Z)(function*(y,p){return ie(y,"POST","/v1/accounts:signInWithIdp",sn(y,p))})).apply(this,arguments)}class br extends va{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new br(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):le("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:A}=g,x=$(g,["providerId","signInMethod"]);if(!b||!A)return null;const ae=new br(b,A);return ae.idToken=x.idToken||void 0,ae.accessToken=x.accessToken||void 0,ae.secret=x.secret,ae.nonce=x.nonce,ae.pendingToken=x.pendingToken||null,ae}_getIdTokenResponse(p){return ai(p,this.buildRequest())}_linkToIdToken(p,g){const b=this.buildRequest();return b.idToken=g,ai(p,b)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,ai(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,B.xO)(g)}return p}}function Fi(y,p){return kc.apply(this,arguments)}function kc(){return(kc=(0,d.Z)(function*(y,p){return Mt(y,"POST","/v1/accounts:sendVerificationCode",sn(y,p))})).apply(this,arguments)}function vl(){return(vl=(0,d.Z)(function*(y,p){return ie(y,"POST","/v1/accounts:signInWithPhoneNumber",sn(y,p))})).apply(this,arguments)}function Gr(){return(Gr=(0,d.Z)(function*(y,p){const g=yield ie(y,"POST","/v1/accounts:signInWithPhoneNumber",sn(y,p));if(g.temporaryProof)throw ct(y,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Ta={USER_NOT_FOUND:"user-not-found"};function Uo(){return(Uo=(0,d.Z)(function*(y,p){return ie(y,"POST","/v1/accounts:signInWithPhoneNumber",sn(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Ta)})).apply(this,arguments)}class Ys extends va{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new Ys({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new Ys({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function(y,p){return vl.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function(y,p){return Gr.apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function(y,p){return Uo.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:b,verificationCode:A}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:b,code:A}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:b,phoneNumber:A,temporaryProof:x}=p;return b||g||A||x?new Ys({verificationId:g,verificationCode:b,phoneNumber:A,temporaryProof:x}):null}}class un{constructor(p){var g,b,A,x,ae,De;const Ze=(0,B.zd)((0,B.pd)(p)),We=null!==(g=Ze.apiKey)&&void 0!==g?g:null,ht=null!==(b=Ze.oobCode)&&void 0!==b?b:null,gt=function(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(A=Ze.mode)&&void 0!==A?A:null);ke(We&&ht&&gt,"argument-error"),this.apiKey=We,this.operation=gt,this.code=ht,this.continueUrl=null!==(x=Ze.continueUrl)&&void 0!==x?x:null,this.languageCode=null!==(ae=Ze.languageCode)&&void 0!==ae?ae:null,this.tenantId=null!==(De=Ze.tenantId)&&void 0!==De?De:null}static parseLink(p){const g=function(y){const p=(0,B.zd)((0,B.pd)(y)).link,g=p?(0,B.zd)((0,B.pd)(p)).deep_link_id:null,b=(0,B.zd)((0,B.pd)(y)).deep_link_id;return(b?(0,B.zd)((0,B.pd)(b)).link:null)||b||g||p||y}(p);try{return new un(g)}catch(b){return null}}}let Li=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(g,b){return wa._fromEmailAndPassword(g,b)}static credentialWithLink(g,b){const A=un.parseLink(b);return ke(A,"argument-error"),wa._fromEmailAndCode(g,A.code,A.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Ci{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class nn extends Ci{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Bo extends nn{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return ke("providerId"in g&&"signInMethod"in g,"argument-error"),br._fromParams(g)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return ke(p.idToken||p.accessToken,"argument-error"),br._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Bo.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Bo.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:b,oauthTokenSecret:A,pendingToken:x,nonce:ae,providerId:De}=p;if(!b&&!A&&!g&&!x||!De)return null;try{return new Bo(De)._credential({idToken:g,accessToken:b,nonce:ae,pendingToken:x})}catch(Ze){return null}}}let bl=(()=>{class y extends nn{constructor(){super("facebook.com")}static credential(g){return br._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch(b){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Ks=(()=>{class y extends nn{constructor(){super("google.com"),this.addScope("profile")}static credential(g,b){return br._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:b})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:b,oauthAccessToken:A}=g;if(!b&&!A)return null;try{return y.credential(b,A)}catch(x){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Wr=(()=>{class y extends nn{constructor(){super("github.com")}static credential(g){return br._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch(b){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class _s extends va{constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return ai(p,this.buildRequest())}_linkToIdToken(p,g){const b=this.buildRequest();return b.idToken=g,ai(p,b)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,ai(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:A,pendingToken:x}=g;return b&&A&&x&&b===A?new _s(b,x):null}static _create(p,g){return new _s(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class hr extends Ci{constructor(p){ke(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return hr.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return hr.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const g=_s.fromJSON(p);return ke(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:g,providerId:b}=p;if(!g||!b)return null;try{return _s._create(b,g)}catch(A){return null}}}let Cl=(()=>{class y extends nn{constructor(){super("twitter.com")}static credential(g,b){return br._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:b})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:b,oauthTokenSecret:A}=g;if(!b||!A)return null;try{return y.credential(b,A)}catch(x){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function El(y,p){return vs.apply(this,arguments)}function vs(){return(vs=(0,d.Z)(function*(y,p){return ie(y,"POST","/v1/accounts:signUp",sn(y,p))})).apply(this,arguments)}class xn{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,b,A=!1){return(0,d.Z)(function*(){const x=yield $r._fromIdTokenResponse(p,b,A),ae=Sa(b);return new xn({user:x,providerId:ae,_tokenResponse:b,operationType:g})})()}static _forOperation(p,g,b){return(0,d.Z)(function*(){yield p._updateTokensIfNecessary(b,!0);const A=Sa(b);return new xn({user:p,providerId:A,_tokenResponse:b,operationType:g})})()}}function Sa(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Tt(){return(Tt=(0,d.Z)(function*(y){var p;const g=yn(y);if(yield g._initializationPromise,null===(p=g.currentUser)||void 0===p?void 0:p.isAnonymous)return new xn({user:g.currentUser,providerId:null,operationType:"signIn"});const b=yield El(g,{returnSecureToken:!0}),A=yield xn._fromIdTokenResponse(g,"signIn",b,!0);return yield g._updateCurrentUser(A.user),A})).apply(this,arguments)}class wl extends B.ZR{constructor(p,g,b,A){var x;super(g.code,g.message),this.operationType=b,this.user=A,Object.setPrototypeOf(this,wl.prototype),this.customData={appName:p.name,tenantId:null!==(x=p.tenantId)&&void 0!==x?x:void 0,_serverResponse:g.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(p,g,b,A){return new wl(p,g,b,A)}}function md(y,p,g,b){return("reauthenticate"===p?g._getReauthenticationResolver(y):g._getIdTokenResponse(y)).catch(x=>{throw"auth/multi-factor-auth-required"===x.code?wl._fromErrorAndOperation(y,x,p,b):x})}function Il(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function Da(){return(Da=(0,d.Z)(function*(y,p){const g=(0,B.m9)(y);yield He(!0,g,p);const{providerUserInfo:b}=yield Pn(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[p]}),A=Il(b||[]);return g.providerData=g.providerData.filter(x=>A.has(x.providerId)),A.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function Lc(y,p){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,d.Z)(function*(y,p,g=!1){const b=yield ri(y,p._linkToIdToken(y.auth,yield y.getIdToken()),g);return xn._forOperation(y,"link",b)})).apply(this,arguments)}function He(y,p,g){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,d.Z)(function*(y,p,g){yield qs(p);const A=!1===y?"provider-already-linked":"no-such-provider";ke(Il(p.providerData).has(g)===y,p.auth,A)})).apply(this,arguments)}function Tl(y,p){return pn.apply(this,arguments)}function pn(){return(pn=(0,d.Z)(function*(y,p,g=!1){const{auth:b}=y,A="reauthenticate";try{const x=yield ri(y,md(b,A,p,y),g);ke(x.idToken,b,"internal-error");const ae=Ws(x.idToken);ke(ae,b,"internal-error");const{sub:De}=ae;return ke(y.uid===De,b,"user-mismatch"),xn._forOperation(y,A,x)}catch(x){throw"auth/user-not-found"===(null==x?void 0:x.code)&&le(b,"user-mismatch"),x}})).apply(this,arguments)}function Sl(y,p){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,d.Z)(function*(y,p,g=!1){const b="signIn",A=yield md(y,b,p),x=yield xn._fromIdTokenResponse(y,b,A);return g||(yield y._updateCurrentUser(x.user)),x})).apply(this,arguments)}function Cr(y,p){return jo.apply(this,arguments)}function jo(){return(jo=(0,d.Z)(function*(y,p){return Sl(yn(y),p)})).apply(this,arguments)}function Ra(y,p){return yd.apply(this,arguments)}function yd(){return(yd=(0,d.Z)(function*(y,p){const g=(0,B.m9)(y);return yield He(!1,g,p.providerId),Lc(g,p)})).apply(this,arguments)}function Vc(y,p){return zo.apply(this,arguments)}function zo(){return(zo=(0,d.Z)(function*(y,p){return Tl((0,B.m9)(y),p)})).apply(this,arguments)}function Ho(y,p){return kn.apply(this,arguments)}function kn(){return(kn=(0,d.Z)(function*(y,p){return ie(y,"POST","/v1/accounts:signInWithCustomToken",sn(y,p))})).apply(this,arguments)}function Ma(){return(Ma=(0,d.Z)(function*(y,p){const g=yn(y),b=yield Ho(g,{token:p,returnSecureToken:!0}),A=yield xn._fromIdTokenResponse(g,"signIn",b);return yield g._updateCurrentUser(A.user),A})).apply(this,arguments)}class ci{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?Er._fromServerResponse(p,g):le(p,"internal-error")}}class Er extends ci{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new Er(g)}}function Uc(y,p,g){var b;ke((null===(b=g.url)||void 0===b?void 0:b.length)>0,y,"invalid-continue-uri"),ke(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(ke(g.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=g.iOS.bundleId),g.android&&(ke(g.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function Pa(){return(Pa=(0,d.Z)(function*(y,p,g){const b=(0,B.m9)(y),A={requestType:"PASSWORD_RESET",email:p};g&&Uc(b,A,g),yield cg(b,A)})).apply(this,arguments)}function Na(){return(Na=(0,d.Z)(function*(y,p,g){yield ad((0,B.m9)(y),{oobCode:p,newPassword:g})})).apply(this,arguments)}function Dl(){return(Dl=(0,d.Z)(function*(y,p){yield ag((0,B.m9)(y),{oobCode:p})})).apply(this,arguments)}function $o(y,p){return Go.apply(this,arguments)}function Go(){return(Go=(0,d.Z)(function*(y,p){const g=(0,B.m9)(y),b=yield ad(g,{oobCode:p}),A=b.requestType;switch(ke(A,g,"internal-error"),A){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ke(b.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ke(b.mfaInfo,g,"internal-error");default:ke(b.email,g,"internal-error")}let x=null;return b.mfaInfo&&(x=ci._fromServerResponse(yn(g),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:x},operation:A}})).apply(this,arguments)}function Qs(){return(Qs=(0,d.Z)(function*(y,p){const{data:g}=yield $o((0,B.m9)(y),p);return g.email})).apply(this,arguments)}function zc(){return(zc=(0,d.Z)(function*(y,p,g){const b=yn(y),A=yield El(b,{returnSecureToken:!0,email:p,password:g}),x=yield xn._fromIdTokenResponse(b,"signIn",A);return yield b._updateCurrentUser(x.user),x})).apply(this,arguments)}function es(){return(es=(0,d.Z)(function*(y,p,g){const b=(0,B.m9)(y),A={requestType:"EMAIL_SIGNIN",email:p};ke(g.handleCodeInApp,b,"argument-error"),g&&Uc(b,A,g),yield dd(b,A)})).apply(this,arguments)}function Qn(){return(Qn=(0,d.Z)(function*(y,p,g){const b=(0,B.m9)(y),A=Li.credentialWithLink(p,g||Ct());return ke(A._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),Cr(b,A)})).apply(this,arguments)}function Wo(y,p){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,d.Z)(function*(y,p){return Mt(y,"POST","/v1/accounts:createAuthUri",sn(y,p))})).apply(this,arguments)}function ih(){return(ih=(0,d.Z)(function*(y,p){const b={identifier:p,continueUri:wt()?Ct():"http://localhost"},{signinMethods:A}=yield Wo((0,B.m9)(y),b);return A||[]})).apply(this,arguments)}function qo(){return(qo=(0,d.Z)(function*(y,p){const g=(0,B.m9)(y),A={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&Uc(g.auth,A,p);const{email:x}=yield lg(g.auth,A);x!==y.email&&(yield y.reload())})).apply(this,arguments)}function Js(){return(Js=(0,d.Z)(function*(y,p,g){const b=(0,B.m9)(y),x={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};g&&Uc(b.auth,x,g);const{email:ae}=yield Vo(b.auth,x);ae!==y.email&&(yield y.reload())})).apply(this,arguments)}function Rl(y,p){return bs.apply(this,arguments)}function bs(){return(bs=(0,d.Z)(function*(y,p){return Mt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Rn(){return(Rn=(0,d.Z)(function*(y,{displayName:p,photoURL:g}){if(void 0===p&&void 0===g)return;const b=(0,B.m9)(y),x={idToken:yield b.getIdToken(),displayName:p,photoUrl:g,returnSecureToken:!0},ae=yield ri(b,Rl(b.auth,x));b.displayName=ae.displayName||null,b.photoURL=ae.photoUrl||null;const De=b.providerData.find(({providerId:Ze})=>"password"===Ze);De&&(De.displayName=b.displayName,De.photoURL=b.photoURL),yield b._updateTokensIfNecessary(ae)})).apply(this,arguments)}function ts(y,p,g){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,d.Z)(function*(y,p,g){const{auth:b}=y,x={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(x.email=p),g&&(x.password=g);const ae=yield ri(y,eh(b,x));yield y._updateTokensIfNecessary(ae,!0)})).apply(this,arguments)}class Yo{constructor(p,g,b={}){this.isNewUser=p,this.providerId=g,this.profile=b}}class Cs extends Yo{constructor(p,g,b,A){super(p,g,b),this.username=A}}class Gc extends Yo{constructor(p,g){super(p,"facebook.com",g)}}class Wc extends Cs{constructor(p,g){super(p,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class hg extends Yo{constructor(p,g){super(p,"google.com",g)}}class pg extends Cs{constructor(p,g,b){super(p,"twitter.com",g,b)}}function Ei(y){const{user:p,_tokenResponse:g}=y;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function(y){var p,g;if(!y)return null;const{providerId:b}=y,A=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},x=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!b&&(null==y?void 0:y.idToken)){const ae=null===(g=null===(p=Ws(y.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if(ae)return new Yo(x,"anonymous"!==ae&&"custom"!==ae?ae:null)}if(!b)return null;switch(b){case"facebook.com":return new Gc(x,A);case"github.com":return new Wc(x,A);case"google.com":return new hg(x,A);case"twitter.com":return new pg(x,A,y.screenName||null);case"custom":case"anonymous":return new Yo(x,null);default:return new Yo(x,b,A)}}(g)}class qr{constructor(p,g){this.type=p,this.credential=g}static _fromIdtoken(p){return new qr("enroll",p)}static _fromMfaPendingCredential(p){return new qr("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,b;if(null==p?void 0:p.multiFactorSession){if(null===(g=p.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return qr._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(b=p.multiFactorSession)||void 0===b?void 0:b.idToken)return qr._fromIdtoken(p.multiFactorSession.idToken)}return null}}class ka{constructor(p,g,b){this.session=p,this.hints=g,this.signInResolver=b}static _fromError(p,g){const b=yn(p),A=g.customData._serverResponse,x=(A.mfaInfo||[]).map(De=>ci._fromServerResponse(b,De));ke(A.mfaPendingCredential,b,"internal-error");const ae=qr._fromMfaPendingCredential(A.mfaPendingCredential);return new ka(ae,x,function(){var De=(0,d.Z)(function*(Ze){const We=yield Ze._process(b,ae);delete A.mfaInfo,delete A.mfaPendingCredential;const ht=Object.assign(Object.assign({},A),{idToken:We.idToken,refreshToken:We.refreshToken});switch(g.operationType){case"signIn":const gt=yield xn._fromIdTokenResponse(b,g.operationType,ht);return yield b._updateCurrentUser(gt.user),gt;case"reauthenticate":return ke(g.user,b,"internal-error"),xn._forOperation(g.user,g.operationType,ht);default:le(b,"internal-error")}});return function(Ze){return De.apply(this,arguments)}}())}resolveSignIn(p){var g=this;return(0,d.Z)(function*(){return g.signInResolver(p)})()}}function n0(y,p){return Mt(y,"POST","/v2/accounts/mfaEnrollment:start",sn(y,p))}class Ad{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(b=>ci._fromServerResponse(p.auth,b)))})}static _fromUser(p){return new Ad(p)}getSession(){var p=this;return(0,d.Z)(function*(){return qr._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,g){var b=this;return(0,d.Z)(function*(){const A=p,x=yield b.getSession(),ae=yield ri(b.user,A._process(b.user.auth,x,g));return yield b.user._updateTokensIfNecessary(ae),b.user.reload()})()}unenroll(p){var g=this;return(0,d.Z)(function*(){const b="string"==typeof p?p:p.uid,A=yield g.user.getIdToken(),x=yield ri(g.user,function(y,p){return Mt(y,"POST","/v2/accounts/mfaEnrollment:withdraw",sn(y,p))}(g.user.auth,{idToken:A,mfaEnrollmentId:b}));g.enrolledFactors=g.enrolledFactors.filter(({uid:ae})=>ae!==b),yield g.user._updateTokensIfNecessary(x);try{yield g.user.reload()}catch(ae){if("auth/user-token-expired"!==ae.code)throw ae}})()}}const Pl=new WeakMap,Xs="__sak";class vn{constructor(p,g){this.storageRetriever=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Xs,"1"),this.storage.removeItem(Xs),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const eo=(()=>{class y extends vn{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,b)=>this.onStorageEvent(g,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const y=(0,B.z$)();return ur(y)||ko(y)}()&&function(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=Ji(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const b of Object.keys(this.listeners)){const A=this.storage.getItem(b),x=this.localCache[b];A!==x&&g(b,x,A)}}onStorageEvent(g,b=!1){if(!g.key)return void this.forAllChangedKeys((De,Ze,We)=>{this.notifyListeners(De,We)});const A=g.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const De=this.storage.getItem(A);if(g.newValue!==De)null!==g.newValue?this.storage.setItem(A,g.newValue):this.storage.removeItem(A);else if(this.localCache[A]===g.newValue&&!b)return}const x=()=>{const De=this.storage.getItem(A);!b&&this.localCache[A]===De||this.notifyListeners(A,De)},ae=this.storage.getItem(A);(0,B.w1)()&&10===document.documentMode&&ae!==g.newValue&&g.newValue!==g.oldValue?setTimeout(x,10):x()}notifyListeners(g,b){this.localCache[g]=b;const A=this.listeners[g];if(A)for(const x of Array.from(A))x(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,b,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:b,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,b){var A=()=>super._set,x=this;return(0,d.Z)(function*(){yield A().call(x,g,b),x.localCache[g]=JSON.stringify(b)})()}_get(g){var b=()=>super._get,A=this;return(0,d.Z)(function*(){const x=yield b().call(A,g);return A.localCache[g]=JSON.stringify(x),x})()}_remove(g){var b=()=>super._remove,A=this;return(0,d.Z)(function*(){yield b().call(A,g),delete A.localCache[g]})()}}return y.type="LOCAL",y})(),bn=(()=>{class y extends vn{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,b){}_removeListener(g,b){}}return y.type="SESSION",y})();let gg=(()=>{class y{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const b=this.receivers.find(x=>x.isListeningto(g));if(b)return b;const A=new y(g);return this.receivers.push(A),A}isListeningto(g){return this.eventTarget===g}handleEvent(g){var b=this;return(0,d.Z)(function*(){const A=g,{eventId:x,eventType:ae,data:De}=A.data,Ze=b.handlersMap[ae];if(!(null==Ze?void 0:Ze.size))return;A.ports[0].postMessage({status:"ack",eventId:x,eventType:ae});const We=Array.from(Ze).map(function(){var gt=(0,d.Z)(function*(Ut){return Ut(A.origin,De)});return function(Ut){return gt.apply(this,arguments)}}()),ht=yield function(y){return Promise.all(y.map(function(){var p=(0,d.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(b){return{fulfilled:!1,reason:b}}});return function(g){return p.apply(this,arguments)}}()))}(We);A.ports[0].postMessage({status:"done",eventId:x,eventType:ae,response:ht})})()}_subscribe(g,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(b)}_unsubscribe(g,b){this.handlersMap[g]&&b&&this.handlersMap[g].delete(b),(!b||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function ws(y="",p=10){let g="";for(let b=0;b<p;b++)g+=Math.floor(10*Math.random());return y+g}class pr{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,g,b=50){var A=this;return(0,d.Z)(function*(){const x="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!x)throw new Error("connection_unavailable");let ae,De;return new Promise((Ze,We)=>{const ht=ws("",20);x.port1.start();const gt=setTimeout(()=>{We(new Error("unsupported_event"))},b);De={messageChannel:x,onMessage(Ut){const Gn=Ut;if(Gn.data.eventId===ht)switch(Gn.data.status){case"ack":clearTimeout(gt),ae=setTimeout(()=>{We(new Error("timeout"))},3e3);break;case"done":clearTimeout(ae),Ze(Gn.data.response);break;default:clearTimeout(gt),clearTimeout(ae),We(new Error("invalid_response"))}}},A.handlers.add(De),x.port1.addEventListener("message",De.onMessage),A.target.postMessage({eventType:p,eventId:ht,data:g},[x.port2])}).finally(()=>{De&&A.removeMessageHandler(De)})})()}}function Fn(){return window}function La(){return void 0!==Fn().WorkerGlobalScope&&"function"==typeof Fn().importScripts}function kl(){return(kl=(0,d.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const ui="firebaseLocalStorageDb",wi="firebaseLocalStorage",to="fbase_key";class Fr{constructor(p){this.request=p}toPromise(){return new Promise((p,g)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Ii(y,p){return y.transaction([wi],p?"readwrite":"readonly").objectStore(wi)}function Vt(){const y=indexedDB.open(ui,1);return new Promise((p,g)=>{y.addEventListener("error",()=>{g(y.error)}),y.addEventListener("upgradeneeded",()=>{const b=y.result;try{b.createObjectStore(wi,{keyPath:to})}catch(A){g(A)}}),y.addEventListener("success",(0,d.Z)(function*(){const b=y.result;b.objectStoreNames.contains(wi)?p(b):(b.close(),yield function(){const y=indexedDB.deleteDatabase(ui);return new Fr(y).toPromise()}(),p(yield Vt()))}))})}function Qo(y,p,g){return $n.apply(this,arguments)}function $n(){return($n=(0,d.Z)(function*(y,p,g){const b=Ii(y,!0).put({[to]:p,value:g});return new Fr(b).toPromise()})).apply(this,arguments)}function Cn(){return(Cn=(0,d.Z)(function*(y,p){const g=Ii(y,!1).get(p),b=yield new Fr(g).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function Md(y,p){const g=Ii(y,!0).delete(p);return new Fr(g).toPromise()}const Ll=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,d.Z)(function*(){return g.db||(g.db=yield Vt()),g.db})()}_withRetries(g){var b=this;return(0,d.Z)(function*(){let A=0;for(;;)try{const x=yield b._openDb();return yield g(x)}catch(x){if(A++>3)throw x;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,d.Z)(function*(){return La()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,d.Z)(function*(){g.receiver=gg._getInstance(La()?self:null),g.receiver._subscribe("keyChanged",function(){var b=(0,d.Z)(function*(A,x){return{keyProcessed:(yield g._poll()).includes(x.key)}});return function(A,x){return b.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var b=(0,d.Z)(function*(A,x){return["keyChanged"]});return function(A,x){return b.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,d.Z)(function*(){var b,A;if(g.activeServiceWorker=yield function(){return kl.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new pr(g.activeServiceWorker);const x=yield g.sender._send("ping",{},800);!x||(null===(b=x[0])||void 0===b?void 0:b.fulfilled)&&(null===(A=x[0])||void 0===A?void 0:A.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var b=this;return(0,d.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:g},b.serviceWorkerReceiverAvailable?800:50)}catch(A){}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Vt();return yield Qo(g,Xs,"1"),yield Md(g,Xs),!0}catch(g){}return!1})()}_withPendingWrite(g){var b=this;return(0,d.Z)(function*(){b.pendingWrites++;try{yield g()}finally{b.pendingWrites--}})()}_set(g,b){var A=this;return(0,d.Z)(function*(){return A._withPendingWrite((0,d.Z)(function*(){return yield A._withRetries(x=>Qo(x,g,b)),A.localCache[g]=b,A.notifyServiceWorker(g)}))})()}_get(g){var b=this;return(0,d.Z)(function*(){const A=yield b._withRetries(x=>function(y,p){return Cn.apply(this,arguments)}(x,g));return b.localCache[g]=A,A})()}_remove(g){var b=this;return(0,d.Z)(function*(){return b._withPendingWrite((0,d.Z)(function*(){return yield b._withRetries(A=>Md(A,g)),delete b.localCache[g],b.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,d.Z)(function*(){const b=yield g._withRetries(ae=>{const De=Ii(ae,!1).getAll();return new Fr(De).toPromise()});if(!b)return[];if(0!==g.pendingWrites)return[];const A=[],x=new Set;for(const{fbase_key:ae,value:De}of b)x.add(ae),JSON.stringify(g.localCache[ae])!==JSON.stringify(De)&&(g.notifyListeners(ae,De),A.push(ae));for(const ae of Object.keys(g.localCache))g.localCache[ae]&&!x.has(ae)&&(g.notifyListeners(ae,null),A.push(ae));return A})()}notifyListeners(g,b){this.localCache[g]=b;const A=this.listeners[g];if(A)for(const x of Array.from(A))x(b)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function _g(y,p){return Mt(y,"POST","/v2/accounts/mfaSignIn:start",sn(y,p))}function Pd(){return(Pd=(0,d.Z)(function*(y){return(yield Mt(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Kc(y){return new Promise((p,g)=>{const b=document.createElement("script");b.setAttribute("src",y),b.onload=p,b.onerror=A=>{const x=ve("internal-error");x.customData=A,g(x)},b.type="text/javascript",b.charset="UTF-8",function(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(b)})}function ro(y){return`__${y}${Math.floor(1e6*Math.random())}`}const is=1e12;class Vn{constructor(p){this.auth=p,this.counter=is,this._widgets=new Map}render(p,g){const b=this.counter;return this._widgets.set(b,new Qc(p,this.auth.name,g||{})),this.counter++,b}reset(p){var g;const b=p||is;null===(g=this._widgets.get(b))||void 0===g||g.delete(),this._widgets.delete(b)}getResponse(p){var g;return(null===(g=this._widgets.get(p||is))||void 0===g?void 0:g.getResponse())||""}execute(p){var g=this;return(0,d.Z)(function*(){var b;return null===(b=g._widgets.get(p||is))||void 0===b||b.execute(),""})()}}class Qc{constructor(p,g,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const A="string"==typeof p?document.getElementById(p):p;ke(A,"argument-error",{appName:g}),this.container=A,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(y){const p=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<50;b++)p.push(g.charAt(Math.floor(Math.random()*g.length)));return p.join("")}();const{callback:p,"expired-callback":g}=this.params;if(p)try{p(this.responseToken)}catch(b){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(b){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Zr=ro("rcb"),Ui=new en(3e4,6e4);class di{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Fn().grecaptcha}load(p,g=""){return ke((y=g).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y),p,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(Fn().grecaptcha):new Promise((b,A)=>{const x=Fn().setTimeout(()=>{A(ve(p,"network-request-failed"))},Ui.get());Fn()[Zr]=()=>{Fn().clearTimeout(x),delete Fn()[Zr];const De=Fn().grecaptcha;if(!De)return void A(ve(p,"internal-error"));const Ze=De.render;De.render=(We,ht)=>{const gt=Ze(We,ht);return this.counter++,gt},this.hostLanguage=g,b(De)},Kc(`https://www.google.com/recaptcha/api.js??${(0,B.xO)({onload:Zr,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(x),A(ve(p,"internal-error"))})});var y}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){return!!Fn().grecaptcha&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Od{load(p){return(0,d.Z)(function*(){return new Vn(p)})()}clearedOneInstance(){}}const Jc="recaptcha",io={theme:"light",type:"image"};class vg{constructor(p,g=Object.assign({},io),b){this.parameters=g,this.type=Jc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=yn(b),this.isInvisible="invisible"===this.parameters.size,ke("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const A="string"==typeof p?document.getElementById(p):p;ke(A,this.auth,"argument-error"),this.container=A,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Od:new di,this.validateStartingState()}verify(){var p=this;return(0,d.Z)(function*(){p.assertNotDestroyed();const g=yield p.render(),b=p.getAssertedRecaptcha();return b.getResponse(g)||new Promise(x=>{const ae=De=>{!De||(p.tokenChangeListeners.delete(ae),x(De))};p.tokenChangeListeners.add(ae),p.isInvisible&&b.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){ke(!this.parameters.sitekey,this.auth,"argument-error"),ke(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ke("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return g=>{if(this.tokenChangeListeners.forEach(b=>b(g)),"function"==typeof p)p(g);else if("string"==typeof p){const b=Fn()[p];"function"==typeof b&&b(g)}}}assertNotDestroyed(){ke(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,d.Z)(function*(){if(yield p.init(),!p.widgetId){let g=p.container;if(!p.isInvisible){const b=document.createElement("div");g.appendChild(b),g=b}p.widgetId=p.getAssertedRecaptcha().render(g,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,d.Z)(function*(){ke(wt()&&!La(),p.auth,"internal-error"),yield function(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const g=yield function(y){return Pd.apply(this,arguments)}(p.auth);ke(g,p.auth,"internal-error"),p.parameters.sitekey=g})()}getAssertedRecaptcha(){return ke(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ul{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=Ys._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function Xn(){return(Xn=(0,d.Z)(function*(y,p,g){const b=yn(y),A=yield R(b,p,(0,B.m9)(g));return new Ul(A,x=>Cr(b,x))})).apply(this,arguments)}function Xc(){return(Xc=(0,d.Z)(function*(y,p,g){const b=(0,B.m9)(y);yield He(!1,b,"phone");const A=yield R(b.auth,p,(0,B.m9)(g));return new Ul(A,x=>Ra(b,x))})).apply(this,arguments)}function I(){return(I=(0,d.Z)(function*(y,p,g){const b=(0,B.m9)(y),A=yield R(b.auth,p,(0,B.m9)(g));return new Ul(A,x=>Vc(b,x))})).apply(this,arguments)}function R(y,p,g){return V.apply(this,arguments)}function V(){return(V=(0,d.Z)(function*(y,p,g){var b;const A=yield g.verify();try{let x;if(ke("string"==typeof A,y,"argument-error"),ke(g.type===Jc,y,"argument-error"),x="string"==typeof p?{phoneNumber:p}:p,"session"in x){const ae=x.session;if("phoneNumber"in x)return ke("enroll"===ae.type,y,"internal-error"),(yield n0(y,{idToken:ae.credential,phoneEnrollmentInfo:{phoneNumber:x.phoneNumber,recaptchaToken:A}})).phoneSessionInfo.sessionInfo;{ke("signin"===ae.type,y,"internal-error");const De=(null===(b=x.multiFactorHint)||void 0===b?void 0:b.uid)||x.multiFactorUid;return ke(De,y,"missing-multi-factor-info"),(yield _g(y,{mfaPendingCredential:ae.credential,mfaEnrollmentId:De,phoneSignInInfo:{recaptchaToken:A}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ae}=yield Fi(y,{phoneNumber:x.phoneNumber,recaptchaToken:A});return ae}}finally{g._reset()}})).apply(this,arguments)}function be(){return(be=(0,d.Z)(function*(y,p){yield Lc((0,B.m9)(y),p)})).apply(this,arguments)}let Re=(()=>{class y{constructor(g){this.providerId=y.PROVIDER_ID,this.auth=yn(g)}verifyPhoneNumber(g,b){return R(this.auth,g,(0,B.m9)(b))}static credential(g,b){return Ys._fromVerification(g,b)}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:b,temporaryProof:A}=g;return b&&A?Ys._fromTokenResponse(b,A):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Ge(y,p){return p?zt(p):(ke(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class ot extends va{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return ai(p,this._buildIdpRequest())}_linkToIdToken(p,g){return ai(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return ai(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function dt(y){return Sl(y.auth,new ot(y),y.bypassAuthState)}function Zt(y){const{auth:p,user:g}=y;return ke(g,p,"internal-error"),Tl(g,new ot(y),y.bypassAuthState)}function dn(y){return Un.apply(this,arguments)}function Un(){return(Un=(0,d.Z)(function*(y){const{auth:p,user:g}=y;return ke(g,p,"internal-error"),Lc(g,new ot(y),y.bypassAuthState)})).apply(this,arguments)}class Lr{constructor(p,g,b,A,x=!1){this.auth=p,this.resolver=b,this.user=A,this.bypassAuthState=x,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var p=this;return new Promise(function(){var g=(0,d.Z)(function*(b,A){p.pendingPromise={resolve:b,reject:A};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(x){p.reject(x)}});return function(b,A){return g.apply(this,arguments)}}())}onAuthEvent(p){var g=this;return(0,d.Z)(function*(){const{urlResponse:b,sessionId:A,postBody:x,tenantId:ae,error:De,type:Ze}=p;if(De)return void g.reject(De);const We={auth:g.auth,requestUri:b,sessionId:A,tenantId:ae||void 0,postBody:x||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Ze)(We))}catch(ht){g.reject(ht)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return dt;case"linkViaPopup":case"linkViaRedirect":return dn;case"reauthViaPopup":case"reauthViaRedirect":return Zt;default:le(this.auth,"internal-error")}}resolve(p){hn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){hn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const er=new en(2e3,1e4);function oo(){return(oo=(0,d.Z)(function*(y,p,g){const b=yn(y);mt(y,p,Ci);const A=Ge(b,g);return new uh(b,"signInViaPopup",p,A).executeNotNull()})).apply(this,arguments)}function Ti(){return(Ti=(0,d.Z)(function*(y,p,g){const b=(0,B.m9)(y);mt(b.auth,p,Ci);const A=Ge(b.auth,g);return new uh(b.auth,"reauthViaPopup",p,A,b).executeNotNull()})).apply(this,arguments)}function Dt(){return(Dt=(0,d.Z)(function*(y,p,g){const b=(0,B.m9)(y);mt(b.auth,p,Ci);const A=Ge(b.auth,g);return new uh(b.auth,"linkViaPopup",p,A,b).executeNotNull()})).apply(this,arguments)}let uh=(()=>{class y extends Lr{constructor(g,b,A,x,ae){super(g,b,x,ae),this.provider=A,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var g=this;return(0,d.Z)(function*(){const b=yield g.execute();return ke(b,g.auth,"internal-error"),b})()}onExecution(){var g=this;return(0,d.Z)(function*(){hn(1===g.filter.length,"Popup operations only handle one event");const b=ws();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],b),g.authWindow.associatedEvent=b,g.resolver._originValidation(g.auth).catch(A=>{g.reject(A)}),g.resolver._isIframeWebStorageSupported(g.auth,A=>{A||g.reject(ve(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(ve(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const g=()=>{var b,A;this.pollId=(null===(A=null===(b=this.authWindow)||void 0===b?void 0:b.window)||void 0===A?void 0:A.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(ve(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,er.get())};g()}}return y.currentPopupAction=null,y})();const zl=new Map;class bg extends Lr{constructor(p,g,b=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,b),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,d.Z)(function*(){let b=zl.get(g.auth._key());if(!b){try{const x=(yield function(y,p){return ja.apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;b=()=>Promise.resolve(x)}catch(A){b=()=>Promise.reject(A)}zl.set(g.auth._key(),b)}return g.bypassAuthState||zl.set(g.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,b=this;return(0,d.Z)(function*(){if("signInViaRedirect"===p.type)return g().call(b,p);if("unknown"!==p.type){if(p.eventId){const A=yield b.auth._redirectUserForId(p.eventId);if(A)return b.user=A,g().call(b,p);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function ja(){return(ja=(0,d.Z)(function*(y,p){const g=Xo(p),b=Cg(y);if(!(yield b._isAvailable()))return!1;const A="true"===(yield b._get(g));return yield b._remove(g),A})).apply(this,arguments)}function dh(y,p){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,d.Z)(function*(y,p){return Cg(y)._set(Xo(p),"true")})).apply(this,arguments)}function Cg(y){return zt(y._redirectPersistence)}function Xo(y){return xr("pendingRedirect",y.config.apiKey,y.name)}function sr(){return(sr=(0,d.Z)(function*(y,p,g){const b=yn(y);mt(y,p,Ci);const A=Ge(b,g);return yield dh(A,b),A._openRedirect(b,p,"signInViaRedirect")})).apply(this,arguments)}function Hl(){return(Hl=(0,d.Z)(function*(y,p,g){const b=(0,B.m9)(y);mt(b.auth,p,Ci);const A=Ge(b.auth,g);yield dh(A,b.auth);const x=yield za(b);return A._openRedirect(b.auth,p,"reauthViaRedirect",x)})).apply(this,arguments)}function xd(){return(xd=(0,d.Z)(function*(y,p,g){const b=(0,B.m9)(y);mt(b.auth,p,Ci);const A=Ge(b.auth,g);yield He(!1,b,p.providerId),yield dh(A,b.auth);const x=yield za(b);return A._openRedirect(b.auth,p,"linkViaRedirect",x)})).apply(this,arguments)}function ao(){return(ao=(0,d.Z)(function*(y,p){return yield yn(y)._initializationPromise,lo(y,p,!1)})).apply(this,arguments)}function lo(y,p){return $l.apply(this,arguments)}function $l(){return($l=(0,d.Z)(function*(y,p,g=!1){const b=yn(y),A=Ge(b,p),ae=yield new bg(b,A,g).execute();return ae&&!g&&(delete ae.user._redirectEventId,yield b._persistUserIfCurrent(ae.user),yield b._setRedirectUser(null,p)),ae})).apply(this,arguments)}function za(y){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,d.Z)(function*(y){const p=ws(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class a0{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(p,b)&&(g=!0,this.sendToConsumer(p,b),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ig(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var b;if(p.error&&!Ig(p)){const A=(null===(b=p.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";g.onError(ve(this.auth,A))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const b=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&b}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ta(p))}saveEventToCache(p){this.cachedEventUids.add(ta(p)),this.lastProcessedEventTime=Date.now()}}function ta(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function Ig({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===(null==p?void 0:p.code)}function Gl(y){return ru.apply(this,arguments)}function ru(){return(ru=(0,d.Z)(function*(y,p={}){return Mt(y,"GET","/v1/projects",p)})).apply(this,arguments)}const co=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,iu=/^https?/;function su(){return(su=(0,d.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield Gl(y);for(const g of p)try{if(kd(g))return}catch(b){}le(y,"unauthorized-domain")})).apply(this,arguments)}function kd(y){const p=Ct(),{protocol:g,hostname:b}=new URL(p);if(y.startsWith("chrome-extension://")){const ae=new URL(y);return""===ae.hostname&&""===b?"chrome-extension:"===g&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&ae.hostname===b}if(!iu.test(g))return!1;if(co.test(y))return b===y;const A=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(b)}const ou=new en(3e4,6e4);function Wl(){const y=Fn().___jsl;if(null==y?void 0:y.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let g=0;g<y.CP.length;g++)y.CP[g]=null}let ql=null;function Ha(y){return ql=ql||function(y){return new Promise((p,g)=>{var b,A,x;function ae(){Wl(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Wl(),g(ve(y,"network-request-failed"))},timeout:ou.get()})}if(null===(A=null===(b=Fn().gapi)||void 0===b?void 0:b.iframes)||void 0===A?void 0:A.Iframe)p(gapi.iframes.getContext());else{if(!(null===(x=Fn().gapi)||void 0===x?void 0:x.load)){const De=ro("iframefcb");return Fn()[De]=()=>{gapi.load?ae():g(ve(y,"network-request-failed"))},Kc(`https://apis.google.com/js/api.js?onload=${De}`)}ae()}}).catch(p=>{throw ql=null,p})}(y),ql}const l0=new en(5e3,15e3),u0={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},d0=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uo(y){const p=y.config;ke(p.authDomain,y,"auth-domain-config-required");const g=p.emulator?tt(p,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,b={apiKey:p.apiKey,appName:y.name,v:Z.SDK_VERSION},A=d0.get(y.config.apiHost);A&&(b.eid=A);const x=y._getFrameworks();return x.length&&(b.fw=x.join(",")),`${g}?${(0,B.xO)(b).slice(1)}`}function Ld(){return(Ld=(0,d.Z)(function*(y){const p=yield Ha(y),g=Fn().gapi;return ke(g,y,"internal-error"),p.open({where:document.body,url:uo(y),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:u0,dontclear:!0},b=>new Promise(function(){var A=(0,d.Z)(function*(x,ae){yield b.restyle({setHideOnLeave:!1});const De=ve(y,"network-request-failed"),Ze=Fn().setTimeout(()=>{ae(De)},l0.get());function We(){Fn().clearTimeout(Ze),x(b)}b.ping(We).then(We,()=>{ae(De)})});return function(x,ae){return A.apply(this,arguments)}}()))})).apply(this,arguments)}const Sg={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Vd{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function Rg(y,p,g,b,A,x){ke(y.config.authDomain,y,"auth-domain-config-required"),ke(y.config.apiKey,y,"invalid-api-key");const ae={apiKey:y.config.apiKey,appName:y.name,authType:g,redirectUrl:b,v:Z.SDK_VERSION,eventId:A};if(p instanceof Ci){p.setDefaultLanguage(y.languageCode),ae.providerId=p.providerId||"",(0,B.xb)(p.getCustomParameters())||(ae.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Ze,We]of Object.entries(x||{}))ae[Ze]=We}if(p instanceof nn){const Ze=p.getScopes().filter(We=>""!==We);Ze.length>0&&(ae.scopes=Ze.join(","))}y.tenantId&&(ae.tid=y.tenantId);const De=ae;for(const Ze of Object.keys(De))void 0===De[Ze]&&delete De[Ze];return`${function({config:y}){return y.emulator?tt(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,B.xO)(De).slice(1)}`}const na="webStorageSupport";class Kl extends class{constructor(p){this.factorId=p}_process(p,g,b){switch(g.type){case"enroll":return this._finalizeEnroll(p,g.credential,b);case"signin":return this._finalizeSignIn(p,g.credential);default:return Et("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Kl(p)}_finalizeEnroll(p,g,b){return function(y,p){return Mt(y,"POST","/v2/accounts/mfaEnrollment:finalize",sn(y,p))}(p,{idToken:g,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,g){return function(y,p){return Mt(y,"POST","/v2/accounts/mfaSignIn:finalize",sn(y,p))}(p,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Mg=(()=>{class y{constructor(){}static assertion(g){return Kl._fromCredential(g)}}return y.FACTOR_ID="phone",y})();var y,Ql="@firebase/auth";class cv{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var g=this;return(0,d.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const g=this.auth.onIdTokenChanged(b=>{var A;p((null===(A=b)||void 0===A?void 0:A.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,g),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const g=this.internalListeners.get(p);!g||(this.internalListeners.delete(p),g(),this.updateProactiveRefresh())}assertAuthConfigured(){ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Di(){return window}function cu(){return(cu=(0,d.Z)(function*(y,p,g){var b;const{BuildInfo:A}=Di();hn(p.sessionId,"AuthEvent did not contain a session ID");const x=yield fu(p.sessionId),ae={};return ko()?ae.ibi=A.packageName:vr()?ae.apn=A.packageName:le(y,"operation-not-supported-in-this-environment"),A.displayName&&(ae.appDisplayName=A.displayName),ae.sessionId=x,Rg(y,g,p.type,void 0,null!==(b=p.eventId)&&void 0!==b?b:void 0,ae)})).apply(this,arguments)}function uu(){return(uu=(0,d.Z)(function*(y){const{BuildInfo:p}=Di(),g={};ko()?g.iosBundleId=p.packageName:vr()?g.androidPackageName=p.packageName:le(y,"operation-not-supported-in-this-environment"),yield Gl(y,g)})).apply(this,arguments)}function jd(){return(jd=(0,d.Z)(function*(y,p,g){const{cordova:b}=Di();let A=()=>{};try{yield new Promise((x,ae)=>{let De=null;function Ze(){var gt;x();const Ut=null===(gt=b.plugins.browsertab)||void 0===gt?void 0:gt.close;"function"==typeof Ut&&Ut(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function We(){De||(De=window.setTimeout(()=>{ae(ve(y,"redirect-cancelled-by-user"))},2e3))}function ht(){"visible"===(null==document?void 0:document.visibilityState)&&We()}p.addPassiveListener(Ze),document.addEventListener("resume",We,!1),vr()&&document.addEventListener("visibilitychange",ht,!1),A=()=>{p.removePassiveListener(Ze),document.removeEventListener("resume",We,!1),document.removeEventListener("visibilitychange",ht,!1),De&&window.clearTimeout(De)}})}finally{A()}})).apply(this,arguments)}function fu(y){return hu.apply(this,arguments)}function hu(){return(hu=(0,d.Z)(function*(y){const p=yh(y),g=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(g)).map(A=>A.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function yh(y){if(hn(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(y);const p=new ArrayBuffer(y.length),g=new Uint8Array(p);for(let b=0;b<y.length;b++)g[b]=y.charCodeAt(b);return g}y="Browser",(0,Z._registerComponent)(new w.wA("auth",(p,{options:g})=>{const b=p.getProvider("app").getImmediate(),{apiKey:A,authDomain:x}=b.options;return(ae=>{ke(A&&!A.includes(":"),"invalid-api-key",{appName:ae.name}),ke(!(null==x?void 0:x.includes(":")),"argument-error",{appName:ae.name});const De={apiKey:A,authDomain:x,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dr(y)},Ze=new og(ae,De);return function(y,p){const g=(null==p?void 0:p.persistence)||[],b=(Array.isArray(g)?g:[g]).map(zt);(null==p?void 0:p.errorMap)&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(b,null==p?void 0:p.popupRedirectResolver)}(Ze,g),Ze})(b)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,g,b)=>{p.getProvider("auth-internal").initialize()})),(0,Z._registerComponent)(new w.wA("auth-internal",p=>{const g=yn(p.getProvider("auth").getImmediate());return new cv(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Z.registerVersion)(Ql,"0.19.3",void 0),(0,Z.registerVersion)(Ql,"0.19.3","esm2017");class vh extends a0{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(p)),super.onEvent(p)}initialized(){var p=this;return(0,d.Z)(function*(){yield p.initPromise})()}}function Ch(y){return zd.apply(this,arguments)}function zd(){return(zd=(0,d.Z)(function*(y){const p=yield Ss()._get(wh(y));return p&&(yield Ss()._remove(wh(y))),p})).apply(this,arguments)}function Eh(){const y=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const b=Math.floor(Math.random()*p.length);y.push(p.charAt(b))}return y.join("")}function Ss(){return zt(eo)}function wh(y){return xr("authEvent",y.config.apiKey,y.name)}function ra(y){if(!(null==y?void 0:y.includes("?")))return{};const[p,...g]=y.split("?");return(0,B.zd)(g.join("?"))}function Ga(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ve("no-auth-event")}}function tc(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function Sh(y=(0,B.z$)()){return!("file:"!==tc()&&"ionic:"!==tc()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function xg(){try{const y=self.localStorage,p=ws();if(y)return y.setItem(p,"1"),y.removeItem(p),!function(y=(0,B.z$)()){return(0,B.w1)()&&11===(null==document?void 0:document.documentMode)||function(y=(0,B.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,B.hl)()}catch(y){return Dh()&&(0,B.hl)()}return!1}function Dh(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function $d(){return("http:"===tc()||"https:"===tc()||(0,B.ru)()||Sh())&&!((0,B.b$)()||(0,B.UG)())&&xg()&&!Dh()}function Wa(){return Sh()&&"undefined"!=typeof document}function Gd(){return(Gd=(0,d.Z)(function*(){return!!Wa()&&new Promise(y=>{const p=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),y(!0)})})})).apply(this,arguments)}const Vr={LOCAL:"local",NONE:"none",SESSION:"session"},qa=ke,ia="persistence";function Mh(y){return sa.apply(this,arguments)}function sa(){return(sa=(0,d.Z)(function*(y){yield y._initializationPromise;const p=Fg(),g=xr(ia,y.config.apiKey,y.name);(null==p?void 0:p.sessionStorage)&&p.sessionStorage.setItem(g,y._getPersistence())})).apply(this,arguments)}function Fg(){return"undefined"!=typeof window?window:null}const C0=ke;class As{constructor(){this.browserResolver=zt(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bn,this._completeRedirectFn=lo}_openPopup(p,g,b,A){var x=this;return(0,d.Z)(function*(){var ae;hn(null===(ae=x.eventManagers[p._key()])||void 0===ae?void 0:ae.manager,"_initialize() not called before _openPopup()");const De=Rg(p,g,b,Ct(),A);return function(y,p,g,b=500,A=600){const x=Math.max((window.screen.availHeight-A)/2,0).toString(),ae=Math.max((window.screen.availWidth-b)/2,0).toString();let De="";const Ze=Object.assign(Object.assign({},Sg),{width:b.toString(),height:A.toString(),top:x,left:ae}),We=(0,B.z$)().toLowerCase();g&&(De=xo(We)?"_blank":g),Oo(We)&&(p=p||"http://localhost",Ze.scrollbars="yes");const ht=Object.entries(Ze).reduce((Ut,[Gn,go])=>`${Ut}${Gn}=${go},`,"");if(function(y=(0,B.z$)()){var p;return ko(y)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(We)&&"_self"!==De)return function(y,p){const g=document.createElement("a");g.href=y,g.target=p;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(b)}(p||"",De),new Vd(null);const gt=window.open(p||"",De,ht);ke(gt,y,"popup-blocked");try{gt.focus()}catch(Ut){}return new Vd(gt)}(p,De,ws())})()}_openRedirect(p,g,b,A){var x=this;return(0,d.Z)(function*(){return yield x._originValidation(p),y=Rg(p,g,b,Ct(),A),Fn().location.href=y,new Promise(()=>{});var y})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:A,promise:x}=this.eventManagers[g];return A?Promise.resolve(A):(hn(x,"If manager is not set, promise should be"),x)}const b=this.initAndGetManager(p);return this.eventManagers[g]={promise:b},b}initAndGetManager(p){var g=this;return(0,d.Z)(function*(){const b=yield function(y){return Ld.apply(this,arguments)}(p),A=new a0(p);return b.register("authEvent",x=>(ke(null==x?void 0:x.authEvent,p,"invalid-auth-event"),{status:A.onEvent(x.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:A},g.iframes[p._key()]=b,A})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(na,{type:na},A=>{var x;const ae=null===(x=null==A?void 0:A[0])||void 0===x?void 0:x[na];void 0!==ae&&g(!!ae),le(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function(y){return su.apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return Ji()||ur()||ko()}}),this.cordovaResolver=zt(class{constructor(){this._redirectPersistence=bn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=lo}_initialize(p){var g=this;return(0,d.Z)(function*(){const b=p._key();let A=g.eventManagers.get(b);return A||(A=new vh(p),g.eventManagers.set(b,A),g.attachCallbackListeners(p,A)),A})()}_openPopup(p){le(p,"operation-not-supported-in-this-environment")}_openRedirect(p,g,b,A){var x=this;return(0,d.Z)(function*(){!function(y){var p,g,b,A,x,ae,De,Ze,We,ht;const gt=Di();ke("function"==typeof(null===(p=null==gt?void 0:gt.universalLinks)||void 0===p?void 0:p.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ke(void 0!==(null===(g=null==gt?void 0:gt.BuildInfo)||void 0===g?void 0:g.packageName),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ke("function"==typeof(null===(x=null===(A=null===(b=null==gt?void 0:gt.cordova)||void 0===b?void 0:b.plugins)||void 0===A?void 0:A.browsertab)||void 0===x?void 0:x.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ke("function"==typeof(null===(Ze=null===(De=null===(ae=null==gt?void 0:gt.cordova)||void 0===ae?void 0:ae.plugins)||void 0===De?void 0:De.browsertab)||void 0===Ze?void 0:Ze.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ke("function"==typeof(null===(ht=null===(We=null==gt?void 0:gt.cordova)||void 0===We?void 0:We.InAppBrowser)||void 0===ht?void 0:ht.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const ae=yield x._initialize(p);yield ae.initialized(),ae.resetRedirect(),zl.clear(),yield x._originValidation(p);const De=function(y,p,g=null){return{type:p,eventId:g,urlResponse:null,sessionId:Eh(),postBody:null,tenantId:y.tenantId,error:ve(y,"no-auth-event")}}(p,b,A);yield function(y,p){return Ss()._set(wh(y),p)}(p,De);const Ze=yield function(y,p,g){return cu.apply(this,arguments)}(p,De,g),We=yield function(y){const{cordova:p}=Di();return new Promise(g=>{p.plugins.browsertab.isAvailable(b=>{let A=null;b?p.plugins.browsertab.openUrl(y):A=p.InAppBrowser.open(y,function(y=(0,B.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),g(A)})})}(Ze);return function(y,p,g){return jd.apply(this,arguments)}(p,ae,We)})()}_isIframeWebStorageSupported(p,g){throw new Error("Method not implemented.")}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function(y){return uu.apply(this,arguments)}(p)),this.originValidationPromises[g]}attachCallbackListeners(p,g){const{universalLinks:b,handleOpenURL:A,BuildInfo:x}=Di(),ae=setTimeout((0,d.Z)(function*(){yield Ch(p),g.onEvent(Ga())}),500),De=function(){var ht=(0,d.Z)(function*(gt){clearTimeout(ae);const Ut=yield Ch(p);let Gn=null;Ut&&(null==gt?void 0:gt.url)&&(Gn=function(y,p){var g,b;const A=function(y){const p=ra(y),g=p.link?decodeURIComponent(p.link):void 0,b=ra(g).link,A=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return ra(A).link||A||b||g||y}(p);if(A.includes("/__/auth/callback")){const x=ra(A),ae=x.firebaseError?function(y){try{return JSON.parse(y)}catch(p){return null}}(decodeURIComponent(x.firebaseError)):null,De=null===(b=null===(g=null==ae?void 0:ae.code)||void 0===g?void 0:g.split("auth/"))||void 0===b?void 0:b[1],Ze=De?ve(De):null;return Ze?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Ze,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:A,postBody:null}}return null}(Ut,gt.url)),g.onEvent(Gn||Ga())});return function(Ut){return ht.apply(this,arguments)}}();void 0!==b&&"function"==typeof b.subscribe&&b.subscribe(null,De);const Ze=A,We=`${x.packageName.toLowerCase()}://`;Di().handleOpenURL=function(){var ht=(0,d.Z)(function*(gt){if(gt.toLowerCase().startsWith(We)&&De({url:gt}),"function"==typeof Ze)try{Ze(gt)}catch(Ut){console.error(Ut)}});return function(gt){return ht.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=bn,this._completeRedirectFn=lo}_initialize(p){var g=this;return(0,d.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,g,b,A){var x=this;return(0,d.Z)(function*(){return yield x.selectUnderlyingResolver(),x.assertedUnderlyingResolver._openPopup(p,g,b,A)})()}_openRedirect(p,g,b,A){var x=this;return(0,d.Z)(function*(){return yield x.selectUnderlyingResolver(),x.assertedUnderlyingResolver._openRedirect(p,g,b,A)})()}_isIframeWebStorageSupported(p,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,g)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return Wa()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return C0(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,d.Z)(function*(){if(p.underlyingResolver)return;const g=yield function(){return Gd.apply(this,arguments)}();p.underlyingResolver=g?p.cordovaResolver:p.browserResolver})()}}function Lg(y){return y.unwrap()}function Kr(y){return Ug(y)}function Ug(y){const{_tokenResponse:p}=y instanceof B.ZR?y.customData:y;if(!p)return null;if(!(y instanceof B.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return Re.credentialFromResult(y);const g=p.providerId;if(!g||"password"===g)return null;let b;switch(g){case"google.com":b=Ks;break;case"facebook.com":b=bl;break;case"github.com":b=Wr;break;case"twitter.com":b=Cl;break;default:const{oauthIdToken:A,oauthAccessToken:x,oauthTokenSecret:ae,pendingToken:De,nonce:Ze}=p;return x||ae||A||De?De?g.startsWith("saml.")?_s._create(g,De):br._fromParams({providerId:g,signInMethod:g,pendingToken:De,idToken:A,accessToken:x}):new Bo(g).credential({idToken:A,accessToken:x,rawNonce:Ze}):null}return y instanceof B.ZR?b.credentialFromError(y):b.credentialFromResult(y)}function Ir(y,p){return p.catch(g=>{throw g instanceof B.ZR&&function(y,p){var g;const b=null===(g=p.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===p.code)p.resolver=new Bg(y,function(y,p){var g;const b=(0,B.m9)(y),A=p;return ke(p.customData.operationType,b,"argument-error"),ke(null===(g=A.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,b,"argument-error"),ka._fromError(b,A)}(y,p));else if(b){const A=Ug(p),x=p;A&&(x.credential=A,x.tenantId=b.tenantId||void 0,x.email=b.email||void 0,x.phoneNumber=b.phoneNumber||void 0)}}(y,g),g}).then(g=>{const A=g.user;return{operationType:g.operationType,credential:Kr(g),additionalUserInfo:Ei(g),user:ho.getOrCreate(A)}})}function Wd(y,p){return nc.apply(this,arguments)}function nc(){return(nc=(0,d.Z)(function*(y,p){const g=yield p;return{verificationId:g.verificationId,confirm:b=>Ir(y,g.confirm(b))}})).apply(this,arguments)}class Bg{constructor(p,g){this.resolver=g,this.auth=function(y){return y.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return Ir(Lg(this.auth),this.resolver.resolveSignIn(p))}}class ho{constructor(p){this._delegate=p,this.multiFactor=function(y){const p=(0,B.m9)(y);return Pl.has(p)||Pl.set(p,Ad._fromUser(p)),Pl.get(p)}(p)}static getOrCreate(p){return ho.USER_MAP.has(p)||ho.USER_MAP.set(p,new ho(p)),ho.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var g=this;return(0,d.Z)(function*(){return Ir(g.auth,Ra(g._delegate,p))})()}linkWithPhoneNumber(p,g){var b=this;return(0,d.Z)(function*(){return Wd(b.auth,function(y,p,g){return Xc.apply(this,arguments)}(b._delegate,p,g))})()}linkWithPopup(p){var g=this;return(0,d.Z)(function*(){return Ir(g.auth,function(y,p,g){return Dt.apply(this,arguments)}(g._delegate,p,As))})()}linkWithRedirect(p){var g=this;return(0,d.Z)(function*(){return yield Mh(yn(g.auth)),function(y,p,g){return function(y,p,g){return xd.apply(this,arguments)}(y,p,g)}(g._delegate,p,As)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var g=this;return(0,d.Z)(function*(){return Ir(g.auth,Vc(g._delegate,p))})()}reauthenticateWithPhoneNumber(p,g){return Wd(this.auth,function(y,p,g){return I.apply(this,arguments)}(this._delegate,p,g))}reauthenticateWithPopup(p){return Ir(this.auth,function(y,p,g){return Ti.apply(this,arguments)}(this._delegate,p,As))}reauthenticateWithRedirect(p){var g=this;return(0,d.Z)(function*(){return yield Mh(yn(g.auth)),function(y,p,g){return function(y,p,g){return Hl.apply(this,arguments)}(y,p,g)}(g._delegate,p,As)})()}sendEmailVerification(p){return function(y,p){return qo.apply(this,arguments)}(this._delegate,p)}unlink(p){var g=this;return(0,d.Z)(function*(){return yield function(y,p){return Da.apply(this,arguments)}(g._delegate,p),g})()}updateEmail(p){return function(y,p){return ts((0,B.m9)(y),p,null)}(this._delegate,p)}updatePassword(p){return function(y,p){return ts((0,B.m9)(y),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function(y,p){return be.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function(y,p){return Rn.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,g){return function(y,p,g){return Js.apply(this,arguments)}(this._delegate,p,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ho.USER_MAP=new WeakMap;const po=ke;let jg=(()=>{class y{constructor(g,b){if(this.app=g,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:A}=g.options;po(A,"invalid-api-key",{appName:g.name});let x=[St];if("undefined"!=typeof window){x=function(y,p){const g=Fg();if(!(null==g?void 0:g.sessionStorage))return[];const b=xr(ia,y,p);switch(g.sessionStorage.getItem(b)){case Vr.NONE:return[St];case Vr.LOCAL:return[Ll,bn];case Vr.SESSION:return[bn];default:return[]}}(A,g.name);for(const De of[Ll,eo,bn])x.includes(De)||x.push(De)}po(A,"invalid-api-key",{appName:g.name});const ae="undefined"!=typeof window?As:void 0;this._delegate=b.initialize({options:{persistence:x,popupRedirectResolver:ae}}),this._delegate._updateErrorMap(rt),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ho.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,b){!function(y,p,g){const b=yn(y);ke(b._canInitEmulator,b,"emulator-config-failed"),ke(/^https?:\/\//.test(p),b,"invalid-emulator-scheme");const A=!!(null==g?void 0:g.disableWarnings),x=ya(p),{host:ae,port:De}=function(y){const p=ya(y),g=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!g)return{host:"",port:null};const b=g[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(b);if(A){const x=A[1];return{host:x,port:vi(b.substr(x.length+1))}}{const[x,ae]=b.split(":");return{host:x,port:vi(ae)}}}(p);b.config.emulator={url:`${x}//${ae}${null===De?"":`:${De}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:ae,port:De,protocol:x.replace(":",""),options:Object.freeze({disableWarnings:A})}),A||function(){function y(){const p=document.createElement("p"),g=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,g,b)}applyActionCode(g){return function(y,p){return Dl.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return $o(this._delegate,g)}confirmPasswordReset(g,b){return function(y,p,g){return Na.apply(this,arguments)}(this._delegate,g,b)}createUserWithEmailAndPassword(g,b){var A=this;return(0,d.Z)(function*(){return Ir(A._delegate,function(y,p,g){return zc.apply(this,arguments)}(A._delegate,g,b))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function(y,p){return ih.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function(y,p){const g=un.parseLink(p);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,d.Z)(function*(){po($d(),g._delegate,"operation-not-supported-in-this-environment");const b=yield function(y,p){return ao.apply(this,arguments)}(g._delegate,As);return b?Ir(g._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function(y,p){yn(y)._logFramework(p)}(this._delegate,g)}onAuthStateChanged(g,b,A){const{next:x,error:ae,complete:De}=Za(g,b,A);return this._delegate.onAuthStateChanged(x,ae,De)}onIdTokenChanged(g,b,A){const{next:x,error:ae,complete:De}=Za(g,b,A);return this._delegate.onIdTokenChanged(x,ae,De)}sendSignInLinkToEmail(g,b){return function(y,p,g){return es.apply(this,arguments)}(this._delegate,g,b)}sendPasswordResetEmail(g,b){return function(y,p,g){return Pa.apply(this,arguments)}(this._delegate,g,b||void 0)}setPersistence(g){var b=this;return(0,d.Z)(function*(){let A;switch(function(y,p){qa(Object.values(Vr).includes(p),y,"invalid-persistence-type"),(0,B.b$)()?qa(p!==Vr.SESSION,y,"unsupported-persistence-type"):(0,B.UG)()?qa(p===Vr.NONE,y,"unsupported-persistence-type"):Dh()?qa(p===Vr.NONE||p===Vr.LOCAL&&(0,B.hl)(),y,"unsupported-persistence-type"):qa(p===Vr.NONE||xg(),y,"unsupported-persistence-type")}(b._delegate,g),g){case Vr.SESSION:A=bn;break;case Vr.LOCAL:A=(yield zt(Ll)._isAvailable())?Ll:eo;break;case Vr.NONE:A=St;break;default:return le("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(A)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return Ir(this._delegate,function(y){return Tt.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return Ir(this._delegate,Cr(this._delegate,g))}signInWithCustomToken(g){return Ir(this._delegate,function(y,p){return Ma.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,b){return Ir(this._delegate,function(y,p,g){return Cr((0,B.m9)(y),Li.credential(p,g))}(this._delegate,g,b))}signInWithEmailLink(g,b){return Ir(this._delegate,function(y,p,g){return Qn.apply(this,arguments)}(this._delegate,g,b))}signInWithPhoneNumber(g,b){return Wd(this._delegate,function(y,p,g){return Xn.apply(this,arguments)}(this._delegate,g,b))}signInWithPopup(g){var b=this;return(0,d.Z)(function*(){return po($d(),b._delegate,"operation-not-supported-in-this-environment"),Ir(b._delegate,function(y,p,g){return oo.apply(this,arguments)}(b._delegate,g,As))})()}signInWithRedirect(g){var b=this;return(0,d.Z)(function*(){return po($d(),b._delegate,"operation-not-supported-in-this-environment"),yield Mh(b._delegate),function(y,p,g){return function(y,p,g){return sr.apply(this,arguments)}(y,p,g)}(b._delegate,g,As)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function(y,p){return Qs.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=Vr,y})();function Za(y,p,g){let b=y;"function"!=typeof y&&({next:b,error:p,complete:g}=y);const A=b;return{next:ae=>A(ae&&ho.getOrCreate(ae)),error:p,complete:g}}class ji{constructor(){this.providerId="phone",this._delegate=new Re(Lg(K.Z.auth()))}static credential(p,g){return Re.credential(p,g)}verifyPhoneNumber(p,g){return this._delegate.verifyPhoneNumber(p,g)}unwrap(){return this._delegate}}ji.PHONE_SIGN_IN_METHOD=Re.PHONE_SIGN_IN_METHOD,ji.PROVIDER_ID=Re.PROVIDER_ID;const fv=ke;class hv{constructor(p,g,b=K.Z.app()){var A;fv(null===(A=b.options)||void 0===A?void 0:A.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new vg(p,g,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(y){y.INTERNAL.registerComponent(new w.wA("auth-compat",p=>{const g=p.getProvider("app-compat").getImmediate(),b=p.getProvider("auth");return new jg(g,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Li,FacebookAuthProvider:bl,GithubAuthProvider:Wr,GoogleAuthProvider:Ks,OAuthProvider:Bo,SAMLAuthProvider:hr,PhoneAuthProvider:ji,PhoneMultiFactorGenerator:Mg,RecaptchaVerifier:hv,TwitterAuthProvider:Cl,Auth:jg,AuthCredential:va,Error:B.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.3")}(K.Z)},6676:function(Ke,Ce){!function(F){"use strict";function d(re){return Array.prototype.slice.call(re)}function K(re){return new Promise(function(ue,_e){re.onsuccess=function(){ue(re.result)},re.onerror=function(){_e(re.error)}})}function B(re,ue,_e){var Te,Pe=new Promise(function(Be,Je){K(Te=re[ue].apply(re,_e)).then(Be,Je)});return Pe.request=Te,Pe}function Z(re,ue,_e){var Te=B(re,ue,_e);return Te.then(function(Pe){if(Pe)return new P(Pe,Te.request)})}function te(re,ue,_e){_e.forEach(function(Te){Object.defineProperty(re.prototype,Te,{get:function(){return this[ue][Te]},set:function(Pe){this[ue][Te]=Pe}})})}function J(re,ue,_e,Te){Te.forEach(function(Pe){Pe in _e.prototype&&(re.prototype[Pe]=function(){return B(this[ue],Pe,arguments)})})}function H(re,ue,_e,Te){Te.forEach(function(Pe){Pe in _e.prototype&&(re.prototype[Pe]=function(){return this[ue][Pe].apply(this[ue],arguments)})})}function $(re,ue,_e,Te){Te.forEach(function(Pe){Pe in _e.prototype&&(re.prototype[Pe]=function(){return Z(this[ue],Pe,arguments)})})}function U(re){this._index=re}function P(re,ue){this._cursor=re,this._request=ue}function N(re){this._store=re}function W(re){this._tx=re,this.complete=new Promise(function(ue,_e){re.oncomplete=function(){ue()},re.onerror=function(){_e(re.error)},re.onabort=function(){_e(re.error)}})}function oe(re,ue,_e){this._db=re,this.oldVersion=ue,this.transaction=new W(_e)}function he(re){this._db=re}te(U,"_index",["name","keyPath","multiEntry","unique"]),J(U,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),$(U,"_index",IDBIndex,["openCursor","openKeyCursor"]),te(P,"_cursor",["direction","key","primaryKey","value"]),J(P,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(re){re in IDBCursor.prototype&&(P.prototype[re]=function(){var ue=this,_e=arguments;return Promise.resolve().then(function(){return ue._cursor[re].apply(ue._cursor,_e),K(ue._request).then(function(Te){if(Te)return new P(Te,ue._request)})})})}),N.prototype.createIndex=function(){return new U(this._store.createIndex.apply(this._store,arguments))},N.prototype.index=function(){return new U(this._store.index.apply(this._store,arguments))},te(N,"_store",["name","keyPath","indexNames","autoIncrement"]),J(N,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),$(N,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),H(N,"_store",IDBObjectStore,["deleteIndex"]),W.prototype.objectStore=function(){return new N(this._tx.objectStore.apply(this._tx,arguments))},te(W,"_tx",["objectStoreNames","mode"]),H(W,"_tx",IDBTransaction,["abort"]),oe.prototype.createObjectStore=function(){return new N(this._db.createObjectStore.apply(this._db,arguments))},te(oe,"_db",["name","version","objectStoreNames"]),H(oe,"_db",IDBDatabase,["deleteObjectStore","close"]),he.prototype.transaction=function(){return new W(this._db.transaction.apply(this._db,arguments))},te(he,"_db",["name","version","objectStoreNames"]),H(he,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(re){[N,U].forEach(function(ue){re in ue.prototype&&(ue.prototype[re.replace("open","iterate")]=function(){var _e=d(arguments),Te=_e[_e.length-1],Pe=this._store||this._index,Be=Pe[re].apply(Pe,_e.slice(0,-1));Be.onsuccess=function(){Te(Be.result)}})})}),[U,N].forEach(function(re){re.prototype.getAll||(re.prototype.getAll=function(ue,_e){var Te=this,Pe=[];return new Promise(function(Be){Te.iterateCursor(ue,function(Je){Je?(Pe.push(Je.value),void 0===_e||Pe.length!=_e?Je.continue():Be(Pe)):Be(Pe)})})})}),F.openDb=function(re,ue,_e){var Te=B(indexedDB,"open",[re,ue]),Pe=Te.request;return Pe&&(Pe.onupgradeneeded=function(Be){_e&&_e(new oe(Pe.result,Be.oldVersion,Pe.transaction))}),Te.then(function(Be){return new he(Be)})},F.deleteDb=function(re){return B(indexedDB,"deleteDatabase",[re])},Object.defineProperty(F,"__esModule",{value:!0})}(Ce)},8891:(Ke,Ce,F)=>{"use strict";F.d(Ce,{y:()=>U});var d=F(7393),B=F(9181),Z=F(6490),J=F(6554),H=F(4022),$=F(2494);let U=(()=>{class N{constructor(oe){this._isScalar=!1,oe&&(this._subscribe=oe)}lift(oe){const he=new N;return he.source=this,he.operator=oe,he}subscribe(oe,he,ee){const{operator:G}=this,re=function(N,W,oe){if(N){if(N instanceof d.L)return N;if(N[B.b])return N[B.b]()}return N||W||oe?new d.L(N,W,oe):new d.L(Z.c)}(oe,he,ee);if(re.add(G?G.call(re,this.source):this.source||$.v.useDeprecatedSynchronousErrorHandling&&!re.syncErrorThrowable?this._subscribe(re):this._trySubscribe(re)),$.v.useDeprecatedSynchronousErrorHandling&&re.syncErrorThrowable&&(re.syncErrorThrowable=!1,re.syncErrorThrown))throw re.syncErrorValue;return re}_trySubscribe(oe){try{return this._subscribe(oe)}catch(he){$.v.useDeprecatedSynchronousErrorHandling&&(oe.syncErrorThrown=!0,oe.syncErrorValue=he),function(N){for(;N;){const{closed:W,destination:oe,isStopped:he}=N;if(W||he)return!1;N=oe&&oe instanceof d.L?oe:null}return!0}(oe)?oe.error(he):console.warn(he)}}forEach(oe,he){return new(he=P(he))((ee,G)=>{let re;re=this.subscribe(ue=>{try{oe(ue)}catch(_e){G(_e),re&&re.unsubscribe()}},G,ee)})}_subscribe(oe){const{source:he}=this;return he&&he.subscribe(oe)}[J.L](){return this}pipe(...oe){return 0===oe.length?this:(0,H.U)(oe)(this)}toPromise(oe){return new(oe=P(oe))((he,ee)=>{let G;this.subscribe(re=>G=re,re=>ee(re),()=>he(G))})}}return N.create=W=>new N(W),N})();function P(N){if(N||(N=$.v.Promise||Promise),!N)throw new Error("no Promise impl found");return N}},6490:(Ke,Ce,F)=>{"use strict";F.d(Ce,{c:()=>B});var d=F(2494),K=F(4449);const B={closed:!0,next(Z){},error(Z){if(d.v.useDeprecatedSynchronousErrorHandling)throw Z;(0,K.z)(Z)},complete(){}}},9765:(Ke,Ce,F)=>{"use strict";F.d(Ce,{Yc:()=>H,xQ:()=>$});var d=F(8891),K=F(7393),B=F(5319),Z=F(7971),te=F(8858),J=F(9181);class H extends K.L{constructor(N){super(N),this.destination=N}}let $=(()=>{class P extends d.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[J.b](){return new H(this)}lift(W){const oe=new U(this,this);return oe.operator=W,oe}next(W){if(this.closed)throw new Z.N;if(!this.isStopped){const{observers:oe}=this,he=oe.length,ee=oe.slice();for(let G=0;G<he;G++)ee[G].next(W)}}error(W){if(this.closed)throw new Z.N;this.hasError=!0,this.thrownError=W,this.isStopped=!0;const{observers:oe}=this,he=oe.length,ee=oe.slice();for(let G=0;G<he;G++)ee[G].error(W);this.observers.length=0}complete(){if(this.closed)throw new Z.N;this.isStopped=!0;const{observers:W}=this,oe=W.length,he=W.slice();for(let ee=0;ee<oe;ee++)he[ee].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(W){if(this.closed)throw new Z.N;return super._trySubscribe(W)}_subscribe(W){if(this.closed)throw new Z.N;return this.hasError?(W.error(this.thrownError),B.w.EMPTY):this.isStopped?(W.complete(),B.w.EMPTY):(this.observers.push(W),new te.W(this,W))}asObservable(){const W=new d.y;return W.source=this,W}}return P.create=(N,W)=>new U(N,W),P})();class U extends ${constructor(N,W){super(),this.destination=N,this.source=W}next(N){const{destination:W}=this;W&&W.next&&W.next(N)}error(N){const{destination:W}=this;W&&W.error&&this.destination.error(N)}complete(){const{destination:N}=this;N&&N.complete&&this.destination.complete()}_subscribe(N){const{source:W}=this;return W?this.source.subscribe(N):B.w.EMPTY}}},8858:(Ke,Ce,F)=>{"use strict";F.d(Ce,{W:()=>K});var d=F(5319);class K extends d.w{constructor(Z,te){super(),this.subject=Z,this.subscriber=te,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const Z=this.subject,te=Z.observers;if(this.subject=null,!te||0===te.length||Z.isStopped||Z.closed)return;const J=te.indexOf(this.subscriber);-1!==J&&te.splice(J,1)}}},7393:(Ke,Ce,F)=>{"use strict";F.d(Ce,{L:()=>H});var d=F(9105),K=F(6490),B=F(5319),Z=F(9181),te=F(2494),J=F(4449);class H extends B.w{constructor(P,N,W){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=K.c;break;case 1:if(!P){this.destination=K.c;break}if("object"==typeof P){P instanceof H?(this.syncErrorThrowable=P.syncErrorThrowable,this.destination=P,P.add(this)):(this.syncErrorThrowable=!0,this.destination=new $(this,P));break}default:this.syncErrorThrowable=!0,this.destination=new $(this,P,N,W)}}[Z.b](){return this}static create(P,N,W){const oe=new H(P,N,W);return oe.syncErrorThrowable=!1,oe}next(P){this.isStopped||this._next(P)}error(P){this.isStopped||(this.isStopped=!0,this._error(P))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(P){this.destination.next(P)}_error(P){this.destination.error(P),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:P}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=P,this}}class $ extends H{constructor(P,N,W,oe){super(),this._parentSubscriber=P;let he,ee=this;(0,d.m)(N)?he=N:N&&(he=N.next,W=N.error,oe=N.complete,N!==K.c&&(ee=Object.create(N),(0,d.m)(ee.unsubscribe)&&this.add(ee.unsubscribe.bind(ee)),ee.unsubscribe=this.unsubscribe.bind(this))),this._context=ee,this._next=he,this._error=W,this._complete=oe}next(P){if(!this.isStopped&&this._next){const{_parentSubscriber:N}=this;te.v.useDeprecatedSynchronousErrorHandling&&N.syncErrorThrowable?this.__tryOrSetError(N,this._next,P)&&this.unsubscribe():this.__tryOrUnsub(this._next,P)}}error(P){if(!this.isStopped){const{_parentSubscriber:N}=this,{useDeprecatedSynchronousErrorHandling:W}=te.v;if(this._error)W&&N.syncErrorThrowable?(this.__tryOrSetError(N,this._error,P),this.unsubscribe()):(this.__tryOrUnsub(this._error,P),this.unsubscribe());else if(N.syncErrorThrowable)W?(N.syncErrorValue=P,N.syncErrorThrown=!0):(0,J.z)(P),this.unsubscribe();else{if(this.unsubscribe(),W)throw P;(0,J.z)(P)}}}complete(){if(!this.isStopped){const{_parentSubscriber:P}=this;if(this._complete){const N=()=>this._complete.call(this._context);te.v.useDeprecatedSynchronousErrorHandling&&P.syncErrorThrowable?(this.__tryOrSetError(P,N),this.unsubscribe()):(this.__tryOrUnsub(N),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(P,N){try{P.call(this._context,N)}catch(W){if(this.unsubscribe(),te.v.useDeprecatedSynchronousErrorHandling)throw W;(0,J.z)(W)}}__tryOrSetError(P,N,W){if(!te.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{N.call(this._context,W)}catch(oe){return te.v.useDeprecatedSynchronousErrorHandling?(P.syncErrorValue=oe,P.syncErrorThrown=!0,!0):((0,J.z)(oe),!0)}return!1}_unsubscribe(){const{_parentSubscriber:P}=this;this._context=null,this._parentSubscriber=null,P.unsubscribe()}}},5319:(Ke,Ce,F)=>{"use strict";F.d(Ce,{w:()=>J});var d=F(9796),K=F(1555),B=F(9105);const te=(()=>{function $(U){return Error.call(this),this.message=U?`${U.length} errors occurred during unsubscription:\n${U.map((P,N)=>`${N+1}) ${P.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=U,this}return $.prototype=Object.create(Error.prototype),$})();class J{constructor(U){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,U&&(this._ctorUnsubscribe=!0,this._unsubscribe=U)}unsubscribe(){let U;if(this.closed)return;let{_parentOrParents:P,_ctorUnsubscribe:N,_unsubscribe:W,_subscriptions:oe}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,P instanceof J)P.remove(this);else if(null!==P)for(let he=0;he<P.length;++he)P[he].remove(this);if((0,B.m)(W)){N&&(this._unsubscribe=void 0);try{W.call(this)}catch(he){U=he instanceof te?H(he.errors):[he]}}if((0,d.k)(oe)){let he=-1,ee=oe.length;for(;++he<ee;){const G=oe[he];if((0,K.K)(G))try{G.unsubscribe()}catch(re){U=U||[],re instanceof te?U=U.concat(H(re.errors)):U.push(re)}}}if(U)throw new te(U)}add(U){let P=U;if(!U)return J.EMPTY;switch(typeof U){case"function":P=new J(U);case"object":if(P===this||P.closed||"function"!=typeof P.unsubscribe)return P;if(this.closed)return P.unsubscribe(),P;if(!(P instanceof J)){const oe=P;P=new J,P._subscriptions=[oe]}break;default:throw new Error("unrecognized teardown "+U+" added to Subscription.")}let{_parentOrParents:N}=P;if(null===N)P._parentOrParents=this;else if(N instanceof J){if(N===this)return P;P._parentOrParents=[N,this]}else{if(-1!==N.indexOf(this))return P;N.push(this)}const W=this._subscriptions;return null===W?this._subscriptions=[P]:W.push(P),P}remove(U){const P=this._subscriptions;if(P){const N=P.indexOf(U);-1!==N&&P.splice(N,1)}}}var $;function H($){return $.reduce((U,P)=>U.concat(P instanceof te?P.errors:P),[])}J.EMPTY=(($=new J).closed=!0,$)},2494:(Ke,Ce,F)=>{"use strict";F.d(Ce,{v:()=>K});let d=!1;const K={Promise:void 0,set useDeprecatedSynchronousErrorHandling(B){if(B){const Z=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+Z.stack)}else d&&console.log("RxJS: Back to a better error behavior. Thank you. <3");d=B},get useDeprecatedSynchronousErrorHandling(){return d}}},5345:(Ke,Ce,F)=>{"use strict";F.d(Ce,{IY:()=>Z,Ds:()=>J,ft:()=>$});var d=F(7393),K=F(8891),B=F(7444);class Z extends d.L{constructor(P){super(),this.parent=P}_next(P){this.parent.notifyNext(P)}_error(P){this.parent.notifyError(P),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class J extends d.L{notifyNext(P){this.destination.next(P)}notifyError(P){this.destination.error(P)}notifyComplete(){this.destination.complete()}}function $(U,P){if(P.closed)return;if(U instanceof K.y)return U.subscribe(P);let N;try{N=(0,B.s)(U)(P)}catch(W){P.error(W)}return N}},2441:(Ke,Ce,F)=>{"use strict";F.d(Ce,{c:()=>te,N:()=>J});var d=F(9765),K=F(8891),B=F(5319),Z=F(1307);class te extends K.y{constructor(N,W){super(),this.source=N,this.subjectFactory=W,this._refCount=0,this._isComplete=!1}_subscribe(N){return this.getSubject().subscribe(N)}getSubject(){const N=this._subject;return(!N||N.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let N=this._connection;return N||(this._isComplete=!1,N=this._connection=new B.w,N.add(this.source.subscribe(new H(this.getSubject(),this))),N.closed&&(this._connection=null,N=B.w.EMPTY)),N}refCount(){return(0,Z.x)()(this)}}const J=(()=>{const P=te.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:P._subscribe},_isComplete:{value:P._isComplete,writable:!0},getSubject:{value:P.getSubject},connect:{value:P.connect},refCount:{value:P.refCount}}})();class H extends d.Yc{constructor(N,W){super(N),this.connectable=W}_error(N){this._unsubscribe(),super._error(N)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const N=this.connectable;if(N){this.connectable=null;const W=N._connection;N._refCount=0,N._subject=null,N._connection=null,W&&W.unsubscribe()}}}},9193:(Ke,Ce,F)=>{"use strict";F.d(Ce,{E:()=>K,c:()=>B});var d=F(8891);const K=new d.y(te=>te.complete());function B(te){return te?function(te){return new d.y(J=>te.schedule(()=>J.complete()))}(te):K}},4402:(Ke,Ce,F)=>{"use strict";F.d(Ce,{D:()=>ee});var d=F(8891),K=F(7444),B=F(5319),Z=F(6554),H=F(4087),$=F(377),N=F(4072),W=F(9489);function ee(G,re){return re?function(G,re){if(null!=G){if(function(G){return G&&"function"==typeof G[Z.L]}(G))return function(G,re){return new d.y(ue=>{const _e=new B.w;return _e.add(re.schedule(()=>{const Te=G[Z.L]();_e.add(Te.subscribe({next(Pe){_e.add(re.schedule(()=>ue.next(Pe)))},error(Pe){_e.add(re.schedule(()=>ue.error(Pe)))},complete(){_e.add(re.schedule(()=>ue.complete()))}}))})),_e})}(G,re);if((0,N.t)(G))return function(G,re){return new d.y(ue=>{const _e=new B.w;return _e.add(re.schedule(()=>G.then(Te=>{_e.add(re.schedule(()=>{ue.next(Te),_e.add(re.schedule(()=>ue.complete()))}))},Te=>{_e.add(re.schedule(()=>ue.error(Te)))}))),_e})}(G,re);if((0,W.z)(G))return(0,H.r)(G,re);if(function(G){return G&&"function"==typeof G[$.hZ]}(G)||"string"==typeof G)return function(G,re){if(!G)throw new Error("Iterable cannot be null");return new d.y(ue=>{const _e=new B.w;let Te;return _e.add(()=>{Te&&"function"==typeof Te.return&&Te.return()}),_e.add(re.schedule(()=>{Te=G[$.hZ](),_e.add(re.schedule(function(){if(ue.closed)return;let Pe,Be;try{const Je=Te.next();Pe=Je.value,Be=Je.done}catch(Je){return void ue.error(Je)}Be?ue.complete():(ue.next(Pe),this.schedule())}))})),_e})}(G,re)}throw new TypeError((null!==G&&typeof G||G)+" is not observable")}(G,re):G instanceof d.y?G:new d.y((0,K.s)(G))}},6693:(Ke,Ce,F)=>{"use strict";F.d(Ce,{n:()=>Z});var d=F(8891),K=F(5015),B=F(4087);function Z(te,J){return J?(0,B.r)(te,J):new d.y((0,K.V)(te))}},6682:(Ke,Ce,F)=>{"use strict";F.d(Ce,{T:()=>te});var d=F(8891),K=F(4869),B=F(3282),Z=F(6693);function te(...J){let H=Number.POSITIVE_INFINITY,$=null,U=J[J.length-1];return(0,K.K)(U)?($=J.pop(),J.length>1&&"number"==typeof J[J.length-1]&&(H=J.pop())):"number"==typeof U&&(H=J.pop()),null===$&&1===J.length&&J[0]instanceof d.y?J[0]:(0,B.J)(H)((0,Z.n)(J,$))}},5917:(Ke,Ce,F)=>{"use strict";F.d(Ce,{of:()=>Z});var d=F(4869),K=F(6693),B=F(4087);function Z(...te){let J=te[te.length-1];return(0,d.K)(J)?(te.pop(),(0,B.r)(te,J)):(0,K.n)(te)}},8002:(Ke,Ce,F)=>{"use strict";F.d(Ce,{U:()=>K});var d=F(7393);function K(te,J){return function($){if("function"!=typeof te)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return $.lift(new B(te,J))}}class B{constructor(J,H){this.project=J,this.thisArg=H}call(J,H){return H.subscribe(new Z(J,this.project,this.thisArg))}}class Z extends d.L{constructor(J,H,$){super(J),this.project=H,this.count=0,this.thisArg=$||this}_next(J){let H;try{H=this.project.call(this.thisArg,J,this.count++)}catch($){return void this.destination.error($)}this.destination.next(H)}}},3282:(Ke,Ce,F)=>{"use strict";F.d(Ce,{J:()=>B});var d=F(9773),K=F(4487);function B(Z=Number.POSITIVE_INFINITY){return(0,d.zg)(K.y,Z)}},9773:(Ke,Ce,F)=>{"use strict";F.d(Ce,{zg:()=>Z});var d=F(8002),K=F(4402),B=F(5345);function Z($,U,P=Number.POSITIVE_INFINITY){return"function"==typeof U?N=>N.pipe(Z((W,oe)=>(0,K.D)($(W,oe)).pipe((0,d.U)((he,ee)=>U(W,he,oe,ee))),P)):("number"==typeof U&&(P=U),N=>N.lift(new te($,P)))}class te{constructor(U,P=Number.POSITIVE_INFINITY){this.project=U,this.concurrent=P}call(U,P){return P.subscribe(new J(U,this.project,this.concurrent))}}class J extends B.Ds{constructor(U,P,N=Number.POSITIVE_INFINITY){super(U),this.project=P,this.concurrent=N,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(U){this.active<this.concurrent?this._tryNext(U):this.buffer.push(U)}_tryNext(U){let P;const N=this.index++;try{P=this.project(U,N)}catch(W){return void this.destination.error(W)}this.active++,this._innerSub(P)}_innerSub(U){const P=new B.IY(this),N=this.destination;N.add(P);const W=(0,B.ft)(U,P);W!==P&&N.add(W)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(U){this.destination.next(U)}notifyComplete(){const U=this.buffer;this.active--,U.length>0?this._next(U.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(Ke,Ce,F)=>{"use strict";F.d(Ce,{ht:()=>N,QV:()=>U});var d=F(7393),K=F(9193),B=F(5917),Z=F(8891);class ${constructor(he,ee,G){this.kind=he,this.value=ee,this.error=G,this.hasValue="N"===he}observe(he){switch(this.kind){case"N":return he.next&&he.next(this.value);case"E":return he.error&&he.error(this.error);case"C":return he.complete&&he.complete()}}do(he,ee,G){switch(this.kind){case"N":return he&&he(this.value);case"E":return ee&&ee(this.error);case"C":return G&&G()}}accept(he,ee,G){return he&&"function"==typeof he.next?this.observe(he):this.do(he,ee,G)}toObservable(){switch(this.kind){case"N":return(0,B.of)(this.value);case"E":return oe=this.error,new Z.y(ee=>ee.error(oe));case"C":return(0,K.c)()}var oe;throw new Error("unexpected notification kind value")}static createNext(he){return void 0!==he?new $("N",he):$.undefinedValueNotification}static createError(he){return new $("E",void 0,he)}static createComplete(){return $.completeNotification}}function U(oe,he=0){return function(G){return G.lift(new P(oe,he))}}$.completeNotification=new $("C"),$.undefinedValueNotification=new $("N",void 0);class P{constructor(he,ee=0){this.scheduler=he,this.delay=ee}call(he,ee){return ee.subscribe(new N(he,this.scheduler,this.delay))}}class N extends d.L{constructor(he,ee,G=0){super(he),this.scheduler=ee,this.delay=G}static dispatch(he){const{notification:ee,destination:G}=he;ee.observe(G),this.unsubscribe()}scheduleMessage(he){this.destination.add(this.scheduler.schedule(N.dispatch,this.delay,new W(he,this.destination)))}_next(he){this.scheduleMessage($.createNext(he))}_error(he){this.scheduleMessage($.createError(he)),this.unsubscribe()}_complete(){this.scheduleMessage($.createComplete()),this.unsubscribe()}}class W{constructor(he,ee){this.notification=he,this.destination=ee}}},1307:(Ke,Ce,F)=>{"use strict";F.d(Ce,{x:()=>K});var d=F(7393);function K(){return function(J){return J.lift(new B(J))}}class B{constructor(J){this.connectable=J}call(J,H){const{connectable:$}=this;$._refCount++;const U=new Z(J,$),P=H.subscribe(U);return U.closed||(U.connection=$.connect()),P}}class Z extends d.L{constructor(J,H){super(J),this.connectable=H}_unsubscribe(){const{connectable:J}=this;if(!J)return void(this.connection=null);this.connectable=null;const H=J._refCount;if(H<=0)return void(this.connection=null);if(J._refCount=H-1,H>1)return void(this.connection=null);const{connection:$}=this,U=J._connection;this.connection=null,U&&(!$||U===$)&&U.unsubscribe()}}},8819:(Ke,Ce,F)=>{"use strict";F.d(Ce,{B:()=>H});var d=F(2441);var Z=F(1307),te=F(9765);function J(){return new te.xQ}function H(){return $=>(0,Z.x)()(function($,U){return function(N){let W;W="function"==typeof $?$:function(){return $};const oe=Object.create(N,d.N);return oe.source=N,oe.subjectFactory=W,oe}}(J)($))}},3101:(Ke,Ce,F)=>{"use strict";F.d(Ce,{R:()=>re});var d=F(8891);let K=1;const B=Promise.resolve(),Z={};function te(_e){return _e in Z&&(delete Z[_e],!0)}const J={setImmediate(_e){const Te=K++;return Z[Te]=!0,B.then(()=>te(Te)&&_e()),Te},clearImmediate(_e){te(_e)}};var $=F(6465),P=F(6102);const oe=new class extends P.v{flush(Te){this.active=!0,this.scheduled=void 0;const{actions:Pe}=this;let Be,Je=-1,lt=Pe.length;Te=Te||Pe.shift();do{if(Be=Te.execute(Te.state,Te.delay))break}while(++Je<lt&&(Te=Pe.shift()));if(this.active=!1,Be){for(;++Je<lt&&(Te=Pe.shift());)Te.unsubscribe();throw Be}}}(class extends $.o{constructor(Te,Pe){super(Te,Pe),this.scheduler=Te,this.work=Pe}requestAsyncId(Te,Pe,Be=0){return null!==Be&&Be>0?super.requestAsyncId(Te,Pe,Be):(Te.actions.push(this),Te.scheduled||(Te.scheduled=J.setImmediate(Te.flush.bind(Te,null))))}recycleAsyncId(Te,Pe,Be=0){if(null!==Be&&Be>0||null===Be&&this.delay>0)return super.recycleAsyncId(Te,Pe,Be);0===Te.actions.length&&(J.clearImmediate(Pe),Te.scheduled=void 0)}});var he=F(9796);class G extends d.y{constructor(Te,Pe=0,Be=oe){var _e;super(),this.source=Te,this.delayTime=Pe,this.scheduler=Be,(!(!(0,he.k)(_e=Pe)&&_e-parseFloat(_e)+1>=0)||Pe<0)&&(this.delayTime=0),(!Be||"function"!=typeof Be.schedule)&&(this.scheduler=oe)}static create(Te,Pe=0,Be=oe){return new G(Te,Pe,Be)}static dispatch(Te){const{source:Pe,subscriber:Be}=Te;return this.add(Pe.subscribe(Be))}_subscribe(Te){return this.scheduler.schedule(G.dispatch,this.delayTime,{source:this.source,subscriber:Te})}}function re(_e,Te=0){return function(Be){return Be.lift(new ue(_e,Te))}}class ue{constructor(Te,Pe){this.scheduler=Te,this.delay=Pe}call(Te,Pe){return new G(Pe,this.delay,this.scheduler).subscribe(Te)}}},3342:(Ke,Ce,F)=>{"use strict";F.d(Ce,{b:()=>Z});var d=F(7393);function K(){}var B=F(9105);function Z(H,$,U){return function(N){return N.lift(new te(H,$,U))}}class te{constructor($,U,P){this.nextOrObserver=$,this.error=U,this.complete=P}call($,U){return U.subscribe(new J($,this.nextOrObserver,this.error,this.complete))}}class J extends d.L{constructor($,U,P,N){super($),this._tapNext=K,this._tapError=K,this._tapComplete=K,this._tapError=P||K,this._tapComplete=N||K,(0,B.m)(U)?(this._context=this,this._tapNext=U):U&&(this._context=U,this._tapNext=U.next||K,this._tapError=U.error||K,this._tapComplete=U.complete||K)}_next($){try{this._tapNext.call(this._context,$)}catch(U){return void this.destination.error(U)}this.destination.next($)}_error($){try{this._tapError.call(this._context,$)}catch(U){return void this.destination.error(U)}this.destination.error($)}_complete(){try{this._tapComplete.call(this._context)}catch($){return void this.destination.error($)}return this.destination.complete()}}},4087:(Ke,Ce,F)=>{"use strict";F.d(Ce,{r:()=>B});var d=F(8891),K=F(5319);function B(Z,te){return new d.y(J=>{const H=new K.w;let $=0;return H.add(te.schedule(function(){$!==Z.length?(J.next(Z[$++]),J.closed||H.add(this.schedule())):J.complete()})),H})}},6465:(Ke,Ce,F)=>{"use strict";F.d(Ce,{o:()=>B});var d=F(5319);class K extends d.w{constructor(te,J){super()}schedule(te,J=0){return this}}class B extends K{constructor(te,J){super(te,J),this.scheduler=te,this.work=J,this.pending=!1}schedule(te,J=0){if(this.closed)return this;this.state=te;const H=this.id,$=this.scheduler;return null!=H&&(this.id=this.recycleAsyncId($,H,J)),this.pending=!0,this.delay=J,this.id=this.id||this.requestAsyncId($,this.id,J),this}requestAsyncId(te,J,H=0){return setInterval(te.flush.bind(te,this),H)}recycleAsyncId(te,J,H=0){if(null!==H&&this.delay===H&&!1===this.pending)return J;clearInterval(J)}execute(te,J){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const H=this._execute(te,J);if(H)return H;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(te,J){let $,H=!1;try{this.work(te)}catch(U){H=!0,$=!!U&&U||new Error(U)}if(H)return this.unsubscribe(),$}_unsubscribe(){const te=this.id,J=this.scheduler,H=J.actions,$=H.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==$&&H.splice($,1),null!=te&&(this.id=this.recycleAsyncId(J,te,null)),this.delay=null}}},6102:(Ke,Ce,F)=>{"use strict";F.d(Ce,{v:()=>K});let d=(()=>{class B{constructor(te,J=B.now){this.SchedulerAction=te,this.now=J}schedule(te,J=0,H){return new this.SchedulerAction(this,te).schedule(H,J)}}return B.now=()=>Date.now(),B})();class K extends d{constructor(Z,te=d.now){super(Z,()=>K.delegate&&K.delegate!==this?K.delegate.now():te()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(Z,te=0,J){return K.delegate&&K.delegate!==this?K.delegate.schedule(Z,te,J):super.schedule(Z,te,J)}flush(Z){const{actions:te}=this;if(this.active)return void te.push(Z);let J;this.active=!0;do{if(J=Z.execute(Z.state,Z.delay))break}while(Z=te.shift());if(this.active=!1,J){for(;Z=te.shift();)Z.unsubscribe();throw J}}}},3637:(Ke,Ce,F)=>{"use strict";F.d(Ce,{z:()=>B,P:()=>Z});var d=F(6465);const B=new(F(6102).v)(d.o),Z=B},7771:(Ke,Ce,F)=>{"use strict";F.d(Ce,{c:()=>J,N:()=>te});var d=F(6465),B=F(6102);const te=new class extends B.v{}(class extends d.o{constructor($,U){super($,U),this.scheduler=$,this.work=U}schedule($,U=0){return U>0?super.schedule($,U):(this.delay=U,this.state=$,this.scheduler.flush(this),this)}execute($,U){return U>0||this.closed?super.execute($,U):this._execute($,U)}requestAsyncId($,U,P=0){return null!==P&&P>0||null===P&&this.delay>0?super.requestAsyncId($,U,P):$.flush(this)}}),J=te},377:(Ke,Ce,F)=>{"use strict";F.d(Ce,{hZ:()=>K});const K="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Ke,Ce,F)=>{"use strict";F.d(Ce,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Ke,Ce,F)=>{"use strict";F.d(Ce,{b:()=>d});const d="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(Ke,Ce,F)=>{"use strict";F.d(Ce,{N:()=>K});const K=(()=>{function B(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return B.prototype=Object.create(Error.prototype),B})()},4449:(Ke,Ce,F)=>{"use strict";function d(K){setTimeout(()=>{throw K},0)}F.d(Ce,{z:()=>d})},4487:(Ke,Ce,F)=>{"use strict";function d(K){return K}F.d(Ce,{y:()=>d})},9796:(Ke,Ce,F)=>{"use strict";F.d(Ce,{k:()=>d});const d=Array.isArray||(K=>K&&"number"==typeof K.length)},9489:(Ke,Ce,F)=>{"use strict";F.d(Ce,{z:()=>d});const d=K=>K&&"number"==typeof K.length&&"function"!=typeof K},9105:(Ke,Ce,F)=>{"use strict";function d(K){return"function"==typeof K}F.d(Ce,{m:()=>d})},1555:(Ke,Ce,F)=>{"use strict";function d(K){return null!==K&&"object"==typeof K}F.d(Ce,{K:()=>d})},4072:(Ke,Ce,F)=>{"use strict";function d(K){return!!K&&"function"!=typeof K.subscribe&&"function"==typeof K.then}F.d(Ce,{t:()=>d})},4869:(Ke,Ce,F)=>{"use strict";function d(K){return K&&"function"==typeof K.schedule}F.d(Ce,{K:()=>d})},4022:(Ke,Ce,F)=>{"use strict";F.d(Ce,{z:()=>K,U:()=>B});var d=F(4487);function K(...Z){return B(Z)}function B(Z){return 0===Z.length?d.y:1===Z.length?Z[0]:function(J){return Z.reduce((H,$)=>$(H),J)}}},7444:(Ke,Ce,F)=>{"use strict";F.d(Ce,{s:()=>N});var d=F(5015),K=F(4449),Z=F(377),J=F(6554),$=F(9489),U=F(4072),P=F(1555);const N=W=>{if(W&&"function"==typeof W[J.L])return(W=>oe=>{const he=W[J.L]();if("function"!=typeof he.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return he.subscribe(oe)})(W);if((0,$.z)(W))return(0,d.V)(W);if((0,U.t)(W))return(W=>oe=>(W.then(he=>{oe.closed||(oe.next(he),oe.complete())},he=>oe.error(he)).then(null,K.z),oe))(W);if(W&&"function"==typeof W[Z.hZ])return(W=>oe=>{const he=W[Z.hZ]();for(;;){let ee;try{ee=he.next()}catch(G){return oe.error(G),oe}if(ee.done){oe.complete();break}if(oe.next(ee.value),oe.closed)break}return"function"==typeof he.return&&oe.add(()=>{he.return&&he.return()}),oe})(W);{const he=`You provided ${(0,P.K)(W)?"an invalid object":`'${W}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(he)}}},5015:(Ke,Ce,F)=>{"use strict";F.d(Ce,{V:()=>d});const d=K=>B=>{for(let Z=0,te=K.length;Z<te&&!B.closed;Z++)B.next(K[Z]);B.complete()}},6412:(Ke,Ce,F)=>{"use strict";var d=F(7716);let K=null;function B(){return K}const H=new d.OlP("DocumentToken");let $=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=(0,d.Yz7)({factory:U,token:n,providedIn:"platform"}),n})();function U(){return(0,d.LFG)(N)}const P=new d.OlP("Location Initialized");let N=(()=>{class n extends ${constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return B().getBaseHref(this._doc)}onPopState(e){const s=B().getGlobalEventTarget(this._doc,"window");return s.addEventListener("popstate",e,!1),()=>s.removeEventListener("popstate",e)}onHashChange(e){const s=B().getGlobalEventTarget(this._doc,"window");return s.addEventListener("hashchange",e,!1),()=>s.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,s,a){W()?this._history.pushState(e,s,a):this.location.hash=a}replaceState(e,s,a){W()?this._history.replaceState(e,s,a):this.location.hash=a}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(H))},n.\u0275prov=(0,d.Yz7)({factory:oe,token:n,providedIn:"platform"}),n})();function W(){return!!window.history.pushState}function oe(){return new N((0,d.LFG)(H))}function he(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function ee(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function G(n){return n&&"?"!==n[0]?"?"+n:n}let re=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=(0,d.Yz7)({factory:ue,token:n,providedIn:"root"}),n})();function ue(n){const t=(0,d.LFG)(H).location;return new Te((0,d.LFG)($),t&&t.origin||"")}const _e=new d.OlP("appBaseHref");let Te=(()=>{class n extends re{constructor(e,s){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==s&&(s=this._platformLocation.getBaseHrefFromDOM()),null==s)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=s}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return he(this._baseHref,e)}path(e=!1){const s=this._platformLocation.pathname+G(this._platformLocation.search),a=this._platformLocation.hash;return a&&e?`${s}${a}`:s}pushState(e,s,a,u){const h=this.prepareExternalUrl(a+G(u));this._platformLocation.pushState(e,s,h)}replaceState(e,s,a,u){const h=this.prepareExternalUrl(a+G(u));this._platformLocation.replaceState(e,s,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var s,a;null===(a=(s=this._platformLocation).historyGo)||void 0===a||a.call(s,e)}}return n.\u0275fac=function(e){return new(e||n)(d.LFG($),d.LFG(_e,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Pe=(()=>{class n extends re{constructor(e,s){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=s&&(this._baseHref=s)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let s=this._platformLocation.hash;return null==s&&(s="#"),s.length>0?s.substring(1):s}prepareExternalUrl(e){const s=he(this._baseHref,e);return s.length>0?"#"+s:s}pushState(e,s,a,u){let h=this.prepareExternalUrl(a+G(u));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(e,s,h)}replaceState(e,s,a,u){let h=this.prepareExternalUrl(a+G(u));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(e,s,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var s,a;null===(a=(s=this._platformLocation).historyGo)||void 0===a||a.call(s,e)}}return n.\u0275fac=function(e){return new(e||n)(d.LFG($),d.LFG(_e,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Be=(()=>{class n{constructor(e,s){this._subject=new d.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const a=this._platformStrategy.getBaseHref();this._platformLocation=s,this._baseHref=ee(it(a)),this._platformStrategy.onPopState(u=>{this._subject.emit({url:this.path(!0),pop:!0,state:u.state,type:u.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,s=""){return this.path()==this.normalize(e+G(s))}normalize(e){return n.stripTrailingSlash(function(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,it(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,s="",a=null){this._platformStrategy.pushState(a,"",e,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+G(s)),a)}replaceState(e,s="",a=null){this._platformStrategy.replaceState(a,"",e,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+G(s)),a)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var s,a;null===(a=(s=this._platformStrategy).historyGo)||void 0===a||a.call(s,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(s=>{this._notifyUrlChangeListeners(s.url,s.state)}))}_notifyUrlChangeListeners(e="",s){this._urlChangeListeners.forEach(a=>a(e,s))}subscribe(e,s,a){return this._subject.subscribe({next:e,error:s,complete:a})}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(re),d.LFG($))},n.normalizeQueryParams=G,n.joinWithSlash=he,n.stripTrailingSlash=ee,n.\u0275prov=(0,d.Yz7)({factory:Je,token:n,providedIn:"root"}),n})();function Je(){return new Be((0,d.LFG)(re),(0,d.LFG)($))}function it(n){return n.replace(/\/index.html$/,"")}var we=(()=>((we=we||{})[we.Decimal=0]="Decimal",we[we.Percent=1]="Percent",we[we.Currency=2]="Currency",we[we.Scientific=3]="Scientific",we))(),Ne=(()=>((Ne=Ne||{})[Ne.Zero=0]="Zero",Ne[Ne.One=1]="One",Ne[Ne.Two=2]="Two",Ne[Ne.Few=3]="Few",Ne[Ne.Many=4]="Many",Ne[Ne.Other=5]="Other",Ne))(),w=(()=>((w=w||{})[w.Decimal=0]="Decimal",w[w.Group=1]="Group",w[w.List=2]="List",w[w.PercentSign=3]="PercentSign",w[w.PlusSign=4]="PlusSign",w[w.MinusSign=5]="MinusSign",w[w.Exponential=6]="Exponential",w[w.SuperscriptingExponent=7]="SuperscriptingExponent",w[w.PerMille=8]="PerMille",w[w.Infinity=9]="Infinity",w[w.NaN=10]="NaN",w[w.TimeSeparator=11]="TimeSeparator",w[w.CurrencyDecimal=12]="CurrencyDecimal",w[w.CurrencyGroup=13]="CurrencyGroup",w))();function j(n,t){const e=(0,d.cg1)(n),s=e[d.wAp.NumberSymbols][t];if(void 0===s){if(t===w.CurrencyDecimal)return e[d.wAp.NumberSymbols][w.Decimal];if(t===w.CurrencyGroup)return e[d.wAp.NumberSymbols][w.Group]}return s}const Nt=d.kL8,ri=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function St(n){const t=parseInt(n);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+n);return t}class xr{}let ir=(()=>{class n extends xr{constructor(e){super(),this.locale=e}getPluralCategory(e,s){switch(Nt(s||this.locale)(e)){case Ne.Zero:return"zero";case Ne.One:return"one";case Ne.Two:return"two";case Ne.Few:return"few";case Ne.Many:return"many";default:return"other"}}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(d.soG))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class vr{constructor(t,e,s,a){this.$implicit=t,this.ngForOf=e,this.index=s,this.count=a}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let tn=(()=>{class n{constructor(e,s,a){this._viewContainer=e,this._template=s,this._differs=a,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(s){throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(n){return n.name||typeof n}(e)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const s=[];e.forEachOperation((a,u,h)=>{if(null==a.previousIndex){const _=this._viewContainer.createEmbeddedView(this._template,new vr(null,this._ngForOf,-1,-1),null===h?void 0:h),C=new sd(a,_);s.push(C)}else if(null==h)this._viewContainer.remove(null===u?void 0:u);else if(null!==u){const _=this._viewContainer.get(u);this._viewContainer.move(_,h);const C=new sd(a,_);s.push(C)}});for(let a=0;a<s.length;a++)this._perViewChange(s[a].view,s[a].record);for(let a=0,u=this._viewContainer.length;a<u;a++){const h=this._viewContainer.get(a);h.context.index=a,h.context.count=u,h.context.ngForOf=this._ngForOf}e.forEachIdentityChange(a=>{this._viewContainer.get(a.currentIndex).context.$implicit=a.item})}_perViewChange(e,s){e.context.$implicit=s.item}static ngTemplateContextGuard(e,s){return!0}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class sd{constructor(t,e){this.record=t,this.view=e}}let oi=(()=>{class n{constructor(e,s){this._viewContainer=e,this._context=new Pc,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=s}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Fo("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Fo("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,s){return!0}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(d.s_b),d.Y36(d.Rgc))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Pc{constructor(){this.$implicit=null,this.ngIf=null}}function Fo(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,d.AaK)(t)}'.`)}function bi(n,t){return Error(`InvalidPipeArgument: '${t}' for pipe '${(0,d.AaK)(n)}'`)}let yl=(()=>{class n{transform(e){if(null==e)return null;if("string"!=typeof e)throw bi(n,e);return e.toUpperCase()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=d.Yjl({name:"uppercase",type:n,pure:!0}),n})(),Vo=(()=>{class n{constructor(e){this._locale=e}transform(e,s,a){if(!function(n){return!(null==n||""===n||n!=n)}(e))return null;a=a||this._locale;try{return function(n,t,e){return function(n,t,e,s,a,u,h=!1){let _="",C=!1;if(isFinite(n)){let S=function(n){let s,a,u,h,_,t=Math.abs(n)+"",e=0;for((a=t.indexOf("."))>-1&&(t=t.replace(".","")),(u=t.search(/e/i))>0?(a<0&&(a=u),a+=+t.slice(u+1),t=t.substring(0,u)):a<0&&(a=t.length),u=0;"0"===t.charAt(u);u++);if(u===(_=t.length))s=[0],a=1;else{for(_--;"0"===t.charAt(_);)_--;for(a-=u,s=[],h=0;u<=_;u++,h++)s[h]=Number(t.charAt(u))}return a>22&&(s=s.splice(0,21),e=a-1,a=1),{digits:s,exponent:e,integerLen:a}}(n);h&&(S=function(n){if(0===n.digits[0])return n;const t=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===t?n.digits.push(0,0):1===t&&n.digits.push(0),n.integerLen+=2),n}(S));let k=t.minInt,L=t.minFrac,Q=t.maxFrac;if(u){const ut=u.match(ri);if(null===ut)throw new Error(`${u} is not a valid digit info`);const _t=ut[1],at=ut[3],_n=ut[5];null!=_t&&(k=St(_t)),null!=at&&(L=St(at)),null!=_n?Q=St(_n):null!=at&&L>Q&&(Q=L)}!function(n,t,e){if(t>e)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${e}).`);let s=n.digits,a=s.length-n.integerLen;const u=Math.min(Math.max(t,a),e);let h=u+n.integerLen,_=s[h];if(h>0){s.splice(Math.max(n.integerLen,h));for(let L=h;L<s.length;L++)s[L]=0}else{a=Math.max(0,a),n.integerLen=1,s.length=Math.max(1,h=u+1),s[0]=0;for(let L=1;L<h;L++)s[L]=0}if(_>=5)if(h-1<0){for(let L=0;L>h;L--)s.unshift(0),n.integerLen++;s.unshift(1),n.integerLen++}else s[h-1]++;for(;a<Math.max(0,u);a++)s.push(0);let C=0!==u;const S=t+n.integerLen,k=s.reduceRight(function(L,Q,ye,Ee){return Ee[ye]=(Q+=L)<10?Q:Q-10,C&&(0===Ee[ye]&&ye>=S?Ee.pop():C=!1),Q>=10?1:0},0);k&&(s.unshift(k),n.integerLen++)}(S,L,Q);let ye=S.digits,Ee=S.integerLen;const Ve=S.exponent;let $e=[];for(C=ye.every(ut=>!ut);Ee<k;Ee++)ye.unshift(0);for(;Ee<0;Ee++)ye.unshift(0);Ee>0?$e=ye.splice(Ee,ye.length):($e=ye,ye=[0]);const ft=[];for(ye.length>=t.lgSize&&ft.unshift(ye.splice(-t.lgSize,ye.length).join(""));ye.length>t.gSize;)ft.unshift(ye.splice(-t.gSize,ye.length).join(""));ye.length&&ft.unshift(ye.join("")),_=ft.join(j(e,s)),$e.length&&(_+=j(e,a)+$e.join("")),Ve&&(_+=j(e,w.Exponential)+"+"+Ve)}else _=j(e,w.Infinity);return _=n<0&&!C?t.negPre+_+t.negSuf:t.posPre+_+t.posSuf,_}(n,function(n,t="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},s=n.split(";"),a=s[0],u=s[1],h=-1!==a.indexOf(".")?a.split("."):[a.substring(0,a.lastIndexOf("0")+1),a.substring(a.lastIndexOf("0")+1)],_=h[0],C=h[1]||"";e.posPre=_.substr(0,_.indexOf("#"));for(let k=0;k<C.length;k++){const L=C.charAt(k);"0"===L?e.minFrac=e.maxFrac=k+1:"#"===L?e.maxFrac=k+1:e.posSuf+=L}const S=_.split(",");if(e.gSize=S[1]?S[1].length:0,e.lgSize=S[2]||S[1]?(S[2]||S[1]).length:0,u){const k=a.length-e.posPre.length-e.posSuf.length,L=u.indexOf("#");e.negPre=u.substr(0,L).replace(/'/g,""),e.negSuf=u.substr(L+k).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}(function(n,t){return(0,d.cg1)(n)[d.wAp.NumberFormats][t]}(t,we.Decimal),j(t,w.MinusSign)),t,w.Group,w.Decimal,e)}(function(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(e),a,s)}catch(u){throw bi(n,u.message)}}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(d.soG,16))},n.\u0275pipe=d.Yjl({name:"number",type:n,pure:!0}),n})();let ai=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[{provide:xr,useClass:ir}]}),n})(),Ta=(()=>{class n{}return n.\u0275prov=(0,d.Yz7)({token:n,providedIn:"root",factory:()=>new hd((0,d.LFG)(H),window)}),n})();class hd{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const s=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let a=s.currentNode;for(;a;){const u=a.shadowRoot;if(u){const h=u.getElementById(t)||u.querySelector(`[name="${t}"]`);if(h)return h}a=s.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),s=e.left+this.window.pageXOffset,a=e.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(s-u[0],a-u[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Uo(this.window.history)||Uo(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function Uo(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class gd extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new gd,K||(K=n)}onAndCancel(t,e,s){return t.addEventListener(e,s,!1),()=>{t.removeEventListener(e,s,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(Li=Li||document.querySelector("base"),Li?Li.getAttribute("href"):null);return null==e?null:function(n){nn=nn||document.createElement("a"),nn.setAttribute("href",n);const t=nn.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Li=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const s=e.indexOf("="),[a,u]=-1==s?[e,""]:[e.slice(0,s),e.slice(s+1)];if(a.trim()===t)return decodeURIComponent(u)}return null}(document.cookie,t)}}let nn,Li=null;const bl=new d.OlP("TRANSITION_ID"),Wr=[{provide:d.ip1,useFactory:function(n,t,e){return()=>{e.get(d.CZH).donePromise.then(()=>{const s=B(),a=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<a.length;u++)s.remove(a[u])})}},deps:[bl,H,d.zs3],multi:!0}];class zn{static init(){(0,d.VLi)(new zn)}addToWindow(t){d.dqk.getAngularTestability=(s,a=!0)=>{const u=t.findTestabilityInTree(s,a);if(null==u)throw new Error("Could not find testability for element.");return u},d.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(s=>{const a=d.dqk.getAllAngularTestabilities();let u=a.length,h=!1;const _=function(C){h=h||C,u--,0==u&&s(h)};a.forEach(function(C){C.whenStable(_)})})}findTestabilityInTree(t,e,s){if(null==e)return null;const a=t.getTestability(e);return null!=a?a:s?B().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let _s=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Xi=new d.OlP("EventManagerPlugins");let He=(()=>{class n{constructor(e,s){this._zone=s,this._eventNameToPlugin=new Map,e.forEach(a=>a.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,s,a){return this._findPluginFor(s).addEventListener(e,s,a)}addGlobalEventListener(e,s,a){return this._findPluginFor(s).addGlobalEventListener(e,s,a)}getZone(){return this._zone}_findPluginFor(e){const s=this._eventNameToPlugin.get(e);if(s)return s;const a=this._plugins;for(let u=0;u<a.length;u++){const h=a[u];if(h.supports(e))return this._eventNameToPlugin.set(e,h),h}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(Xi),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class Lt{constructor(t){this._doc=t}addGlobalEventListener(t,e,s){const a=B().getGlobalEventTarget(this._doc,t);if(!a)throw new Error(`Unsupported event target ${a} for event ${e}`);return this.addEventListener(a,e,s)}}let Tl=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const s=new Set;e.forEach(a=>{this._stylesSet.has(a)||(this._stylesSet.add(a),s.add(a))}),this.onStylesAdded(s)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),pn=(()=>{class n extends Tl{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,s,a){e.forEach(u=>{const h=this._doc.createElement("style");h.textContent=u,a.push(s.appendChild(h))})}addHost(e){const s=[];this._addStylesToHost(this._stylesSet,e,s),this._hostNodes.set(e,s)}removeHost(e){const s=this._hostNodes.get(e);s&&s.forEach(Sl),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((s,a)=>{this._addStylesToHost(e,a,s)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Sl))}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(H))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function Sl(n){B().remove(n)}const Vi={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Cr=/%COMP%/g;function kn(n,t,e){for(let s=0;s<t.length;s++){let a=t[s];Array.isArray(a)?kn(n,a,e):(a=a.replace(Cr,n),e.push(a))}return e}function li(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let ci=(()=>{class n{constructor(e,s,a){this.eventManager=e,this.sharedStylesHost=s,this.appId=a,this.rendererByCompId=new Map,this.defaultRenderer=new Er(e)}createRenderer(e,s){if(!e||!s)return this.defaultRenderer;switch(s.encapsulation){case d.ifc.Emulated:{let a=this.rendererByCompId.get(s.id);return a||(a=new Bc(this.eventManager,this.sharedStylesHost,s,this.appId),this.rendererByCompId.set(s.id,a)),a.applyToHost(e),a}case 1:case d.ifc.ShadowDom:return new Na(this.eventManager,this.sharedStylesHost,e,s);default:if(!this.rendererByCompId.has(s.id)){const a=kn(s.id,s.styles,[]);this.sharedStylesHost.addStyles(a),this.rendererByCompId.set(s.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(He),d.LFG(pn),d.LFG(d.AFp))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class Er{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Vi[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,s){t&&t.insertBefore(e,s)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let s="string"==typeof t?document.querySelector(t):t;if(!s)throw new Error(`The selector "${t}" did not match any elements`);return e||(s.textContent=""),s}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,s,a){if(a){e=a+":"+e;const u=Vi[a];u?t.setAttributeNS(u,e,s):t.setAttribute(e,s)}else t.setAttribute(e,s)}removeAttribute(t,e,s){if(s){const a=Vi[s];a?t.removeAttributeNS(a,e):t.removeAttribute(`${s}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,s,a){a&(d.JOm.DashCase|d.JOm.Important)?t.style.setProperty(e,s,a&d.JOm.Important?"important":""):t.style[e]=s}removeStyle(t,e,s){s&d.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,s){t[e]=s}setValue(t,e){t.nodeValue=e}listen(t,e,s){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,li(s)):this.eventManager.addEventListener(t,e,li(s))}}class Bc extends Er{constructor(t,e,s,a){super(t),this.component=s;const u=kn(a+"-"+s.id,s.styles,[]);e.addStyles(u),this.contentAttr="_ngcontent-%COMP%".replace(Cr,a+"-"+s.id),this.hostAttr="_nghost-%COMP%".replace(Cr,a+"-"+s.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const s=super.createElement(t,e);return super.setAttribute(s,this.contentAttr,""),s}}class Na extends Er{constructor(t,e,s,a){super(t),this.sharedStylesHost=e,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=kn(a.id,a.styles,[]);for(let h=0;h<u.length;h++){const _=document.createElement("style");_.textContent=u[h],this.shadowRoot.appendChild(_)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,s){return super.insertBefore(this.nodeOrShadowRoot(t),e,s)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Oa=(()=>{class n extends Lt{constructor(e){super(e)}supports(e){return!0}addEventListener(e,s,a){return e.addEventListener(s,a,!1),()=>this.removeEventListener(e,s,a)}removeEventListener(e,s,a){return e.removeEventListener(s,a)}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(H))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const es=["alt","control","meta","shift"],Hc={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Qn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},fg={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let qo=(()=>{class n extends Lt{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,s,a){const u=n.parseEventName(s),h=n.eventCallback(u.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>B().onAndCancel(e,u.domEventName,h))}static parseEventName(e){const s=e.toLowerCase().split("."),a=s.shift();if(0===s.length||"keydown"!==a&&"keyup"!==a)return null;const u=n._normalizeKey(s.pop());let h="";if(es.forEach(C=>{const S=s.indexOf(C);S>-1&&(s.splice(S,1),h+=C+".")}),h+=u,0!=s.length||0===u.length)return null;const _={};return _.domEventName=a,_.fullKey=h,_}static getEventFullKey(e){let s="",a=function(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&Qn.hasOwnProperty(t)&&(t=Qn[t]))}return Hc[t]||t}(e);return a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),es.forEach(u=>{u!=a&&fg[u](e)&&(s+=u+".")}),s+=a,s}static eventCallback(e,s,a){return u=>{n.getEventFullKey(u)===e&&a.runGuarded(()=>s(u))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(H))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Js=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=(0,d.Yz7)({factory:function(){return(0,d.LFG)(bs)},token:n,providedIn:"root"}),n})(),bs=(()=>{class n extends Js{constructor(e){super(),this._doc=e}sanitize(e,s){if(null==s)return null;switch(e){case d.q3G.NONE:return s;case d.q3G.HTML:return(0,d.qzn)(s,"HTML")?(0,d.z3N)(s):(0,d.EiD)(this._doc,String(s)).toString();case d.q3G.STYLE:return(0,d.qzn)(s,"Style")?(0,d.z3N)(s):s;case d.q3G.SCRIPT:if((0,d.qzn)(s,"Script"))return(0,d.z3N)(s);throw new Error("unsafe value used in a script context");case d.q3G.URL:return(0,d.yhl)(s),(0,d.qzn)(s,"URL")?(0,d.z3N)(s):(0,d.mCW)(String(s));case d.q3G.RESOURCE_URL:if((0,d.qzn)(s,"ResourceURL"))return(0,d.z3N)(s);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,d.JVY)(e)}bypassSecurityTrustStyle(e){return(0,d.L6k)(e)}bypassSecurityTrustScript(e){return(0,d.eBb)(e)}bypassSecurityTrustUrl(e){return(0,d.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,d.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(H))},n.\u0275prov=(0,d.Yz7)({factory:function(){return function(n){return new bs(n.get(H))}((0,d.LFG)(d.gxx))},token:n,providedIn:"root"}),n})();const Cs=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:"browser"},{provide:d.g9A,useValue:function(){gd.makeCurrent(),zn.init()},multi:!0},{provide:H,useFactory:function(){return(0,d.RDi)(document),document},deps:[]}]),Gc=[[],{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function(){return new d.qLn},deps:[]},{provide:Xi,useClass:Oa,multi:!0,deps:[H,d.R0b,d.Lbi]},{provide:Xi,useClass:qo,multi:!0,deps:[H]},[],{provide:ci,useClass:ci,deps:[He,pn,d.AFp]},{provide:d.FYo,useExisting:ci},{provide:Tl,useExisting:pn},{provide:pn,useClass:pn,deps:[H]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b]},{provide:He,useClass:He,deps:[Xi,d.R0b]},{provide:class{},useClass:_s,deps:[]},[]];let Wc=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:d.AFp,useValue:e.appId},{provide:bl,useExisting:d.AFp},Wr]}}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(n,12))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:Gc,imports:[ai,d.hGG]}),n})();"undefined"!=typeof window&&window;var vn=F(4402),pt=F(5917),Hn=F(9765),Zc=F(7971);class kr extends Hn.xQ{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Zc.N;return this._value}next(t){super.next(this._value=t)}}var eo=F(4869),Nl=F(9796),bn=F(7393);class Ol extends bn.L{notifyNext(t,e,s,a,u){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class gg extends bn.L{constructor(t,e,s){super(),this.parent=t,this.outerValue=e,this.outerIndex=s,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var ws=F(7444),pr=F(8891);function Fn(n,t,e,s,a=new gg(n,e,s)){if(!a.closed)return t instanceof pr.y?t.subscribe(a):(0,ws.s)(t)(a)}var xl=F(6693);const La={};class kl{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Va(t,this.resultSelector))}}class Va extends Ol{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(La),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let s=0;s<e;s++)this.add(Fn(this,t[s],void 0,s))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,s){const a=this.values,h=this.toRespond?a[s]===La?--this.toRespond:this.toRespond:0;a[s]=e,0===h&&(this.resultSelector?this._tryResultSelector(a):this.destination.next(a.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(s){return void this.destination.error(s)}this.destination.next(e)}}const ui=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();var rs=F(3282);function to(...n){return(0,rs.J)(1)((0,pt.of)(...n))}var Fr=F(9193);function Ii(n){return new pr.y(t=>{let e;try{e=n()}catch(a){return void t.error(a)}return(e?(0,vn.D)(e):(0,Fr.c)()).subscribe(t)})}var Rd=F(2441),Vt=F(8002),Qo=F(5345);function $n(n,t){return"function"==typeof t?e=>e.pipe($n((s,a)=>(0,vn.D)(n(s,a)).pipe((0,Vt.U)((u,h)=>t(s,u,a,h))))):e=>e.lift(new mg(n))}class mg{constructor(t){this.project=t}call(t,e){return e.subscribe(new Cn(t,this.project))}}class Cn extends Qo.Ds{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const s=this.index++;try{e=this.project(t,s)}catch(a){return void this.destination.error(a)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const s=new Qo.IY(this),a=this.destination;a.add(s),this.innerSubscription=(0,Qo.ft)(t,s),this.innerSubscription!==s&&a.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;(!t||t.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const Fl=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function Yc(n){return t=>0===n?(0,Fr.c)():t.lift(new r0(n))}class r0{constructor(t){if(this.total=t,this.total<0)throw new Fl}call(t,e){return e.subscribe(new Ll(t,this.total))}}class Ll extends bn.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,s=++this.count;s<=e&&(this.destination.next(t),s===e&&(this.destination.complete(),this.unsubscribe()))}}function Vl(n,t){let e=!1;return arguments.length>=2&&(e=!0),function(a){return a.lift(new yg(n,t,e))}}class yg{constructor(t,e,s=!1){this.accumulator=t,this.seed=e,this.hasSeed=s}call(t,e){return e.subscribe(new Pd(t,this.accumulator,this.seed,this.hasSeed))}}class Pd extends bn.L{constructor(t,e,s,a){super(t),this.accumulator=e,this._seed=s,this.hasSeed=a,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let s;try{s=this.accumulator(this.seed,t,e)}catch(a){this.destination.error(a)}this.seed=s,this.destination.next(s)}}function no(n,t){return function(s){return s.lift(new Kc(n,t))}}class Kc{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new ro(t,this.predicate,this.thisArg))}}class ro extends bn.L{constructor(t,e,s){super(t),this.predicate=e,this.thisArg=s,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(s){return void this.destination.error(s)}e&&this.destination.next(t)}}function Ts(n){return function(e){const s=new Ln(n),a=e.lift(s);return s.caught=a}}class Ln{constructor(t){this.selector=t}call(t,e){return e.subscribe(new is(t,this.selector,this.caught))}}class is extends Qo.Ds{constructor(t,e,s){super(t),this.selector=e,this.caught=s}error(t){if(!this.isStopped){let e;try{e=this.selector(t,this.caught)}catch(u){return void super.error(u)}this._unsubscribeAndRecycle();const s=new Qo.IY(this);this.add(s);const a=(0,Qo.ft)(e,s);a!==s&&this.add(a)}}}var Vn=F(9773);function Qc(n,t){return(0,Vn.zg)(n,t,1)}function Nd(n){return function(e){return 0===n?(0,Fr.c)():e.lift(new Zr(n))}}class Zr{constructor(t){if(this.total=t,this.total<0)throw new Fl}call(t,e){return e.subscribe(new Ui(t,this.total))}}class Ui extends bn.L{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,s=this.total,a=this.count++;e.length<s?e.push(t):e[a%s]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const s=this.count>=this.total?this.total:this.count,a=this.ring;for(let u=0;u<s;u++){const h=e++%s;t.next(a[h])}}t.complete()}}function Ua(n=Od){return t=>t.lift(new di(n))}class di{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new ss(t,this.errorFactory))}}class ss extends bn.L{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function Od(){return new ui}function Jc(n=null){return t=>t.lift(new io(n))}class io{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new vg(t,this.defaultValue))}}class vg extends bn.L{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var so=F(4487);function Jn(n,t){const e=arguments.length>=2;return s=>s.pipe(n?no((a,u)=>n(a,u,s)):so.y,Yc(1),e?Jc(t):Ua(()=>new ui))}var Xn=F(3342),Jo=F(1307),Xc=F(5319);function eu(n){return t=>t.lift(new I(n))}class I{constructor(t){this.callback=t}call(t,e){return e.subscribe(new R(t,this.callback))}}class R extends bn.L{constructor(t,e){super(t),this.add(new Xc.w(e))}}class V{constructor(t,e){this.id=t,this.url=e}}class X extends V{constructor(t,e,s="imperative",a=null){super(t,e),this.navigationTrigger=s,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class be extends V{constructor(t,e,s){super(t,e),this.urlAfterRedirects=s}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Re extends V{constructor(t,e,s){super(t,e),this.reason=s}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ge extends V{constructor(t,e,s){super(t,e),this.error=s}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ot extends V{constructor(t,e,s,a){super(t,e),this.urlAfterRedirects=s,this.state=a}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dt extends V{constructor(t,e,s,a){super(t,e),this.urlAfterRedirects=s,this.state=a}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zt extends V{constructor(t,e,s,a,u){super(t,e),this.urlAfterRedirects=s,this.state=a,this.shouldActivate=u}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class dn extends V{constructor(t,e,s,a){super(t,e),this.urlAfterRedirects=s,this.state=a}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Un extends V{constructor(t,e,s,a){super(t,e),this.urlAfterRedirects=s,this.state=a}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Lr{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class er{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Bl{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oo{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jl{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ti{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Si{constructor(t,e,s){this.routerEvent=t,this.position=e,this.anchor=s}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Dt="primary";class uh{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function wn(n){return new uh(n)}const zl="ngNavigationCancelingError";function bg(n){const t=Error("NavigationCancelingError: "+n);return t[zl]=!0,t}function ja(n,t,e){const s=e.path.split("/");if(s.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||s.length<n.length))return null;const a={};for(let u=0;u<s.length;u++){const h=s[u],_=n[u];if(h.startsWith(":"))a[h.substring(1)]=_;else if(h!==_.path)return null}return{consumed:n.slice(0,s.length),posParams:a}}function Ai(n,t){const e=n?Object.keys(n):void 0,s=t?Object.keys(t):void 0;if(!e||!s||e.length!=s.length)return!1;let a;for(let u=0;u<e.length;u++)if(a=e[u],!fh(n[a],t[a]))return!1;return!0}function fh(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),s=[...t].sort();return e.every((a,u)=>s[u]===a)}return n===t}function Cg(n){return Array.prototype.concat.apply([],n)}function Xo(n){return n.length>0?n[n.length-1]:null}function tr(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function sr(n){return(0,d.CqO)(n)?n:(0,d.QGY)(n)?(0,vn.D)(Promise.resolve(n)):(0,pt.of)(n)}const Eg={exact:function xd(n,t,e){if(!ta(n.segments,t.segments)||!$l(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const s in t.children)if(!n.children[s]||!xd(n.children[s],t.children[s],e))return!1;return!0},subset:ao},Hl={exact:function(n,t){return Ai(n,t)},subset:function(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>fh(n[e],t[e]))},ignored:()=>!0};function tu(n,t,e){return Eg[e.paths](n.root,t.root,e.matrixParams)&&Hl[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function ao(n,t,e){return lo(n,t,t.segments,e)}function lo(n,t,e,s){if(n.segments.length>e.length){const a=n.segments.slice(0,e.length);return!(!ta(a,e)||t.hasChildren()||!$l(a,e,s))}if(n.segments.length===e.length){if(!ta(n.segments,e)||!$l(n.segments,e,s))return!1;for(const a in t.children)if(!n.children[a]||!ao(n.children[a],t.children[a],s))return!1;return!0}{const a=e.slice(0,n.segments.length),u=e.slice(n.segments.length);return!!(ta(n.segments,a)&&$l(n.segments,a,s)&&n.children[Dt])&&lo(n.children[Dt],t,u,s)}}function $l(n,t,e){return t.every((s,a)=>Hl[e](n[a].parameters,s.parameters))}class za{constructor(t,e,s){this.root=t,this.queryParams=e,this.fragment=s}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=wn(this.queryParams)),this._queryParamMap}toString(){return ru.serialize(this)}}class Gt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,tr(e,(s,a)=>s.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return co(this)}}class nu{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=wn(this.parameters)),this._parameterMap}toString(){return ql(this)}}function ta(n,t){return n.length===t.length&&n.every((e,s)=>e.path===t[s].path)}class hh{}class Gl{parse(t){const e=new Ld(t);return new za(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var n;return`${`/${iu(t.root,!0)}`}${function(n){const t=Object.keys(n).map(e=>{const s=n[e];return Array.isArray(s)?s.map(a=>`${su(e)}=${su(a)}`).join("&"):`${su(e)}=${su(s)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${n=t.fragment,encodeURI(n)}`:""}`}}const ru=new Gl;function co(n){return n.segments.map(t=>ql(t)).join("/")}function iu(n,t){if(!n.hasChildren())return co(n);if(t){const e=n.children[Dt]?iu(n.children[Dt],!1):"",s=[];return tr(n.children,(a,u)=>{u!==Dt&&s.push(`${u}:${iu(a,!1)}`)}),s.length>0?`${e}(${s.join("//")})`:e}{const e=function(n,t){let e=[];return tr(n.children,(s,a)=>{a===Dt&&(e=e.concat(t(s,a)))}),tr(n.children,(s,a)=>{a!==Dt&&(e=e.concat(t(s,a)))}),e}(n,(s,a)=>a===Dt?[iu(n.children[Dt],!1)]:[`${a}:${iu(s,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Dt]?`${co(n)}/${e[0]}`:`${co(n)}/(${e.join("//")})`}}function Tg(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function su(n){return Tg(n).replace(/%3B/gi,";")}function ou(n){return Tg(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Wl(n){return decodeURIComponent(n)}function ph(n){return Wl(n.replace(/\+/g,"%20"))}function ql(n){return`${ou(n.path)}${function(n){return Object.keys(n).map(t=>`;${ou(t)}=${ou(n[t])}`).join("")}(n.parameters)}`}const c0=/^[^\/()?;=#]+/;function Fd(n){const t=n.match(c0);return t?t[0]:""}const u0=/^[^=?&#]+/,uo=/^[^?&#]+/;class Ld{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Gt([],{}):new Gt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let s={};return this.peekStartsWith("(")&&(s=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(s[Dt]=new Gt(t,e)),s}parseSegment(){const t=Fd(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new nu(Wl(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Fd(this.remaining);if(!e)return;this.capture(e);let s="";if(this.consumeOptional("=")){const a=Fd(this.remaining);a&&(s=a,this.capture(s))}t[Wl(e)]=Wl(s)}parseQueryParam(t){const e=function(n){const t=n.match(u0);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let s="";if(this.consumeOptional("=")){const h=function(n){const t=n.match(uo);return t?t[0]:""}(this.remaining);h&&(s=h,this.capture(s))}const a=ph(e),u=ph(s);if(t.hasOwnProperty(a)){let h=t[a];Array.isArray(h)||(h=[h],t[a]=h),h.push(u)}else t[a]=u}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const s=Fd(this.remaining),a=this.remaining[s.length];if("/"!==a&&")"!==a&&";"!==a)throw new Error(`Cannot parse url '${this.url}'`);let u;s.indexOf(":")>-1?(u=s.substr(0,s.indexOf(":")),this.capture(u),this.capture(":")):t&&(u=Dt);const h=this.parseChildren();e[u]=1===Object.keys(h).length?h[Dt]:new Gt([],h),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Sg{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=gh(t,this._root);return e?e.children.map(s=>s.value):[]}firstChild(t){const e=gh(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=mh(t,this._root);return e.length<2?[]:e[e.length-2].children.map(a=>a.value).filter(a=>a!==t)}pathFromRoot(t){return mh(t,this._root).map(e=>e.value)}}function gh(n,t){if(n===t.value)return t;for(const e of t.children){const s=gh(n,e);if(s)return s}return null}function mh(n,t){if(n===t.value)return[t];for(const e of t.children){const s=mh(n,e);if(s.length)return s.unshift(t),s}return[]}class fo{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function au(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class Vd extends Sg{constructor(t,e){super(t),this.snapshot=e,Bd(this,t)}toString(){return this.snapshot.toString()}}function Ag(n,t){const e=function(n,t){const h=new Ud([],{},{},"",{},Dt,t,null,n.root,-1,{});return new na("",new fo(h,[]))}(n,t),s=new kr([new nu("",{})]),a=new kr({}),u=new kr({}),h=new kr({}),_=new kr(""),C=new Yl(s,a,h,_,u,Dt,t,e.root);return C.snapshot=e.root,new Vd(new fo(C,[]),e)}class Yl{constructor(t,e,s,a,u,h,_,C){this.url=t,this.params=e,this.queryParams=s,this.fragment=a,this.data=u,this.outlet=h,this.component=_,this._futureSnapshot=C}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Vt.U)(t=>wn(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Vt.U)(t=>wn(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Dg(n,t="emptyOnly"){const e=n.pathFromRoot;let s=0;if("always"!==t)for(s=e.length-1;s>=1;){const a=e[s],u=e[s-1];if(a.routeConfig&&""===a.routeConfig.path)s--;else{if(u.component)break;s--}}return function(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(s))}class Ud{constructor(t,e,s,a,u,h,_,C,S,k,L){this.url=t,this.params=e,this.queryParams=s,this.fragment=a,this.data=u,this.outlet=h,this.component=_,this.routeConfig=C,this._urlSegment=S,this._lastPathIndex=k,this._resolve=L}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=wn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=wn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(s=>s.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class na extends Sg{constructor(t,e){super(e),this.url=t,Bd(this,e)}toString(){return Bi(this._root)}}function Bd(n,t){t.value._routerState=n,t.children.forEach(e=>Bd(n,e))}function Bi(n){const t=n.children.length>0?` { ${n.children.map(Bi).join(", ")} } `:"";return`${n.value}${t}`}function $a(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Ai(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Ai(t.params,e.params)||n.params.next(e.params),function(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Ai(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Ai(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Kl(n,t){return Ai(n.params,t.params)&&function(n,t){return ta(n,t)&&n.every((e,s)=>Ai(e.parameters,t[s].parameters))}(n.url,t.url)&&!(!n.parent!=!t.parent)&&(!n.parent||Kl(n.parent,t.parent))}function Ql(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const s=e.value;s._futureSnapshot=t.value;const a=function(n,t,e){return t.children.map(s=>{for(const a of e.children)if(n.shouldReuseRoute(s.value,a.value.snapshot))return Ql(n,s,a);return Ql(n,s)})}(n,t,e);return new fo(s,a)}{if(n.shouldAttach(t.value)){const u=n.retrieve(t.value);if(null!==u){const h=u.route;return Pg(t,h),h}}const s=function(n){return new Yl(new kr(n.url),new kr(n.params),new kr(n.queryParams),new kr(n.fragment),new kr(n.data),n.outlet,n.component,n)}(t.value),a=t.children.map(u=>Ql(n,u));return new fo(s,a)}}function Pg(n,t){if(n.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(n.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=n.value;for(let e=0;e<n.children.length;++e)Pg(n.children[e],t.children[e])}function lu(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Di(n){return"object"==typeof n&&null!=n&&n.outlets}function Ng(n,t,e,s,a){let u={};return s&&tr(s,(h,_)=>{u[_]=Array.isArray(h)?h.map(C=>`${C}`):`${h}`}),new za(e.root===n?t:h0(e.root,n,t),u,a)}function h0(n,t,e){const s={};return tr(n.children,(a,u)=>{s[u]=a===t?e:h0(a,t,e)}),new Gt(n.segments,s)}class cu{constructor(t,e,s){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=s,t&&s.length>0&&lu(s[0]))throw new Error("Root segment cannot have matrix parameters");const a=s.find(Di);if(a&&a!==Xo(s))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class uu{constructor(t,e,s){this.segmentGroup=t,this.processChildren=e,this.index=s}}function du(n,t,e){if(n||(n=new Gt([],{})),0===n.segments.length&&n.hasChildren())return fu(n,t,e);const s=function(n,t,e){let s=0,a=t;const u={match:!1,pathIndex:0,commandIndex:0};for(;a<n.segments.length;){if(s>=e.length)return u;const h=n.segments[a],_=e[s];if(Di(_))break;const C=`${_}`,S=s<e.length-1?e[s+1]:null;if(a>0&&void 0===C)break;if(C&&S&&"object"==typeof S&&void 0===S.outlets){if(!Og(C,S,h))return u;s+=2}else{if(!Og(C,{},h))return u;s++}a++}return{match:!0,pathIndex:a,commandIndex:s}}(n,t,e),a=e.slice(s.commandIndex);if(s.match&&s.pathIndex<n.segments.length){const u=new Gt(n.segments.slice(0,s.pathIndex),{});return u.children[Dt]=new Gt(n.segments.slice(s.pathIndex),n.children),fu(u,0,a)}return s.match&&0===a.length?new Gt(n.segments,{}):s.match&&!n.hasChildren()?yh(n,t,e):s.match?fu(n,0,a):yh(n,t,e)}function fu(n,t,e){if(0===e.length)return new Gt(n.segments,{});{const s=function(n){return Di(n[0])?n[0].outlets:{[Dt]:n}}(e),a={};return tr(s,(u,h)=>{"string"==typeof u&&(u=[u]),null!==u&&(a[h]=du(n.children[h],t,u))}),tr(n.children,(u,h)=>{void 0===s[h]&&(a[h]=u)}),new Gt(n.segments,a)}}function yh(n,t,e){const s=n.segments.slice(0,t);let a=0;for(;a<e.length;){const u=e[a];if(Di(u)){const C=Bn(u.outlets);return new Gt(s,C)}if(0===a&&lu(e[0])){s.push(new nu(n.segments[t].path,vh(e[0]))),a++;continue}const h=Di(u)?u.outlets[Dt]:`${u}`,_=a<e.length-1?e[a+1]:null;h&&_&&lu(_)?(s.push(new nu(h,vh(_))),a+=2):(s.push(new nu(h,{})),a++)}return new Gt(s,{})}function Bn(n){const t={};return tr(n,(e,s)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[s]=yh(new Gt([],{}),0,e))}),t}function vh(n){const t={};return tr(n,(e,s)=>t[s]=`${e}`),t}function Og(n,t,e){return n==e.path&&Ai(t,e.parameters)}class Ch{constructor(t,e,s,a){this.routeReuseStrategy=t,this.futureState=e,this.currState=s,this.forwardEvent=a}activate(t){const e=this.futureState._root,s=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,s,t),$a(this.futureState.root),this.activateChildRoutes(e,s,t)}deactivateChildRoutes(t,e,s){const a=au(e);t.children.forEach(u=>{const h=u.value.outlet;this.deactivateRoutes(u,a[h],s),delete a[h]}),tr(a,(u,h)=>{this.deactivateRouteAndItsChildren(u,s)})}deactivateRoutes(t,e,s){const a=t.value,u=e?e.value:null;if(a===u)if(a.component){const h=s.getContext(a.outlet);h&&this.deactivateChildRoutes(t,e,h.children)}else this.deactivateChildRoutes(t,e,s);else u&&this.deactivateRouteAndItsChildren(e,s)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const s=e.getContext(t.value.outlet);if(s&&s.outlet){const a=s.outlet.detach(),u=s.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:a,route:t,contexts:u})}}deactivateRouteAndOutlet(t,e){const s=e.getContext(t.value.outlet),a=s&&t.value.component?s.children:e,u=au(t);for(const h of Object.keys(u))this.deactivateRouteAndItsChildren(u[h],a);s&&s.outlet&&(s.outlet.deactivate(),s.children.onOutletDeactivated(),s.attachRef=null,s.resolver=null,s.route=null)}activateChildRoutes(t,e,s){const a=au(e);t.children.forEach(u=>{this.activateRoutes(u,a[u.value.outlet],s),this.forwardEvent(new Ti(u.value.snapshot))}),t.children.length&&this.forwardEvent(new oo(t.value.snapshot))}activateRoutes(t,e,s){const a=t.value,u=e?e.value:null;if($a(a),a===u)if(a.component){const h=s.getOrCreateContext(a.outlet);this.activateChildRoutes(t,e,h.children)}else this.activateChildRoutes(t,e,s);else if(a.component){const h=s.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const _=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),h.children.onOutletReAttached(_.contexts),h.attachRef=_.componentRef,h.route=_.route.value,h.outlet&&h.outlet.attach(_.componentRef,_.route.value),zd(_.route)}else{const _=function(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(a.snapshot),C=_?_.module.componentFactoryResolver:null;h.attachRef=null,h.route=a,h.resolver=C,h.outlet&&h.outlet.activateWith(a,C),this.activateChildRoutes(t,null,h.children)}}else this.activateChildRoutes(t,null,s)}}function zd(n){$a(n.value),n.children.forEach(zd)}class Eh{constructor(t,e){this.routes=t,this.module=e}}function Ss(n){return"function"==typeof n}function Jl(n){return n instanceof za}const Xl=Symbol("INITIAL_VALUE");function Ga(){return $n(n=>function(...n){let t,e;return(0,eo.K)(n[n.length-1])&&(e=n.pop()),"function"==typeof n[n.length-1]&&(t=n.pop()),1===n.length&&(0,Nl.k)(n[0])&&(n=n[0]),(0,xl.n)(n,e).lift(new kl(t))}(n.map(t=>t.pipe(Yc(1),function(...n){const t=n[n.length-1];return(0,eo.K)(t)?(n.pop(),e=>to(n,e,t)):e=>to(n,e)}(Xl)))).pipe(Vl((t,e)=>{let s=!1;return e.reduce((a,u,h)=>a!==Xl?a:(u===Xl&&(s=!0),s||!1!==u&&h!==e.length-1&&!Jl(u)?a:u),t)},Xl),no(t=>t!==Xl),(0,Vt.U)(t=>Jl(t)?t:!0===t),Yc(1)))}let wr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,s){1&e&&d._UZ(0,"router-outlet")},directives:function(){return[Kd]},encapsulation:2}),n})();function ec(n,t=""){for(let e=0;e<n.length;e++){const s=n[e];Th(s,y0(t,s))}}function Th(n,t){n.children&&ec(n.children,t)}function y0(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function tc(n){const t=n.children&&n.children.map(tc),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Dt&&(e.component=wr),e}function Ri(n){return n.outlet||Dt}function Sh(n,t){const e=n.filter(s=>Ri(s)===t);return e.push(...n.filter(s=>Ri(s)!==t)),e}const Ah={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Hd(n,t,e){var s;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},Ah):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const u=(t.matcher||ja)(e,n,t);if(!u)return Object.assign({},Ah);const h={};tr(u.posParams,(C,S)=>{h[S]=C.path});const _=u.consumed.length>0?Object.assign(Object.assign({},h),u.consumed[u.consumed.length-1].parameters):h;return{matched:!0,consumedSegments:u.consumed,lastChild:u.consumed.length,parameters:_,positionalParamSegments:null!==(s=u.posParams)&&void 0!==s?s:{}}}function pu(n,t,e,s,a="corrected"){if(e.length>0&&function(n,t,e){return e.some(s=>Wa(n,t,s)&&Ri(s)!==Dt)}(n,e,s)){const h=new Gt(t,function(n,t,e,s){const a={};a[Dt]=s,s._sourceSegment=n,s._segmentIndexShift=t.length;for(const u of e)if(""===u.path&&Ri(u)!==Dt){const h=new Gt([],{});h._sourceSegment=n,h._segmentIndexShift=t.length,a[Ri(u)]=h}return a}(n,t,s,new Gt(e,n.children)));return h._sourceSegment=n,h._segmentIndexShift=t.length,{segmentGroup:h,slicedSegments:[]}}if(0===e.length&&function(n,t,e){return e.some(s=>Wa(n,t,s))}(n,e,s)){const h=new Gt(n.segments,function(n,t,e,s,a,u){const h={};for(const _ of s)if(Wa(n,e,_)&&!a[Ri(_)]){const C=new Gt([],{});C._sourceSegment=n,C._segmentIndexShift="legacy"===u?n.segments.length:t.length,h[Ri(_)]=C}return Object.assign(Object.assign({},a),h)}(n,t,e,s,n.children,a));return h._sourceSegment=n,h._segmentIndexShift=t.length,{segmentGroup:h,slicedSegments:e}}const u=new Gt(n.segments,n.children);return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:e}}function Wa(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function Rh(n,t,e,s){return!!(Ri(n)===s||s!==Dt&&Wa(t,e,n))&&("**"===n.path||Hd(t,n,e).matched)}function Gd(n,t,e){return 0===t.length&&!n.children[e]}class Vr{constructor(t){this.segmentGroup=t||null}}class qa{constructor(t){this.urlTree=t}}function ia(n){return new pr.y(t=>t.error(new Vr(n)))}function kg(n){return new pr.y(t=>t.error(new qa(n)))}function Mh(n){return new pr.y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class Fg{constructor(t,e,s,a,u){this.configLoader=e,this.urlSerializer=s,this.urlTree=a,this.config=u,this.allowRedirects=!0,this.ngModule=t.get(d.h0i)}apply(){const t=pu(this.urlTree.root,[],[],this.config).segmentGroup,e=new Gt(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Dt).pipe((0,Vt.U)(u=>this.createUrlTree(As(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ts(u=>{if(u instanceof qa)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof Vr?this.noMatchError(u):u}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Dt).pipe((0,Vt.U)(a=>this.createUrlTree(As(a),t.queryParams,t.fragment))).pipe(Ts(a=>{throw a instanceof Vr?this.noMatchError(a):a}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,s){const a=t.segments.length>0?new Gt([],{[Dt]:t}):t;return new za(a,e,s)}expandSegmentGroup(t,e,s,a){return 0===s.segments.length&&s.hasChildren()?this.expandChildren(t,e,s).pipe((0,Vt.U)(u=>new Gt([],u))):this.expandSegment(t,s,e,s.segments,a,!0)}expandChildren(t,e,s){const a=[];for(const u of Object.keys(s.children))"primary"===u?a.unshift(u):a.push(u);return(0,vn.D)(a).pipe(Qc(u=>{const h=s.children[u],_=Sh(e,u);return this.expandSegmentGroup(t,_,h,u).pipe((0,Vt.U)(C=>({segment:C,outlet:u})))}),Vl((u,h)=>(u[h.outlet]=h.segment,u),{}),function(n,t){const e=arguments.length>=2;return s=>s.pipe(n?no((a,u)=>n(a,u,s)):so.y,Nd(1),e?Jc(t):Ua(()=>new ui))}())}expandSegment(t,e,s,a,u,h){return(0,vn.D)(s).pipe(Qc(_=>this.expandSegmentAgainstRoute(t,e,s,_,a,u,h).pipe(Ts(S=>{if(S instanceof Vr)return(0,pt.of)(null);throw S}))),Jn(_=>!!_),Ts((_,C)=>{if(_ instanceof ui||"EmptyError"===_.name){if(Gd(e,a,u))return(0,pt.of)(new Gt([],{}));throw new Vr(e)}throw _}))}expandSegmentAgainstRoute(t,e,s,a,u,h,_){return Rh(a,e,u,h)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(t,e,a,u,h):_&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,s,a,u,h):ia(e):ia(e)}expandSegmentAgainstRouteUsingRedirect(t,e,s,a,u,h){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,s,a,h):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,s,a,u,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,s,a){const u=this.applyRedirectCommands([],s.redirectTo,{});return s.redirectTo.startsWith("/")?kg(u):this.lineralizeSegments(s,u).pipe((0,Vn.zg)(h=>{const _=new Gt(h,{});return this.expandSegment(t,_,e,h,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,s,a,u,h){const{matched:_,consumedSegments:C,lastChild:S,positionalParamSegments:k}=Hd(e,a,u);if(!_)return ia(e);const L=this.applyRedirectCommands(C,a.redirectTo,k);return a.redirectTo.startsWith("/")?kg(L):this.lineralizeSegments(a,L).pipe((0,Vn.zg)(Q=>this.expandSegment(t,e,s,Q.concat(u.slice(S)),h,!1)))}matchSegmentAgainstRoute(t,e,s,a,u){if("**"===s.path)return s.loadChildren?(s._loadedConfig?(0,pt.of)(s._loadedConfig):this.configLoader.load(t.injector,s)).pipe((0,Vt.U)(Q=>(s._loadedConfig=Q,new Gt(a,{})))):(0,pt.of)(new Gt(a,{}));const{matched:h,consumedSegments:_,lastChild:C}=Hd(e,s,a);if(!h)return ia(e);const S=a.slice(C);return this.getChildConfig(t,s,a).pipe((0,Vn.zg)(L=>{const Q=L.module,ye=L.routes,{segmentGroup:Ee,slicedSegments:Ve}=pu(e,_,S,ye),$e=new Gt(Ee.segments,Ee.children);if(0===Ve.length&&$e.hasChildren())return this.expandChildren(Q,ye,$e).pipe((0,Vt.U)(at=>new Gt(_,at)));if(0===ye.length&&0===Ve.length)return(0,pt.of)(new Gt(_,{}));const ft=Ri(s)===u;return this.expandSegment(Q,$e,ye,Ve,ft?Dt:u,!0).pipe((0,Vt.U)(_t=>new Gt(_.concat(_t.segments),_t.children)))}))}getChildConfig(t,e,s){return e.children?(0,pt.of)(new Eh(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?(0,pt.of)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,s).pipe((0,Vn.zg)(a=>{return a?this.configLoader.load(t.injector,e).pipe((0,Vt.U)(u=>(e._loadedConfig=u,u))):(n=e,new pr.y(t=>t.error(bg(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))));var n})):(0,pt.of)(new Eh([],t))}runCanLoadGuards(t,e,s){const a=e.canLoad;if(!a||0===a.length)return(0,pt.of)(!0);const u=a.map(h=>{const _=t.get(h);let C;if((n=_)&&Ss(n.canLoad))C=_.canLoad(e,s);else{if(!Ss(_))throw new Error("Invalid CanLoad guard");C=_(e,s)}var n;return sr(C)});return(0,pt.of)(u).pipe(Ga(),(0,Xn.b)(h=>{if(!Jl(h))return;const _=bg(`Redirecting to "${this.urlSerializer.serialize(h)}"`);throw _.url=h,_}),(0,Vt.U)(h=>!0===h))}lineralizeSegments(t,e){let s=[],a=e.root;for(;;){if(s=s.concat(a.segments),0===a.numberOfChildren)return(0,pt.of)(s);if(a.numberOfChildren>1||!a.children[Dt])return Mh(t.redirectTo);a=a.children[Dt]}}applyRedirectCommands(t,e,s){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,s)}applyRedirectCreatreUrlTree(t,e,s,a){const u=this.createSegmentGroup(t,e.root,s,a);return new za(u,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const s={};return tr(t,(a,u)=>{if("string"==typeof a&&a.startsWith(":")){const _=a.substring(1);s[u]=e[_]}else s[u]=a}),s}createSegmentGroup(t,e,s,a){const u=this.createSegments(t,e.segments,s,a);let h={};return tr(e.children,(_,C)=>{h[C]=this.createSegmentGroup(t,_,s,a)}),new Gt(u,h)}createSegments(t,e,s,a){return e.map(u=>u.path.startsWith(":")?this.findPosParam(t,u,a):this.findOrReturn(u,s))}findPosParam(t,e,s){const a=s[e.path.substring(1)];if(!a)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return a}findOrReturn(t,e){let s=0;for(const a of e){if(a.path===t.path)return e.splice(s),a;s++}return t}}function As(n){const t={};for(const s of Object.keys(n.children)){const u=As(n.children[s]);(u.segments.length>0||u.hasChildren())&&(t[s]=u)}return function(n){if(1===n.numberOfChildren&&n.children[Dt]){const t=n.children[Dt];return new Gt(n.segments.concat(t.segments),t.children)}return n}(new Gt(n.segments,t))}class gu{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Kr{constructor(t,e){this.component=t,this.route=e}}function Vg(n,t,e){const s=n._root;return nc(s,t?t._root:null,e,[s.value])}function Ir(n,t,e){const s=function(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(s?s.module.injector:e).get(n)}function nc(n,t,e,s,a={canDeactivateChecks:[],canActivateChecks:[]}){const u=au(t);return n.children.forEach(h=>{(function(n,t,e,s,a={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,h=t?t.value:null,_=e?e.getContext(n.value.outlet):null;if(h&&u.routeConfig===h.routeConfig){const C=function(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!ta(n.url,t.url);case"pathParamsOrQueryParamsChange":return!ta(n.url,t.url)||!Ai(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Kl(n,t)||!Ai(n.queryParams,t.queryParams);case"paramsChange":default:return!Kl(n,t)}}(h,u,u.routeConfig.runGuardsAndResolvers);C?a.canActivateChecks.push(new gu(s)):(u.data=h.data,u._resolvedData=h._resolvedData),nc(n,t,u.component?_?_.children:null:e,s,a),C&&_&&_.outlet&&_.outlet.isActivated&&a.canDeactivateChecks.push(new Kr(_.outlet.component,h))}else h&&po(t,_,a),a.canActivateChecks.push(new gu(s)),nc(n,null,u.component?_?_.children:null:e,s,a)})(h,u[h.value.outlet],e,s.concat([h.value]),a),delete u[h.value.outlet]}),tr(u,(h,_)=>po(h,e.getContext(_),a)),a}function po(n,t,e){const s=au(n),a=n.value;tr(s,(u,h)=>{po(u,a.component?t?t.children.getContext(h):null:t,e)}),e.canDeactivateChecks.push(new Kr(a.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,a))}class p{}function g(n){return new pr.y(t=>t.error(n))}class A{constructor(t,e,s,a,u,h){this.rootComponentType=t,this.config=e,this.urlTree=s,this.url=a,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=h}recognize(){const t=pu(this.urlTree.root,[],[],this.config.filter(h=>void 0===h.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Dt);if(null===e)return null;const s=new Ud([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Dt,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new fo(s,e),u=new na(this.url,a);return this.inheritParamsAndData(u._root),u}inheritParamsAndData(t){const e=t.value,s=Dg(e,this.paramsInheritanceStrategy);e.params=Object.freeze(s.params),e.data=Object.freeze(s.data),t.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(t,e,s){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,s)}processChildren(t,e){const s=[];for(const u of Object.keys(e.children)){const h=e.children[u],_=Sh(t,u),C=this.processSegmentGroup(_,h,u);if(null===C)return null;s.push(...C)}const a=Ze(s);return a.sort((t,e)=>t.value.outlet===Dt?-1:e.value.outlet===Dt?1:t.value.outlet.localeCompare(e.value.outlet)),a}processSegment(t,e,s,a){for(const u of t){const h=this.processSegmentAgainstRoute(u,e,s,a);if(null!==h)return h}return Gd(e,s,a)?[]:null}processSegmentAgainstRoute(t,e,s,a){if(t.redirectTo||!Rh(t,e,s,a))return null;let u,h=[],_=[];if("**"===t.path){const ye=s.length>0?Xo(s).parameters:{};u=new Ud(s,ye,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ut(t),Ri(t),t.component,t,ht(e),gt(e)+s.length,Gn(t))}else{const ye=Hd(e,t,s);if(!ye.matched)return null;h=ye.consumedSegments,_=s.slice(ye.lastChild),u=new Ud(h,ye.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ut(t),Ri(t),t.component,t,ht(e),gt(e)+h.length,Gn(t))}const C=(n=t).children?n.children:n.loadChildren?n._loadedConfig.routes:[],{segmentGroup:S,slicedSegments:k}=pu(e,h,_,C.filter(ye=>void 0===ye.redirectTo),this.relativeLinkResolution);var n;if(0===k.length&&S.hasChildren()){const ye=this.processChildren(C,S);return null===ye?null:[new fo(u,ye)]}if(0===C.length&&0===k.length)return[new fo(u,[])];const L=Ri(t)===a,Q=this.processSegment(C,S,k,L?Dt:a);return null===Q?null:[new fo(u,Q)]}}function De(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Ze(n){const t=[],e=new Set;for(const s of n){if(!De(s)){t.push(s);continue}const a=t.find(u=>s.value.routeConfig===u.value.routeConfig);void 0!==a?(a.children.push(...s.children),e.add(a)):t.push(s)}for(const s of e){const a=Ze(s.children);t.push(new fo(s.value,a))}return t.filter(s=>!e.has(s))}function ht(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function gt(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function Ut(n){return n.data||{}}function Gn(n){return n.resolve||{}}function _u(n){return $n(t=>{const e=n(t);return e?(0,vn.D)(e).pipe((0,Vt.U)(()=>t)):(0,pt.of)(t)})}class Ph extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const yu=new d.OlP("ROUTES");class Zd{constructor(t,e,s,a){this.loader=t,this.compiler=e,this.onLoadStartListener=s,this.onLoadEndListener=a}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const a=this.loadModuleFactory(e.loadChildren).pipe((0,Vt.U)(u=>{this.onLoadEndListener&&this.onLoadEndListener(e);const h=u.create(t);return new Eh(Cg(h.injector.get(yu,void 0,d.XFs.Self|d.XFs.Optional)).map(tc),h)}),Ts(u=>{throw e._loader$=void 0,u}));return e._loader$=new Rd.c(a,()=>new Hn.xQ).pipe((0,Jo.x)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?(0,vn.D)(this.loader.load(t)):sr(t()).pipe((0,Vn.zg)(e=>e instanceof d.YKP?(0,pt.of)(e):(0,vn.D)(this.compiler.compileModuleAsync(e))))}}class Yd{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new oa,this.attachRef=null}}class oa{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const s=this.getOrCreateContext(t);s.outlet=e,this.contexts.set(t,s)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Yd,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Tb{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function gv(n){throw n}function mv(n,t,e){return t.parse("/")}function rc(n,t){return(0,pt.of)(null)}const _v={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},yv={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Tr=(()=>{class n{constructor(e,s,a,u,h,_,C,S){this.rootComponentType=e,this.urlSerializer=s,this.rootContexts=a,this.location=u,this.config=S,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Hn.xQ,this.errorHandler=gv,this.malformedUriErrorHandler=mv,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:rc,afterPreactivation:rc},this.urlHandlingStrategy=new Tb,this.routeReuseStrategy=new Ph,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=h.get(d.h0i),this.console=h.get(d.c2e);const Q=h.get(d.R0b);this.isNgZoneEnabled=Q instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(S),this.currentUrlTree=new za(new Gt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Zd(_,C,ye=>this.triggerEvent(new Lr(ye)),ye=>this.triggerEvent(new er(ye))),this.routerState=Ag(this.currentUrlTree,this.rootComponentType),this.transitions=new kr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const s=this.events;return e.pipe(no(a=>0!==a.id),(0,Vt.U)(a=>Object.assign(Object.assign({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),$n(a=>{let u=!1,h=!1;return(0,pt.of)(a).pipe((0,Xn.b)(_=>{this.currentNavigation={id:_.id,initialUrl:_.currentRawUrl,extractedUrl:_.extractedUrl,trigger:_.source,extras:_.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),$n(_=>{const C=this.browserUrlTree.toString(),S=!this.navigated||_.extractedUrl.toString()!==C||C!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||S)&&this.urlHandlingStrategy.shouldProcessUrl(_.rawUrl))return Zg(_.source)&&(this.browserUrlTree=_.extractedUrl),(0,pt.of)(_).pipe($n(L=>{const Q=this.transitions.getValue();return s.next(new X(L.id,this.serializeUrl(L.extractedUrl),L.source,L.restoredState)),Q!==this.transitions.getValue()?Fr.E:Promise.resolve(L)}),function(n,t,e,s){return $n(a=>function(n,t,e,s,a){return new Fg(n,t,e,s,a).apply()}(n,t,e,a.extractedUrl,s).pipe((0,Vt.U)(u=>Object.assign(Object.assign({},a),{urlAfterRedirects:u}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Xn.b)(L=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:L.urlAfterRedirects})}),function(n,t,e,s,a){return(0,Vn.zg)(u=>function(n,t,e,s,a="emptyOnly",u="legacy"){try{const h=new A(n,t,e,s,a,u).recognize();return null===h?g(new p):(0,pt.of)(h)}catch(h){return g(h)}}(n,t,u.urlAfterRedirects,e(u.urlAfterRedirects),s,a).pipe((0,Vt.U)(h=>Object.assign(Object.assign({},u),{targetSnapshot:h}))))}(this.rootComponentType,this.config,L=>this.serializeUrl(L),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Xn.b)(L=>{"eager"===this.urlUpdateStrategy&&(L.extras.skipLocationChange||this.setBrowserUrl(L.urlAfterRedirects,L),this.browserUrlTree=L.urlAfterRedirects);const Q=new ot(L.id,this.serializeUrl(L.extractedUrl),this.serializeUrl(L.urlAfterRedirects),L.targetSnapshot);s.next(Q)}));if(S&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Q,extractedUrl:ye,source:Ee,restoredState:Ve,extras:$e}=_,ft=new X(Q,this.serializeUrl(ye),Ee,Ve);s.next(ft);const ut=Ag(ye,this.rootComponentType).snapshot;return(0,pt.of)(Object.assign(Object.assign({},_),{targetSnapshot:ut,urlAfterRedirects:ye,extras:Object.assign(Object.assign({},$e),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=_.rawUrl,this.browserUrlTree=_.urlAfterRedirects,_.resolve(null),Fr.E}),_u(_=>{const{targetSnapshot:C,id:S,extractedUrl:k,rawUrl:L,extras:{skipLocationChange:Q,replaceUrl:ye}}=_;return this.hooks.beforePreactivation(C,{navigationId:S,appliedUrlTree:k,rawUrlTree:L,skipLocationChange:!!Q,replaceUrl:!!ye})}),(0,Xn.b)(_=>{const C=new dt(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(C)}),(0,Vt.U)(_=>Object.assign(Object.assign({},_),{guards:Vg(_.targetSnapshot,_.currentSnapshot,this.rootContexts)})),function(n,t){return(0,Vn.zg)(e=>{const{targetSnapshot:s,currentSnapshot:a,guards:{canActivateChecks:u,canDeactivateChecks:h}}=e;return 0===h.length&&0===u.length?(0,pt.of)(Object.assign(Object.assign({},e),{guardsResult:!0})):function(n,t,e,s){return(0,vn.D)(n).pipe((0,Vn.zg)(a=>function(n,t,e,s,a){const u=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!u||0===u.length)return(0,pt.of)(!0);const h=u.map(_=>{const C=Ir(_,t,a);let S;if(function(n){return n&&Ss(n.canDeactivate)}(C))S=sr(C.canDeactivate(n,t,e,s));else{if(!Ss(C))throw new Error("Invalid CanDeactivate guard");S=sr(C(n,t,e,s))}return S.pipe(Jn())});return(0,pt.of)(h).pipe(Ga())}(a.component,a.route,e,t,s)),Jn(a=>!0!==a,!0))}(h,s,a,n).pipe((0,Vn.zg)(_=>_&&function(n){return"boolean"==typeof n}(_)?function(n,t,e,s){return(0,vn.D)(t).pipe(Qc(a=>to(function(n,t){return null!==n&&t&&t(new Bl(n)),(0,pt.of)(!0)}(a.route.parent,s),function(n,t){return null!==n&&t&&t(new jl(n)),(0,pt.of)(!0)}(a.route,s),function(n,t,e){const s=t[t.length-1],u=t.slice(0,t.length-1).reverse().map(h=>function(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(h)).filter(h=>null!==h).map(h=>Ii(()=>{const _=h.guards.map(C=>{const S=Ir(C,h.node,e);let k;if(function(n){return n&&Ss(n.canActivateChild)}(S))k=sr(S.canActivateChild(s,n));else{if(!Ss(S))throw new Error("Invalid CanActivateChild guard");k=sr(S(s,n))}return k.pipe(Jn())});return(0,pt.of)(_).pipe(Ga())}));return(0,pt.of)(u).pipe(Ga())}(n,a.path,e),function(n,t,e){const s=t.routeConfig?t.routeConfig.canActivate:null;if(!s||0===s.length)return(0,pt.of)(!0);const a=s.map(u=>Ii(()=>{const h=Ir(u,t,e);let _;if(function(n){return n&&Ss(n.canActivate)}(h))_=sr(h.canActivate(t,n));else{if(!Ss(h))throw new Error("Invalid CanActivate guard");_=sr(h(t,n))}return _.pipe(Jn())}));return(0,pt.of)(a).pipe(Ga())}(n,a.route,e))),Jn(a=>!0!==a,!0))}(s,u,n,t):(0,pt.of)(_)),(0,Vt.U)(_=>Object.assign(Object.assign({},e),{guardsResult:_})))})}(this.ngModule.injector,_=>this.triggerEvent(_)),(0,Xn.b)(_=>{if(Jl(_.guardsResult)){const S=bg(`Redirecting to "${this.serializeUrl(_.guardsResult)}"`);throw S.url=_.guardsResult,S}const C=new Zt(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot,!!_.guardsResult);this.triggerEvent(C)}),no(_=>!!_.guardsResult||(this.restoreHistory(_),this.cancelNavigationTransition(_,""),!1)),_u(_=>{if(_.guards.canActivateChecks.length)return(0,pt.of)(_).pipe((0,Xn.b)(C=>{const S=new dn(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(C.urlAfterRedirects),C.targetSnapshot);this.triggerEvent(S)}),$n(C=>{let S=!1;return(0,pt.of)(C).pipe(function(n,t){return(0,Vn.zg)(e=>{const{targetSnapshot:s,guards:{canActivateChecks:a}}=e;if(!a.length)return(0,pt.of)(e);let u=0;return(0,vn.D)(a).pipe(Qc(h=>function(n,t,e,s){return function(n,t,e,s){const a=Object.keys(n);if(0===a.length)return(0,pt.of)({});const u={};return(0,vn.D)(a).pipe((0,Vn.zg)(h=>function(n,t,e,s){const a=Ir(n,t,s);return sr(a.resolve?a.resolve(t,e):a(t,e))}(n[h],t,e,s).pipe((0,Xn.b)(_=>{u[h]=_}))),Nd(1),(0,Vn.zg)(()=>Object.keys(u).length===a.length?(0,pt.of)(u):Fr.E))}(n._resolve,n,t,s).pipe((0,Vt.U)(u=>(n._resolvedData=u,n.data=Object.assign(Object.assign({},n.data),Dg(n,e).resolve),null)))}(h.route,s,n,t)),(0,Xn.b)(()=>u++),Nd(1),(0,Vn.zg)(h=>u===a.length?(0,pt.of)(e):Fr.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Xn.b)({next:()=>S=!0,complete:()=>{S||(this.restoreHistory(C),this.cancelNavigationTransition(C,"At least one route resolver didn't emit any value."))}}))}),(0,Xn.b)(C=>{const S=new Un(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(C.urlAfterRedirects),C.targetSnapshot);this.triggerEvent(S)}))}),_u(_=>{const{targetSnapshot:C,id:S,extractedUrl:k,rawUrl:L,extras:{skipLocationChange:Q,replaceUrl:ye}}=_;return this.hooks.afterPreactivation(C,{navigationId:S,appliedUrlTree:k,rawUrlTree:L,skipLocationChange:!!Q,replaceUrl:!!ye})}),(0,Vt.U)(_=>{const C=function(n,t,e){const s=Ql(n,t._root,e?e._root:void 0);return new Vd(s,t)}(this.routeReuseStrategy,_.targetSnapshot,_.currentRouterState);return Object.assign(Object.assign({},_),{targetRouterState:C})}),(0,Xn.b)(_=>{this.currentUrlTree=_.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(_.urlAfterRedirects,_.rawUrl),this.routerState=_.targetRouterState,"deferred"===this.urlUpdateStrategy&&(_.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,_),this.browserUrlTree=_.urlAfterRedirects)}),((n,t,e)=>(0,Vt.U)(s=>(new Ch(t,s.targetRouterState,s.currentRouterState,e).activate(n),s)))(this.rootContexts,this.routeReuseStrategy,_=>this.triggerEvent(_)),(0,Xn.b)({next(){u=!0},complete(){u=!0}}),eu(()=>{var _;if(!u&&!h){const C=`Navigation ID ${a.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(a),this.cancelNavigationTransition(a,C)):this.cancelNavigationTransition(a,C)}(null===(_=this.currentNavigation)||void 0===_?void 0:_.id)===a.id&&(this.currentNavigation=null)}),Ts(_=>{if(h=!0,function(n){return n&&n[zl]}(_)){const C=Jl(_.url);C||(this.navigated=!0,this.restoreHistory(a,!0));const S=new Re(a.id,this.serializeUrl(a.extractedUrl),_.message);s.next(S),C?setTimeout(()=>{const k=this.urlHandlingStrategy.merge(_.url,this.rawUrlTree),L={skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Zg(a.source)};this.scheduleNavigation(k,"imperative",null,L,{resolve:a.resolve,reject:a.reject,promise:a.promise})},0):a.resolve(!1)}else{this.restoreHistory(a,!0);const C=new Ge(a.id,this.serializeUrl(a.extractedUrl),_);s.next(C);try{a.resolve(this.errorHandler(_))}catch(S){a.reject(S)}}return Fr.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const s=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,s)&&setTimeout(()=>{const{source:a,state:u,urlTree:h}=s,_={replaceUrl:!0};if(u){const C=Object.assign({},u);delete C.navigationId,delete C.\u0275routerPageId,0!==Object.keys(C).length&&(_.state=C)}this.scheduleNavigation(h,a,u,_)},0),this.lastLocationChangeInfo=s}))}extractLocationChangeInfoFromEvent(e){var s;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(s=e.state)||void 0===s?void 0:s.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,s){if(!e)return!0;const a=s.urlTree.toString()===e.urlTree.toString();return s.transitionId!==e.transitionId||!a||!("hashchange"===s.source&&"popstate"===e.source||"popstate"===s.source&&"hashchange"===e.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){ec(e),this.config=e.map(tc),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,s={}){const{relativeTo:a,queryParams:u,fragment:h,queryParamsHandling:_,preserveFragment:C}=s,S=a||this.routerState.root,k=C?this.currentUrlTree.fragment:h;let L=null;switch(_){case"merge":L=Object.assign(Object.assign({},this.currentUrlTree.queryParams),u);break;case"preserve":L=this.currentUrlTree.queryParams;break;default:L=u||null}return null!==L&&(L=this.removeEmptyProps(L)),function(n,t,e,s,a){if(0===e.length)return Ng(t.root,t.root,t,s,a);const u=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new cu(!0,0,n);let t=0,e=!1;const s=n.reduce((a,u,h)=>{if("object"==typeof u&&null!=u){if(u.outlets){const _={};return tr(u.outlets,(C,S)=>{_[S]="string"==typeof C?C.split("/"):C}),[...a,{outlets:_}]}if(u.segmentPath)return[...a,u.segmentPath]}return"string"!=typeof u?[...a,u]:0===h?(u.split("/").forEach((_,C)=>{0==C&&"."===_||(0==C&&""===_?e=!0:".."===_?t++:""!=_&&a.push(_))}),a):[...a,u]},[]);return new cu(e,t,s)}(e);if(u.toRoot())return Ng(t.root,new Gt([],{}),t,s,a);const h=function(n,t,e){if(n.isAbsolute)return new uu(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const u=e.snapshot._urlSegment;return new uu(u,u===t.root,0)}const s=lu(n.commands[0])?0:1;return function(n,t,e){let s=n,a=t,u=e;for(;u>a;){if(u-=a,s=s.parent,!s)throw new Error("Invalid number of '../'");a=s.segments.length}return new uu(s,!1,a-u)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+s,n.numberOfDoubleDots)}(u,t,n),_=h.processChildren?fu(h.segmentGroup,h.index,u.commands):du(h.segmentGroup,h.index,u.commands);return Ng(h.segmentGroup,_,t,s,a)}(S,this.currentUrlTree,e,L,null!=k?k:null)}navigateByUrl(e,s={skipLocationChange:!1}){const a=Jl(e)?e:this.parseUrl(e),u=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,s)}navigate(e,s={skipLocationChange:!1}){return function(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,s),s)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let s;try{s=this.urlSerializer.parse(e)}catch(a){s=this.malformedUriErrorHandler(a,this.urlSerializer,e)}return s}isActive(e,s){let a;if(a=!0===s?Object.assign({},_v):!1===s?Object.assign({},yv):s,Jl(e))return tu(this.currentUrlTree,e,a);const u=this.parseUrl(e);return tu(this.currentUrlTree,u,a)}removeEmptyProps(e){return Object.keys(e).reduce((s,a)=>{const u=e[a];return null!=u&&(s[a]=u),s},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new be(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,s,a,u,h){var _,C;if(this.disposed)return Promise.resolve(!1);const S=this.getTransition(),k=Zg(s)&&S&&!Zg(S.source),ye=(this.lastSuccessfulId===S.id||this.currentNavigation?S.rawUrl:S.urlAfterRedirects).toString()===e.toString();if(k&&ye)return Promise.resolve(!0);let Ee,Ve,$e;h?(Ee=h.resolve,Ve=h.reject,$e=h.promise):$e=new Promise((_t,at)=>{Ee=_t,Ve=at});const ft=++this.navigationId;let ut;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(a=this.location.getState()),ut=a&&a.\u0275routerPageId?a.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?null!==(_=this.browserPageId)&&void 0!==_?_:0:(null!==(C=this.browserPageId)&&void 0!==C?C:0)+1):ut=0,this.setTransition({id:ft,targetPageId:ut,source:s,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:u,resolve:Ee,reject:Ve,promise:$e,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),$e.catch(_t=>Promise.reject(_t))}setBrowserUrl(e,s){const a=this.urlSerializer.serialize(e),u=Object.assign(Object.assign({},s.extras.state),this.generateNgRouterState(s.id,s.targetPageId));this.location.isCurrentPathEqualTo(a)||s.extras.replaceUrl?this.location.replaceState(a,"",u):this.location.go(a,"",u)}restoreHistory(e,s=!1){var a,u;if("computed"===this.canceledNavigationResolution){const h=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)||0===h?this.currentUrlTree===(null===(u=this.currentNavigation)||void 0===u?void 0:u.finalUrl)&&0===h&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(h)}else"replace"===this.canceledNavigationResolution&&(s&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,s){const a=new Re(e.id,this.serializeUrl(e.extractedUrl),s);this.triggerEvent(a),e.resolve(!1)}generateNgRouterState(e,s){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:s}:{navigationId:e}}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(d.DyG),d.LFG(hh),d.LFG(oa),d.LFG(Be),d.LFG(d.zs3),d.LFG(d.v3s),d.LFG(d.Sil),d.LFG(void 0))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function Zg(n){return"imperative"!==n}let Yg=(()=>{class n{constructor(e,s,a,u,h){this.router=e,this.route=s,this.commands=[],this.onChanges=new Hn.xQ,null==a&&u.setAttribute(h.nativeElement,"tabindex","0")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}onClick(){const e={skipLocationChange:vu(this.skipLocationChange),replaceUrl:vu(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:vu(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(Tr),d.Y36(Yl),d.$8M("tabindex"),d.Y36(d.Qsj),d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,s){1&e&&d.NdJ("click",function(){return s.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[d.TTD]}),n})(),Nh=(()=>{class n{constructor(e,s,a){this.router=e,this.route=s,this.locationStrategy=a,this.commands=[],this.onChanges=new Hn.xQ,this.subscription=e.events.subscribe(u=>{u instanceof be&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,s,a,u,h){if(0!==e||s||a||u||h||"string"==typeof this.target&&"_self"!=this.target)return!0;const _={skipLocationChange:vu(this.skipLocationChange),replaceUrl:vu(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,_),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:vu(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(Tr),d.Y36(Yl),d.Y36(re))},n.\u0275dir=d.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,s){1&e&&d.NdJ("click",function(u){return s.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&e&&(d.Ikx("href",s.href,d.LSH),d.uIk("target",s.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[d.TTD]}),n})();function vu(n){return""===n||!!n}let Kg=(()=>{class n{constructor(e,s,a,u,h,_){this.router=e,this.element=s,this.renderer=a,this.cdr=u,this.link=h,this.linkWithHref=_,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=e.events.subscribe(C=>{C instanceof be&&this.update()})}ngAfterContentInit(){(0,pt.of)(this.links.changes,this.linksWithHrefs.changes,(0,pt.of)(null)).pipe((0,rs.J)()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var e;null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe();const s=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(a=>!!a).map(a=>a.onChanges);this.linkInputChangesSubscription=(0,vn.D)(s).pipe((0,rs.J)()).subscribe(a=>{this.isActive!==this.isLinkActive(this.router)(a)&&this.update()})}set routerLinkActive(e){const s=Array.isArray(e)?e:e.split(" ");this.classes=s.filter(a=>!!a)}ngOnChanges(e){this.update()}ngOnDestroy(){var e;this.routerEventsSubscription.unsubscribe(),null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(s=>{e?this.renderer.addClass(this.element.nativeElement,s):this.renderer.removeClass(this.element.nativeElement,s)}))})}isLinkActive(e){const s=function(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return a=>e.isActive(a.urlTree,s)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(Tr),d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(d.sBO),d.Y36(Yg,8),d.Y36(Nh,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(e,s,a){if(1&e&&(d.Suo(a,Yg,5),d.Suo(a,Nh,5)),2&e){let u;d.iGM(u=d.CRH())&&(s.links=u),d.iGM(u=d.CRH())&&(s.linksWithHrefs=u)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[d.TTD]}),n})(),Kd=(()=>{class n{constructor(e,s,a,u,h){this.parentContexts=e,this.location=s,this.resolver=a,this.changeDetector=h,this.activated=null,this._activatedRoute=null,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.name=u||Dt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,s){this.activated=e,this._activatedRoute=s,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,s){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const h=(s=s||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),_=this.parentContexts.getOrCreateContext(this.name).children,C=new Qg(e,_,this.location.injector);this.activated=this.location.createComponent(h,this.location.length,C),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(oa),d.Y36(d.s_b),d.Y36(d._Vd),d.$8M("name"),d.Y36(d.sBO))},n.\u0275dir=d.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class Qg{constructor(t,e,s){this.route=t,this.childContexts=e,this.parent=s}get(t,e){return t===Yl?this.route:t===oa?this.childContexts:this.parent.get(t,e)}}class E0{}class I0{preload(t,e){return(0,pt.of)(null)}}let Jg=(()=>{class n{constructor(e,s,a,u,h){this.router=e,this.injector=u,this.preloadingStrategy=h,this.loader=new Zd(s,a,S=>e.triggerEvent(new Lr(S)),S=>e.triggerEvent(new er(S)))}setUpPreloading(){this.subscription=this.router.events.pipe(no(e=>e instanceof be),Qc(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(d.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,s){const a=[];for(const u of s)if(u.loadChildren&&!u.canLoad&&u._loadedConfig){const h=u._loadedConfig;a.push(this.processRoutes(h.module,h.routes))}else u.loadChildren&&!u.canLoad?a.push(this.preloadConfig(e,u)):u.children&&a.push(this.processRoutes(e,u.children));return(0,vn.D)(a).pipe((0,rs.J)(),(0,Vt.U)(u=>{}))}preloadConfig(e,s){return this.preloadingStrategy.preload(s,()=>(s._loadedConfig?(0,pt.of)(s._loadedConfig):this.loader.load(e.injector,s)).pipe((0,Vn.zg)(u=>(s._loadedConfig=u,this.processRoutes(u.module,u.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(Tr),d.LFG(d.v3s),d.LFG(d.Sil),d.LFG(d.zs3),d.LFG(E0))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),bu=(()=>{class n{constructor(e,s,a={}){this.router=e,this.viewportScroller=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof X?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof be&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Si&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,s){this.router.triggerEvent(new Si(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,s))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(Tr),d.LFG(Ta),d.LFG(void 0))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const ic=new d.OlP("ROUTER_CONFIGURATION"),bv=new d.OlP("ROUTER_FORROOT_GUARD"),Cv=[Be,{provide:hh,useClass:Gl},{provide:Tr,useFactory:function(n,t,e,s,a,u,h,_={},C,S){const k=new Tr(null,n,t,e,s,a,u,Cg(h));return C&&(k.urlHandlingStrategy=C),S&&(k.routeReuseStrategy=S),function(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy)}(_,k),_.enableTracing&&k.events.subscribe(L=>{var Q,ye;null===(Q=console.group)||void 0===Q||Q.call(console,`Router Event: ${L.constructor.name}`),console.log(L.toString()),console.log(L),null===(ye=console.groupEnd)||void 0===ye||ye.call(console)}),k},deps:[hh,oa,Be,d.zs3,d.v3s,d.Sil,yu,ic,[class{},new d.FiY],[class{},new d.FiY]]},oa,{provide:Yl,useFactory:function(n){return n.routerState.root},deps:[Tr]},{provide:d.v3s,useClass:d.EAV},Jg,I0,class{preload(t,e){return e().pipe(Ts(()=>(0,pt.of)(null)))}},{provide:ic,useValue:{enableTracing:!1}}];function T0(){return new d.PXZ("Router",Tr)}let S0=(()=>{class n{constructor(e,s){}static forRoot(e,s){return{ngModule:n,providers:[Cv,A0(e),{provide:bv,useFactory:Ab,deps:[[Tr,new d.FiY,new d.tp0]]},{provide:ic,useValue:s||{}},{provide:re,useFactory:Ev,deps:[$,[new d.tBr(_e),new d.FiY],ic]},{provide:bu,useFactory:MI,deps:[Tr,Ta,ic]},{provide:E0,useExisting:s&&s.preloadingStrategy?s.preloadingStrategy:I0},{provide:d.PXZ,multi:!0,useFactory:T0},[D0,{provide:d.ip1,multi:!0,useFactory:wv,deps:[D0]},{provide:Iv,useFactory:Mb,deps:[D0]},{provide:d.tb,multi:!0,useExisting:Iv}]]}}static forChild(e){return{ngModule:n,providers:[A0(e)]}}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(bv,8),d.LFG(Tr,8))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();function MI(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new bu(n,t,e)}function Ev(n,t,e={}){return e.useHash?new Pe(n,t):new Te(n,t)}function Ab(n){return"guarded"}function A0(n){return[{provide:d.deG,multi:!0,useValue:n},{provide:yu,multi:!0,useValue:n}]}let D0=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Hn.xQ}appInitializer(){return this.injector.get(P,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let s=null;const a=new Promise(_=>s=_),u=this.injector.get(Tr),h=this.injector.get(ic);return"disabled"===h.initialNavigation?(u.setUpLocationChangeListener(),s(!0)):"enabled"===h.initialNavigation||"enabledBlocking"===h.initialNavigation?(u.hooks.afterPreactivation=()=>this.initNavigation?(0,pt.of)(null):(this.initNavigation=!0,s(!0),this.resultOfPreactivationDone),u.initialNavigation()):s(!0),a})}bootstrapListener(e){const s=this.injector.get(ic),a=this.injector.get(Jg),u=this.injector.get(bu),h=this.injector.get(Tr),_=this.injector.get(d.z2F);e===_.components[0]&&(("enabledNonBlocking"===s.initialNavigation||void 0===s.initialNavigation)&&h.initialNavigation(),a.setUpPreloading(),u.init(),h.resetRootComponentType(_.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(d.zs3))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function wv(n){return n.appInitializer.bind(n)}function Mb(n){return n.bootstrapListener.bind(n)}const Iv=new d.OlP("Router Initializer");var R0=F(4022),M0=F(6682),Oh=F(309),Nb=F(7771),kt=F(8858);class Tv extends Hn.xQ{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,s){super(),this.scheduler=s,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new Sv(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,s=e?this._events:this._trimBufferThenGetEvents(),a=this.scheduler,u=s.length;let h;if(this.closed)throw new Zc.N;if(this.isStopped||this.hasError?h=Xc.w.EMPTY:(this.observers.push(t),h=new kt.W(this,t)),a&&t.add(t=new Oh.ht(t,a)),e)for(let _=0;_<u&&!t.closed;_++)t.next(s[_]);else for(let _=0;_<u&&!t.closed;_++)t.next(s[_].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),h}_getNow(){return(this.scheduler||Nb.c).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,s=this._windowTime,a=this._events,u=a.length;let h=0;for(;h<u&&!(t-a[h].time<s);)h++;return u>e&&(h=Math.max(h,u-e)),h>0&&a.splice(0,h),a}}class Sv{constructor(t,e){this.time=t,this.value=e}}function xh(n,t,e){let s;return s=n&&"object"==typeof n?n:{bufferSize:n,windowTime:t,refCount:!1,scheduler:e},a=>a.lift(function({bufferSize:n=Number.POSITIVE_INFINITY,windowTime:t=Number.POSITIVE_INFINITY,refCount:e,scheduler:s}){let a,h,u=0,_=!1,C=!1;return function(k){let L;u++,!a||_?(_=!1,a=new Tv(n,t,s),L=a.subscribe(this),h=k.subscribe({next(Q){a.next(Q)},error(Q){_=!0,a.error(Q)},complete(){C=!0,h=void 0,a.complete()}}),C&&(h=void 0)):L=a.subscribe(this),this.add(()=>{u--,L.unsubscribe(),L=void 0,h&&!C&&e&&0===u&&(h.unsubscribe(),h=void 0,a=void 0)})}}(s))}function P0(n,t){return t?$n(()=>n,t):$n(()=>n)}var N0=F(3101),or=F(7473),Wn=F(8939);F(2329);var zi=F(8239),os=F(8026),oc=F(3910),Y=F(3854),F0=F(5422);const Fb=new Map,xI={activated:!1,tokenObservers:[]},kI={initialized:!1,enabled:!1};function Mi(n){return Fb.get(n)||xI}function aa(n,t){Fb.set(n,t)}function L0(){return kI}class Pv{constructor(t,e,s,a,u){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=s,this.lowerBound=a,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=a,a>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,zi.Z)(function*(){e.stop();try{e.pending=new Y.BH,yield(n=e.getNextRun(t),new Promise(t=>{setTimeout(t,n)})),e.pending.resolve(),yield e.pending.promise,e.pending=new Y.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(s){e.retryPolicy(s)?e.process(!1).catch(()=>{}):e.stop()}var n})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Hi=new Y.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error."});function Ya(n){if(!Mi(n).activated)throw Hi.create("use-before-activation",{appName:n.name})}function B0(n,t){return xv.apply(this,arguments)}function xv(){return(xv=(0,zi.Z)(function*({url:n,body:t},e){const s={"Content-Type":"application/json"},a=e.getImmediate({optional:!0});a&&(s["X-Firebase-Client"]=a.getPlatformInfoString());const u={method:"POST",body:JSON.stringify(t),headers:s};let h,_;try{h=yield fetch(n,u)}catch(L){throw Hi.create("fetch-network-error",{originalErrorMessage:L.message})}if(200!==h.status)throw Hi.create("fetch-status-error",{httpStatus:h.status});try{_=yield h.json()}catch(L){throw Hi.create("fetch-parse-error",{originalErrorMessage:L.message})}const C=_.ttl.match(/^([\d.]+)(s)$/);if(!C||!C[2]||isNaN(Number(C[1])))throw Hi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${_.ttl}`});const S=1e3*Number(C[1]),k=Date.now();return{token:_.attestationToken,expireTimeMillis:k+S,issuedAtTimeMillis:k}})).apply(this,arguments)}function kv(n,t){const{projectId:e,appId:s,apiKey:a}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${e}/apps/${s}:exchangeDebugToken?key=${a}`,body:{debug_token:t}}}const Ka="firebase-app-check-store";let Qd=null;function Eu(){return Qd||(Qd=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=s=>{n(s.target.result)},e.onerror=s=>{var a;t(Hi.create("storage-open",{originalErrorMessage:null===(a=s.target.error)||void 0===a?void 0:a.message}))},e.onupgradeneeded=s=>{const a=s.target.result;switch(s.oldVersion){case 0:a.createObjectStore(Ka,{keyPath:"compositeKey"})}}}catch(e){t(Hi.create("storage-open",{originalErrorMessage:e.message}))}}),Qd)}function Lh(){return(Lh=(0,zi.Z)(function*(n,t){const s=(yield Eu()).transaction(Ka,"readwrite"),u=s.objectStore(Ka).put({compositeKey:n,value:t});return new Promise((h,_)=>{u.onsuccess=C=>{h()},s.onerror=C=>{var S;_(Hi.create("storage-set",{originalErrorMessage:null===(S=C.target.error)||void 0===S?void 0:S.message}))}})})).apply(this,arguments)}const im=new F0.Yd("@firebase/app-check");function H0(n,t){return(0,Y.hl)()?function(n,t){return function(n,t){return Lh.apply(this,arguments)}(function(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{im.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function G0(){return L0().enabled}function Bv(){return W0.apply(this,arguments)}function W0(){return(W0=(0,zi.Z)(function*(){const n=L0();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const jb={error:"UNKNOWN_ERROR"};function zb(n){return Y.US.encodeString(JSON.stringify(n),!1)}function q0(n){return jv.apply(this,arguments)}function jv(){return(jv=(0,zi.Z)(function*(n,t=!1){const e=n.app;Ya(e);const s=Mi(e);let u,h,a=s.token;if(!a){const _=yield s.cachedTokenPromise;_&&Xd(_)&&(a=_,aa(e,Object.assign(Object.assign({},s),{token:a})),sm(e,{token:a.token}))}if(!t&&a&&Xd(a))return{token:a.token};if(G0()){const _=yield B0(kv(e,yield Bv()),n.platformLoggerProvider);return yield H0(e,_),aa(e,Object.assign(Object.assign({},s),{token:_})),{token:_.token}}try{a=yield s.provider.getToken()}catch(_){im.error(_),u=_}return a?(h={token:a.token},aa(e,Object.assign(Object.assign({},s),{token:a})),yield H0(e,a)):h=$b(u),sm(e,h),h})).apply(this,arguments)}function zv(n,t){const e=Mi(n),s=e.tokenObservers.filter(a=>a.next!==t);0===s.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),aa(n,Object.assign(Object.assign({},e),{tokenObservers:s}))}function sm(n,t){const e=Mi(n).tokenObservers;for(const s of e)try{"EXTERNAL"===s.type&&null!=t.error?s.error(t.error):s.next(t)}catch(a){}}function Xd(n){return n.expireTimeMillis-Date.now()>0}function $b(n){return{token:zb(jb),error:n}}class Gb{constructor(t,e){this.app=t,this.platformLoggerProvider=e}_delete(){const{tokenObservers:t}=Mi(this.app);for(const e of t)zv(this.app,e.next);return Promise.resolve()}}const lm="app-check-internal";(0,os._registerComponent)(new oc.wA("app-check",n=>function(n,t){return new Gb(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(lm).initialize()})),(0,os._registerComponent)(new oc.wA(lm,n=>function(n){return{getToken:t=>q0(n,t),addTokenListener:t=>function(n,t,e,s){const{app:a}=n,u=Mi(a),h={next:e,error:s,type:t},_=Object.assign(Object.assign({},u),{tokenObservers:[...u.tokenObservers,h]});if(!_.tokenRefresher){const C=function(n){const{app:t}=n;return new Pv((0,zi.Z)(function*(){let s;if(s=Mi(t).token?yield q0(n,!0):yield q0(n),s.error)throw s.error}),()=>!0,()=>{const e=Mi(t);if(e.token){let s=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return s=Math.min(s,e.token.expireTimeMillis-3e5),Math.max(0,s-Date.now())}return 0},3e4,96e4)}(n);_.tokenRefresher=C}if(!_.tokenRefresher.isRunning()&&u.isTokenAutoRefreshEnabled&&_.tokenRefresher.start(),u.token&&Xd(u.token)){const C=u.token;Promise.resolve().then(()=>e({token:C.token})).catch(()=>{})}else null==u.token&&u.cachedTokenPromise.then(C=>{C&&Xd(C)&&e({token:C.token})}).catch(()=>{});aa(a,_)}(n,"INTERNAL",t),removeTokenListener:t=>zv(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,os.registerVersion)("@firebase/app-check","0.5.1");class ef{constructor(){return(0,or.vb)("app-check")}}"undefined"!=typeof window&&window;var wu=F(7841);const um=new d.OlP("angularfire2.auth.use-emulator"),t2=new d.OlP("angularfire2.auth.settings"),r4=new d.OlP("angularfire2.auth.tenant-id"),n2=new d.OlP("angularfire2.auth.langugage-code"),i4=new d.OlP("angularfire2.auth.use-device-language"),dm=new d.OlP("angularfire.auth.persistence"),s4=(n,t,e,s,a,u,h,_)=>(0,Wn.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const C=t.runOutsideAngular(()=>n.auth());if(e&&C.useEmulator(...e),s&&(C.tenantId=s),C.languageCode=a,u&&C.useDeviceLanguage(),h)for(const[S,k]of Object.entries(h))C.settings[S]=k;return _&&C.setPersistence(_),C},[e,s,a,u,h,_]);let jh=(()=>{class n{constructor(e,s,a,u,h,_,C,S,k,L,Q,ye){const Ee=new Hn.xQ,Ve=(0,pt.of)(void 0).pipe((0,Oh.QV)(h.outsideAngular),$n(()=>u.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,941)))),(0,Vt.U)(()=>(0,Wn.on)(e,u,s)),(0,Vt.U)($e=>s4($e,u,_,S,k,L,C,Q)),xh({bufferSize:1,refCount:!1}));if(function(n){return"server"===n}(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,pt.of)(null);else{Ve.pipe(Jn()).subscribe();const ft=Ve.pipe($n(at=>at.getRedirectResult().then(_n=>_n,()=>null)),or.iC,xh({bufferSize:1,refCount:!1})),ut=Ve.pipe($n(at=>new pr.y(_n=>({unsubscribe:u.runOutsideAngular(()=>at.onAuthStateChanged(fn=>_n.next(fn),fn=>_n.error(fn),()=>_n.complete()))})))),_t=Ve.pipe($n(at=>new pr.y(_n=>({unsubscribe:u.runOutsideAngular(()=>at.onIdTokenChanged(fn=>_n.next(fn),fn=>_n.error(fn),()=>_n.complete()))}))));this.authState=ft.pipe(P0(ut),(0,N0.R)(h.outsideAngular),(0,Oh.QV)(h.insideAngular)),this.user=ft.pipe(P0(_t),(0,N0.R)(h.outsideAngular),(0,Oh.QV)(h.insideAngular)),this.idToken=this.user.pipe($n(at=>at?(0,vn.D)(at.getIdToken()):(0,pt.of)(null))),this.idTokenResult=this.user.pipe($n(at=>at?(0,vn.D)(at.getIdTokenResult()):(0,pt.of)(null))),this.credential=(0,M0.T)(ft,Ee,this.authState.pipe(no(at=>!at))).pipe((0,Vt.U)(at=>(null==at?void 0:at.user)?at:null),(0,N0.R)(h.outsideAngular),(0,Oh.QV)(h.insideAngular))}return(0,Wn.pX)(this,Ve,u,{spy:{apply:($e,ft,ut)=>{($e.startsWith("signIn")||$e.startsWith("createUser"))&&ut.then(_t=>Ee.next(_t))}}})}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(Wn.Dh),d.LFG(Wn.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(or.HU),d.LFG(um,8),d.LFG(t2,8),d.LFG(r4,8),d.LFG(n2,8),d.LFG(i4,8),d.LFG(dm,8),d.LFG(ef,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),o4=(()=>{class n{constructor(){wu.Z.registerVersion("angularfire",or.q4.full,"auth-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[jh]}),n})();const cc=(0,Vt.U)(n=>!!n);let tf=(()=>{class n{constructor(e,s){this.router=e,this.auth=s,this.canActivate=(a,u)=>{const h=a.data.authGuardPipe||(()=>cc);return this.auth.user.pipe(Yc(1),h(a,u),(0,Vt.U)(_=>"boolean"==typeof _?_:Array.isArray(_)?this.router.createUrlTree(_):this.router.parseUrl(_)))}}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(Tr),d.LFG(jh))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();var r2=F(7454);const Mn={quality:.2,width:800,height:600,autoRotate:!0};var nf,qI=new Uint8Array(16);function Qa(){if(!nf&&!(nf="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return nf(qI)}const s2=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,ZI=function(n){return"string"==typeof n&&s2.test(n)};for(var Qr=[],a2=0;a2<256;++a2)Qr.push((a2+256).toString(16).substr(1));const u4=function(n,t,e){var s=(n=n||{}).random||(n.rng||Qa)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t){e=e||0;for(var a=0;a<16;++a)t[e+a]=s[a];return t}return function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=(Qr[n[t+0]]+Qr[n[t+1]]+Qr[n[t+2]]+Qr[n[t+3]]+"-"+Qr[n[t+4]]+Qr[n[t+5]]+"-"+Qr[n[t+6]]+Qr[n[t+7]]+"-"+Qr[n[t+8]]+Qr[n[t+9]]+"-"+Qr[n[t+10]]+Qr[n[t+11]]+Qr[n[t+12]]+Qr[n[t+13]]+Qr[n[t+14]]+Qr[n[t+15]]).toLowerCase();if(!ZI(e))throw TypeError("Stringified UUID is invalid");return e}(s)};var d4=F(3637),sC=F(8819);class l2{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new f4(t,this.compare,this.keySelector))}}class f4 extends bn.L{constructor(t,e,s){super(t),this.keySelector=s,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:a}=this;e=a?a(t):t}catch(a){return this.destination.error(a)}let s=!1;if(this.hasKey)try{const{compare:a}=this;s=a(this.key,e)}catch(a){return this.destination.error(a)}else this.hasKey=!0;s||(this.key=e,this.destination.next(t))}}class p4{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new g4(t,this.observables,this.project))}}class g4 extends Ol{constructor(t,e,s){super(t),this.observables=e,this.project=s,this.toRespond=[];const a=e.length;this.values=new Array(a);for(let u=0;u<a;u++)this.toRespond.push(u);for(let u=0;u<a;u++)this.add(Fn(this,e[u],void 0,u))}notifyNext(t,e,s){this.values[s]=e;const a=this.toRespond;if(a.length>0){const u=a.indexOf(s);-1!==u&&a.splice(u,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(s){return void this.destination.error(s)}this.destination.next(e)}}class aC{constructor(t){this.predicate=t}call(t,e){return e.subscribe(new lC(t,this.predicate))}}class lC extends bn.L{constructor(t,e){super(t),this.predicate=e,this.skipping=!0,this.index=0}_next(t){const e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)}tryCallPredicate(t){try{const e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(e){this.destination.error(e)}}}F(941);var c2=F(3394);const cC="@firebase/database";let d2="";function m4(n){d2=n}class KI{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,Y.Pz)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,Y.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class QI{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,Y.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const fm=function(n){try{if("undefined"!=typeof window&&void 0!==window[n]){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new KI(t)}}catch(t){}return new QI},Iu=fm("localStorage"),hm=fm("sessionStorage"),Tu=new F0.Yd("@firebase/database"),uC=function(){let n=1;return function(){return n++}}(),Ds=function(n){const t=(0,Y.dS)(n),e=new Y.gQ;e.update(t);const s=e.digest();return Y.US.encodeByteArray(s)},pm=function(...n){let t="";for(let e=0;e<n.length;e++){const s=n[e];Array.isArray(s)||s&&"object"==typeof s&&"number"==typeof s.length?t+=pm.apply(null,s):t+="object"==typeof s?(0,Y.Pz)(s):s,t+=" "}return t};let rf=null,dC=!0;const f2=function(n,t){(0,Y.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Tu.logLevel=F0.in.VERBOSE,rf=Tu.log.bind(Tu),t&&hm.set("logging_enabled",!0)):"function"==typeof n?rf=n:(rf=null,hm.remove("logging_enabled"))},Sr=function(...n){if(!0===dC&&(dC=!1,null===rf&&!0===hm.get("logging_enabled")&&f2(!0)),rf){const t=pm.apply(null,n);rf(t)}},sf=function(n){return function(...t){Sr(n,...t)}},h2=function(...n){const t="FIREBASE INTERNAL ERROR: "+pm(...n);Tu.error(t)},Ja=function(...n){const t=`FIREBASE FATAL ERROR: ${pm(...n)}`;throw Tu.error(t),new Error(t)},fi=function(...n){const t="FIREBASE WARNING: "+pm(...n);Tu.warn(t)},gm=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Xa="[MIN_NAME]",la="[MAX_NAME]",Su=function(n,t){if(n===t)return 0;if(n===Xa||t===la)return-1;if(t===Xa||n===la)return 1;{const e=uc(n),s=uc(t);return null!==e?null!==s?e-s==0?n.length-t.length:e-s:-1:null!==s?1:n<t?-1:1}},fC=function(n,t){return n===t?0:n<t?-1:1},$h=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,Y.Pz)(t))},m2=function(n){if("object"!=typeof n||null===n)return(0,Y.Pz)(n);const t=[];for(const s in n)t.push(s);t.sort();let e="{";for(let s=0;s<t.length;s++)0!==s&&(e+=","),e+=(0,Y.Pz)(t[s]),e+=":",e+=m2(n[t[s]]);return e+="}",e},Gh=function(n,t){const e=n.length;if(e<=t)return[n];const s=[];for(let a=0;a<e;a+=t)s.push(n.substring(a,a+t>e?e:a+t));return s};function qn(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const _2=function(n){(0,Y.hu)(!gm(n),"Invalid JSON number");const s=1023;let a,u,h,_,C;0===n?(u=0,h=0,a=1/n==-1/0?1:0):(a=n<0,(n=Math.abs(n))>=Math.pow(2,1-s)?(_=Math.min(Math.floor(Math.log(n)/Math.LN2),s),u=_+s,h=Math.round(n*Math.pow(2,52-_)-Math.pow(2,52))):(u=0,h=Math.round(n/Math.pow(2,-1074))));const S=[];for(C=52;C;C-=1)S.push(h%2?1:0),h=Math.floor(h/2);for(C=11;C;C-=1)S.push(u%2?1:0),u=Math.floor(u/2);S.push(a?1:0),S.reverse();const k=S.join("");let L="";for(C=0;C<64;C+=8){let Q=parseInt(k.substr(C,8),2).toString(16);1===Q.length&&(Q="0"+Q),L+=Q}return L.toLowerCase()},pC=new RegExp("^-?(0*)\\d{1,10}$"),mm=-2147483648,Rs=2147483647,uc=function(n){if(pC.test(n)){const t=Number(n);if(t>=mm&&t<=Rs)return t}return null},ar=function(n){try{n()}catch(t){setTimeout(()=>{throw fi("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},dc=function(n,t){const e=setTimeout(n,t);return"object"==typeof e&&e.unref&&e.unref(),e};class Ms{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(s=>this.appCheck=s)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,s)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,s):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(s=>s.addTokenListener(t))}notifyForInvalidToken(){fi(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class y2{constructor(t,e,s){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(a=>this.auth_=a)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(Sr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,s)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,s):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',fi(t)}}let ca=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const Nu=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,v2="websocket",b2="long_polling";class ym{constructor(t,e,s,a,u=!1,h="",_=!1){this.secure=e,this.namespace=s,this.webSocketOnly=a,this.nodeAdmin=u,this.persistenceKey=h,this.includeNamespaceInQueryParams=_,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Iu.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Iu.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function C2(n,t,e){let s;if((0,Y.hu)("string"==typeof t,"typeof type must == string"),(0,Y.hu)("object"==typeof e,"typeof params must == object"),t===v2)s=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==b2)throw new Error("Unknown connection type: "+t);s=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const a=[];return qn(e,(u,h)=>{a.push(u+"="+h)}),s+a.join("&")}class y4{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,Y.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,Y.p$)(this.counters_)}}const vm={},bm={};function E2(n){const t=n.toString();return vm[t]||(vm[t]=new y4),vm[t]}class gC{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let a=0;a<s.length;++a)s[a]&&ar(()=>{this.onMessage_(s[a])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class qh{constructor(t,e,s,a,u,h,_){this.connId=t,this.repoInfo=e,this.applicationId=s,this.appCheckToken=a,this.authToken=u,this.transportSessionId=h,this.lastSessionId=_,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=sf(t),this.stats_=E2(e),this.urlFn=C=>(this.appCheckToken&&(C.ac=this.appCheckToken),C2(e,b2,C))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new gC(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,Y.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new S2((...u)=>{const[h,_,C,S,k]=u;if(this.incrementIncomingBytes_(u),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===h)this.id=_,this.password=C;else{if("close"!==h)throw new Error("Unrecognized command received: "+h);_?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(_,()=>{this.onClosed_()})):this.onClosed_()}},(...u)=>{const[h,_]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(h,_)},()=>{this.onClosed_()},this.urlFn);const s={start:"t"};s.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(s.cb=this.scriptTagHolder.uniqueCallbackIdentifier),s.v="5",this.transportSessionId&&(s.s=this.transportSessionId),this.lastSessionId&&(s.ls=this.lastSessionId),this.applicationId&&(s.p=this.applicationId),this.appCheckToken&&(s.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&Nu.test(location.hostname)&&(s.r="f");const a=this.urlFn(s);this.log_("Connecting via long-poll to "+a),this.scriptTagHolder.addTag(a,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){qh.forceAllow_=!0}static forceDisallow(){qh.forceDisallow_=!0}static isAvailable(){return!((0,Y.Yr)()||!qh.forceAllow_&&(qh.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,Y.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const s=(0,Y.h$)(e),a=Gh(s,1840);for(let u=0;u<a.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,a.length,a[u]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,Y.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const s={dframe:"t"};s.id=t,s.pw=e,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,Y.Pz)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class S2{constructor(t,e,s,a){if(this.onDisconnect=s,this.urlFn=a,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,Y.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=uC(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=S2.createIFrame_();let u="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(u='<script>document.domain="'+document.domain+'";<\/script>');const h="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(_){Sr("frame writing exception"),_.stack&&Sr(_.stack),Sr(_)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Sr("No IE domain setting required")}catch(e){const s=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),s="",a=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+s.length<=1870;){const h=this.pendingSegs.shift();s=s+"&seg"+a+"="+h.seg+"&ts"+a+"="+h.ts+"&d"+a+"="+h.d,a++}return e+=s,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,s){this.pendingSegs.push({seg:t,ts:e,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const s=()=>{this.outstandingRequests.delete(e),this.newRequest_()},a=setTimeout(s,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(a),s()})}addTag(t,e){(0,Y.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=t,s.onload=s.onreadystatechange=function(){const a=s.readyState;(!a||"loaded"===a||"complete"===a)&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),e())},s.onerror=()=>{Sr("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch(s){}},Math.floor(1))}}let xu=null;"undefined"!=typeof MozWebSocket?xu=MozWebSocket:"undefined"!=typeof WebSocket&&(xu=WebSocket);let Zh=(()=>{class n{constructor(e,s,a,u,h,_,C){this.connId=e,this.applicationId=a,this.appCheckToken=u,this.authToken=h,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=sf(this.connId),this.stats_=E2(s),this.connURL=n.connectionURL_(s,_,C,u),this.nodeAdmin=s.nodeAdmin}static connectionURL_(e,s,a,u){const h={v:"5"};return!(0,Y.Yr)()&&"undefined"!=typeof location&&location.hostname&&Nu.test(location.hostname)&&(h.r="f"),s&&(h.s=s),a&&(h.ls=a),u&&(h.ac=u),C2(e,v2,h)}open(e,s){this.onDisconnect=s,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Iu.set("previous_websocket_failure",!0);try{if((0,Y.Yr)()){const u={headers:{"User-Agent":`Firebase/5/${d2}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(u.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(u.headers["X-Firebase-AppCheck"]=this.appCheckToken);const h=process.env,_=0===this.connURL.indexOf("wss://")?h.HTTPS_PROXY||h.https_proxy:h.HTTP_PROXY||h.http_proxy;_&&(u.proxy={origin:_}),this.mySock=new xu(this.connURL,[],u)}else this.mySock=new xu(this.connURL,[],{headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(a){this.log_("Error instantiating WebSocket.");const u=a.message||a.data;return u&&this.log_(u),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=a=>{this.handleIncomingFrame(a)},this.mySock.onerror=a=>{this.log_("WebSocket error.  Closing connection.");const u=a.message||a.data;u&&this.log_(u),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const a=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);a&&a.length>1&&parseFloat(a[1])<4.4&&(e=!0)}return!e&&null!==xu&&!n.forceDisallow_}static previouslyFailed(){return Iu.isInMemoryStorage||!0===Iu.get("previous_websocket_failure")}markConnectionHealthy(){Iu.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const s=this.frames.join("");this.frames=null;const a=(0,Y.cI)(s);this.onMessage(a)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,Y.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const s=Number(e);if(!isNaN(s))return this.handleNewFrameCount_(s),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const s=e.data;if(this.bytesReceived+=s.length,this.stats_.incrementCounter("bytes_received",s.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(s);else{const a=this.extractFrameCount_(s);null!==a&&this.appendFrame_(a)}}send(e){this.resetKeepAlive();const s=(0,Y.Pz)(e);this.bytesSent+=s.length,this.stats_.incrementCounter("bytes_sent",s.length);const a=Gh(s,16384);a.length>1&&this.sendString_(String(a.length));for(let u=0;u<a.length;u++)this.sendString_(a[u])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(s){this.log_("Exception thrown from WebSocket.send():",s.message||s.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})();class I4{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[qh,Zh]}initTransports_(t){const e=Zh&&Zh.isAvailable();let s=e&&!Zh.previouslyFailed();if(t.webSocketOnly&&(e||fi("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[Zh];else{const a=this.transports_=[];for(const u of I4.ALL_TRANSPORTS)u&&u.isAvailable()&&a.push(u)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}class O4{constructor(t,e,s,a,u,h,_,C,S,k){this.id=t,this.repoInfo_=e,this.applicationId_=s,this.appCheckToken_=a,this.authToken_=u,this.onMessage_=h,this.onReady_=_,this.onDisconnect_=C,this.onKill_=S,this.lastSessionId=k,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=sf("c:"+this.id+":"),this.transportManager_=new I4(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,s)},Math.floor(0));const a=t.healthyTimeout||0;a>0&&(this.healthyTimeout_=dc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(a)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=$h("t",t),s=$h("d",t);if("c"===e)this.onSecondaryControl_(s);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(s)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=$h("t",t),s=$h("d",t);"c"===e?this.onControl_(s):"d"===e&&this.onDataMessage_(s)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=$h("t",t);if("d"in t){const s=t.d;if("h"===e)this.onHandshake_(s);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(s):"r"===e?this.onReset_(s):"e"===e?h2("Server Error: "+s):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):h2("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,s=t.v,a=t.h;this.sessionId=t.s,this.repoInfo_.host=a,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==s&&fi("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,s),dc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):dc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Iu.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class x4{put(t,e,s,a){}merge(t,e,s,a){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,s){}onDisconnectMerge(t,e,s){}onDisconnectCancel(t,e){}reportStats(t){}}class k4{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,Y.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const s=[...this.listeners_[t]];for(let a=0;a<s.length;a++)s[a].callback.apply(s[a].context,e)}}on(t,e,s){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:s});const a=this.getInitialEvent(t);a&&e.apply(s,a)}off(t,e,s){this.validateEventType_(t);const a=this.listeners_[t]||[];for(let u=0;u<a.length;u++)if(a[u].callback===e&&(!s||s===a[u].context))return void a.splice(u,1)}validateEventType_(t){(0,Y.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class Cm extends k4{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,Y.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Cm}getInitialEvent(t){return(0,Y.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class mn{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let s=0;for(let a=0;a<this.pieces_.length;a++)this.pieces_[a].length>0&&(this.pieces_[s]=this.pieces_[a],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function on(){return new mn("")}function Yt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function ua(n){return n.pieces_.length-n.pieceNum_}function Sn(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new mn(n.pieces_,t)}function Kh(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Em(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function cf(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new mn(t,0)}function jn(n,t){const e=[];for(let s=n.pieceNum_;s<n.pieces_.length;s++)e.push(n.pieces_[s]);if(t instanceof mn)for(let s=t.pieceNum_;s<t.pieces_.length;s++)e.push(t.pieces_[s]);else{const s=t.split("/");for(let a=0;a<s.length;a++)s[a].length>0&&e.push(s[a])}return new mn(e,0)}function Wt(n){return n.pieceNum_>=n.pieces_.length}function Jr(n,t){const e=Yt(n),s=Yt(t);if(null===e)return t;if(e===s)return Jr(Sn(n),Sn(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function TC(n,t){const e=Em(n,0),s=Em(t,0);for(let a=0;a<e.length&&a<s.length;a++){const u=Su(e[a],s[a]);if(0!==u)return u}return e.length===s.length?0:e.length<s.length?-1:1}function Qh(n,t){if(ua(n)!==ua(t))return!1;for(let e=n.pieceNum_,s=t.pieceNum_;e<=n.pieces_.length;e++,s++)if(n.pieces_[e]!==t.pieces_[s])return!1;return!0}function $i(n,t){let e=n.pieceNum_,s=t.pieceNum_;if(ua(n)>ua(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[s])return!1;++e,++s}return!0}class L4{constructor(t,e){this.errorPrefix_=e,this.parts_=Em(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=(0,Y.ug)(this.parts_[s]);wm(this)}}function wm(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+tl(n))}function tl(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class M2 extends k4{constructor(){let t,e;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",t="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const s=!document[t];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}static getInstance(){return new M2}getInitialEvent(t){return(0,Y.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const uf=1e3;let Tm,fc=(()=>{class n extends x4{constructor(e,s,a,u,h,_,C,S){if(super(),this.repoInfo_=e,this.applicationId_=s,this.onDataUpdate_=a,this.onConnectStatus_=u,this.onServerInfoUpdate_=h,this.authTokenProvider_=_,this.appCheckTokenProvider_=C,this.authOverride_=S,this.id=n.nextPersistentConnectionId_++,this.log_=sf("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=uf,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,S&&!(0,Y.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");M2.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Cm.getInstance().on("online",this.onOnline_,this)}sendRequest(e,s,a){const u=++this.requestNumber_,h={r:u,a:e,b:s};this.log_((0,Y.Pz)(h)),(0,Y.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(h),a&&(this.requestCBHash_[u]=a)}get(e){this.initConnection_();const s=new Y.BH,a={p:e._path.toString(),q:e._queryObject},u={action:"g",request:a,onComplete:_=>{const C=_.d;"ok"===_.s?(this.onDataUpdate_(a.p,C,!1,null),s.resolve(C)):s.reject(C)}};this.outstandingGets_.push(u),this.outstandingGetCount_++;const h=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const _=this.outstandingGets_[h];void 0===_||u!==_||(delete this.outstandingGets_[h],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+h+" timed out on connection"),s.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(h),s.promise}listen(e,s,a,u){this.initConnection_();const h=e._queryIdentifier,_=e._path.toString();this.log_("Listen called for "+_+" "+h),this.listens.has(_)||this.listens.set(_,new Map),(0,Y.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,Y.hu)(!this.listens.get(_).has(h),"listen() called twice for same path/queryId.");const C={onComplete:u,hashFn:s,query:e,tag:a};this.listens.get(_).set(h,C),this.connected_&&this.sendListen_(C)}sendGet_(e){const s=this.outstandingGets_[e];this.sendRequest("g",s.request,a=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),s.onComplete&&s.onComplete(a)})}sendListen_(e){const s=e.query,a=s._path.toString(),u=s._queryIdentifier;this.log_("Listen on "+a+" for "+u);const h={p:a};e.tag&&(h.q=s._queryObject,h.t=e.tag),h.h=e.hashFn(),this.sendRequest("q",h,C=>{const S=C.d,k=C.s;n.warnOnListenWarnings_(S,s),(this.listens.get(a)&&this.listens.get(a).get(u))===e&&(this.log_("listen response",C),"ok"!==k&&this.removeListen_(a,u),e.onComplete&&e.onComplete(k,S))})}static warnOnListenWarnings_(e,s){if(e&&"object"==typeof e&&(0,Y.r3)(e,"w")){const a=(0,Y.DV)(e,"w");if(Array.isArray(a)&&~a.indexOf("no_index")){const u='".indexOn": "'+s._queryParams.getIndex().toString()+'"',h=s._path.toString();fi(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${u} at ${h} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,Y.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,s=(0,Y.w9)(e)?"auth":"gauth",a={cred:e};null===this.authOverride_?a.noauth=!0:"object"==typeof this.authOverride_&&(a.authvar=this.authOverride_),this.sendRequest(s,a,u=>{const h=u.s,_=u.d||"error";this.authToken_===e&&("ok"===h?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(h,_))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const s=e.s,a=e.d||"error";"ok"===s?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(s,a)})}unlisten(e,s){const a=e._path.toString(),u=e._queryIdentifier;this.log_("Unlisten called for "+a+" "+u),(0,Y.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(a,u)&&this.connected_&&this.sendUnlisten_(a,u,e._queryObject,s)}sendUnlisten_(e,s,a,u){this.log_("Unlisten on "+e+" for "+s);const h={p:e};u&&(h.q=a,h.t=u),this.sendRequest("n",h)}onDisconnectPut(e,s,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,s,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:s,onComplete:a})}onDisconnectMerge(e,s,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,s,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:s,onComplete:a})}onDisconnectCancel(e,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:s})}sendOnDisconnect_(e,s,a,u){const h={p:s,d:a};this.log_("onDisconnect "+e,h),this.sendRequest(e,h,_=>{u&&setTimeout(()=>{u(_.s,_.d)},Math.floor(0))})}put(e,s,a,u){this.putInternal("p",e,s,a,u)}merge(e,s,a,u){this.putInternal("m",e,s,a,u)}putInternal(e,s,a,u,h){this.initConnection_();const _={p:s,d:a};void 0!==h&&(_.h=h),this.outstandingPuts_.push({action:e,request:_,onComplete:u}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+s)}sendPut_(e){const s=this.outstandingPuts_[e].action,a=this.outstandingPuts_[e].request,u=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(s,a,h=>{this.log_(s+" response",h),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),u&&u(h.s,h.d)})}reportStats(e){if(this.connected_){const s={c:e};this.log_("reportStats",s),this.sendRequest("s",s,a=>{"ok"!==a.s&&this.log_("reportStats","Error sending stats: "+a.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,Y.Pz)(e));const s=e.r,a=this.requestCBHash_[s];a&&(delete this.requestCBHash_[s],a(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,s){this.log_("handleServerMessage",e,s),"d"===e?this.onDataUpdate_(s.p,s.d,!1,s.t):"m"===e?this.onDataUpdate_(s.p,s.d,!0,s.t):"c"===e?this.onListenRevoked_(s.p,s.q):"ac"===e?this.onAuthRevoked_(s.s,s.d):"apc"===e?this.onAppCheckRevoked_(s.s,s.d):"sd"===e?this.onSecurityDebugPacket_(s):h2("Unrecognized action received from server: "+(0,Y.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,s){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=s,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,Y.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=uf,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=uf,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=uf),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let s=Math.max(0,this.reconnectDelay_-e);s=Math.random()*s,this.log_("Trying to reconnect in "+s+"ms"),this.scheduleConnect_(s),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,zi.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const s=e.onDataMessage_.bind(e),a=e.onReady_.bind(e),u=e.onRealtimeDisconnect_.bind(e),h=e.id+":"+n.nextConnectionId_++,_=e.lastSessionId;let C=!1,S=null;const k=function(){S?S.close():(C=!0,u())};e.realtime_={close:k,sendRequest:function(ye){(0,Y.hu)(S,"sendRequest call when we're not connected not allowed."),S.sendRequest(ye)}};const Q=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[ye,Ee]=yield Promise.all([e.authTokenProvider_.getToken(Q),e.appCheckTokenProvider_.getToken(Q)]);C?Sr("getToken() completed but was canceled"):(Sr("getToken() completed. Creating connection."),e.authToken_=ye&&ye.accessToken,e.appCheckToken_=Ee&&Ee.token,S=new O4(h,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,s,a,u,Ve=>{fi(Ve+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},_))}catch(ye){e.log_("Failed to get token: "+ye),C||(e.repoInfo_.nodeAdmin&&fi(ye),k())}}})()}interrupt(e){Sr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Sr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,Y.xb)(this.interruptReasons_)&&(this.reconnectDelay_=uf,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const s=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:s})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const s=this.outstandingPuts_[e];s&&"h"in s.request&&s.queued&&(s.onComplete&&s.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,s){let a;a=s?s.map(h=>m2(h)).join("$"):"default";const u=this.removeListen_(e,a);u&&u.onComplete&&u.onComplete("permission_denied")}removeListen_(e,s){const a=new mn(e).toString();let u;if(this.listens.has(a)){const h=this.listens.get(a);u=h.get(s),h.delete(s),0===h.size&&this.listens.delete(a)}else u=void 0;return u}onAuthRevoked_(e,s){Sr("Auth token revoked: "+e+"/"+s),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,s){Sr("App check token revoked: "+e+"/"+s),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const s of e.values())this.sendListen_(s);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let s="js";(0,Y.Yr)()&&(s=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+s+"."+d2.replace(/\./g,"-")]=1,(0,Y.uI)()?e["framework.cordova"]=1:(0,Y.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Cm.getInstance().currentlyOnline();return(0,Y.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Kt{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new Kt(t,e)}}class Jh{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const s=new Kt(Xa,t),a=new Kt(Xa,e);return 0!==this.compare(s,a)}minPost(){return Kt.MIN}}class x2 extends Jh{static get __EMPTY_NODE(){return Tm}static set __EMPTY_NODE(t){Tm=t}compare(t,e){return Su(t.name,e.name)}isDefinedOn(t){throw(0,Y.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return Kt.MIN}maxPost(){return new Kt(la,Tm)}makePost(t,e){return(0,Y.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Kt(t,Tm)}toString(){return".key"}}const bo=new x2;class Xh{constructor(t,e,s,a,u=null){this.isReverse_=a,this.resultGenerator_=u,this.nodeStack_=[];let h=1;for(;!t.isEmpty();)if(t=t,h=e?s(t.key,e):1,a&&(h*=-1),h<0)t=this.isReverse_?t.left:t.right;else{if(0===h){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let Am,ls=(()=>{class n{constructor(e,s,a,u,h){this.key=e,this.value=s,this.color=null!=a?a:n.RED,this.left=null!=u?u:Pi.EMPTY_NODE,this.right=null!=h?h:Pi.EMPTY_NODE}copy(e,s,a,u,h){return new n(null!=e?e:this.key,null!=s?s:this.value,null!=a?a:this.color,null!=u?u:this.left,null!=h?h:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,s,a){let u=this;const h=a(e,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(e,s,a),null):0===h?u.copy(null,s,null,null,null):u.copy(null,null,null,null,u.right.insert(e,s,a)),u.fixUp_()}removeMin_(){if(this.left.isEmpty())return Pi.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,s){let a,u;if(a=this,s(e,a.key)<0)!a.left.isEmpty()&&!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.remove(e,s),null);else{if(a.left.isRed_()&&(a=a.rotateRight_()),!a.right.isEmpty()&&!a.right.isRed_()&&!a.right.left.isRed_()&&(a=a.moveRedRight_()),0===s(e,a.key)){if(a.right.isEmpty())return Pi.EMPTY_NODE;u=a.right.min_(),a=a.copy(u.key,u.value,null,null,a.right.removeMin_())}a=a.copy(null,null,null,null,a.right.remove(e,s))}return a.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,s)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Pi{constructor(t,e=Pi.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Pi(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,ls.BLACK,null,null))}remove(t){return new Pi(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,ls.BLACK,null,null))}get(t){let e,s=this.root_;for(;!s.isEmpty();){if(e=this.comparator_(t,s.key),0===e)return s.value;e<0?s=s.left:e>0&&(s=s.right)}return null}getPredecessorKey(t){let e,s=this.root_,a=null;for(;!s.isEmpty();){if(e=this.comparator_(t,s.key),0===e){if(s.left.isEmpty())return a?a.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}e<0?s=s.left:e>0&&(a=s,s=s.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Xh(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new Xh(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new Xh(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new Xh(this.root_,null,this.comparator_,!0,t)}}function j4(n,t){return Su(n.name,t.name)}function Sm(n,t){return Su(n,t)}Pi.EMPTY_NODE=new class{copy(t,e,s,a,u){return this}insert(t,e,s){return new ls(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const k2=function(n){return"number"==typeof n?"number:"+_2(n):"string:"+n},F2=function(n){if(n.isLeafNode()){const t=n.val();(0,Y.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,Y.r3)(t,".sv"),"Priority must be a string or number.")}else(0,Y.hu)(n===Am||n.isEmpty(),"priority of unexpected type.");(0,Y.hu)(n===Am||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let DC,H4,L2,df=(()=>{class n{constructor(e,s=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=s,this.lazyHash_=null,(0,Y.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),F2(this.priorityNode_)}static set __childrenNodeConstructor(e){DC=e}static get __childrenNodeConstructor(){return DC}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Wt(e)?this:".priority"===Yt(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,s){return null}updateImmediateChild(e,s){return".priority"===e?this.updatePriority(s):s.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,s).updatePriority(this.priorityNode_)}updateChild(e,s){const a=Yt(e);return null===a?s:s.isEmpty()&&".priority"!==a?this:((0,Y.hu)(".priority"!==a||1===ua(e),".priority must be the last token in a path"),this.updateImmediateChild(a,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Sn(e),s)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,s){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+k2(this.priorityNode_.val())+":");const s=typeof this.value_;e+=s+":",e+="number"===s?_2(this.value_):this.value_,this.lazyHash_=Ds(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,Y.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const s=typeof e.value_,a=typeof this.value_,u=n.VALUE_TYPE_ORDER.indexOf(s),h=n.VALUE_TYPE_ORDER.indexOf(a);return(0,Y.hu)(u>=0,"Unknown leaf type: "+s),(0,Y.hu)(h>=0,"Unknown leaf type: "+a),u===h?"object"===a?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:h-u}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const s=e;return this.value_===s.value_&&this.priorityNode_.equals(s.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const An=new class extends Jh{compare(t,e){const s=t.node.getPriority(),a=e.node.getPriority(),u=s.compareTo(a);return 0===u?Su(t.name,e.name):u}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return Kt.MIN}maxPost(){return new Kt(la,new df("[PRIORITY-POST]",L2))}makePost(t,e){const s=H4(t);return new Kt(e,new df("[PRIORITY-POST]",s))}toString(){return".priority"}},MC=Math.log(2);class G4{constructor(t){this.count=parseInt(Math.log(t+1)/MC,10),this.current_=this.count-1;const a=(u=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&a}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Dm=function(n,t,e,s){n.sort(t);const a=function(C,S){const k=S-C;let L,Q;if(0===k)return null;if(1===k)return L=n[C],Q=e?e(L):L,new ls(Q,L.node,ls.BLACK,null,null);{const ye=parseInt(k/2,10)+C,Ee=a(C,ye),Ve=a(ye+1,S);return L=n[ye],Q=e?e(L):L,new ls(Q,L.node,ls.BLACK,Ee,Ve)}},_=function(C){let S=null,k=null,L=n.length;const Q=function(Ee,Ve){const $e=L-Ee,ft=L;L-=Ee;const ut=a($e+1,ft),_t=n[$e],at=e?e(_t):_t;ye(new ls(at,_t.node,Ve,null,ut))},ye=function(Ee){S?(S.left=Ee,S=Ee):(k=Ee,S=Ee)};for(let Ee=0;Ee<C.count;++Ee){const Ve=C.nextBitIsOne(),$e=Math.pow(2,C.count-(Ee+1));Ve?Q($e,ls.BLACK):(Q($e,ls.BLACK),Q($e,ls.RED))}return k}(new G4(n.length));return new Pi(s||t,_)};let Rm;const ku={};class Gi{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,Y.hu)(ku&&An,"ChildrenNode.ts has not been loaded"),Rm=Rm||new Gi({".priority":ku},{".priority":An}),Rm}get(t){const e=(0,Y.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Pi?e:null}hasIndex(t){return(0,Y.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,Y.hu)(t!==bo,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let a=!1;const u=e.getIterator(Kt.Wrap);let _,h=u.getNext();for(;h;)a=a||t.isDefinedOn(h.node),s.push(h),h=u.getNext();_=a?Dm(s,t.getCompare()):ku;const C=t.toString(),S=Object.assign({},this.indexSet_);S[C]=t;const k=Object.assign({},this.indexes_);return k[C]=_,new Gi(k,S)}addToIndexes(t,e){const s=(0,Y.UI)(this.indexes_,(a,u)=>{const h=(0,Y.DV)(this.indexSet_,u);if((0,Y.hu)(h,"Missing index implementation for "+u),a===ku){if(h.isDefinedOn(t.node)){const _=[],C=e.getIterator(Kt.Wrap);let S=C.getNext();for(;S;)S.name!==t.name&&_.push(S),S=C.getNext();return _.push(t),Dm(_,h.getCompare())}return ku}{const _=e.get(t.name);let C=a;return _&&(C=C.remove(new Kt(t.name,_))),C.insert(t,t.node)}});return new Gi(s,this.indexSet_)}removeFromIndexes(t,e){const s=(0,Y.UI)(this.indexes_,a=>{if(a===ku)return a;{const u=e.get(t.name);return u?a.remove(new Kt(t.name,u)):a}});return new Gi(s,this.indexSet_)}}let ep,Bt=(()=>{class n{constructor(e,s,a){this.children_=e,this.priorityNode_=s,this.indexMap_=a,this.lazyHash_=null,this.priorityNode_&&F2(this.priorityNode_),this.children_.isEmpty()&&(0,Y.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ep||(ep=new n(new Pi(Sm),null,Gi.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ep}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const s=this.children_.get(e);return null===s?ep:s}}getChild(e){const s=Yt(e);return null===s?this:this.getImmediateChild(s).getChild(Sn(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,s){if((0,Y.hu)(s,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(s);{const a=new Kt(e,s);let u,h;s.isEmpty()?(u=this.children_.remove(e),h=this.indexMap_.removeFromIndexes(a,this.children_)):(u=this.children_.insert(e,s),h=this.indexMap_.addToIndexes(a,this.children_));const _=u.isEmpty()?ep:this.priorityNode_;return new n(u,_,h)}}updateChild(e,s){const a=Yt(e);if(null===a)return s;{(0,Y.hu)(".priority"!==Yt(e)||1===ua(e),".priority must be the last token in a path");const u=this.getImmediateChild(a).updateChild(Sn(e),s);return this.updateImmediateChild(a,u)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const s={};let a=0,u=0,h=!0;if(this.forEachChild(An,(_,C)=>{s[_]=C.val(e),a++,h&&n.INTEGER_REGEXP_.test(_)?u=Math.max(u,Number(_)):h=!1}),!e&&h&&u<2*a){const _=[];for(const C in s)_[C]=s[C];return _}return e&&!this.getPriority().isEmpty()&&(s[".priority"]=this.getPriority().val()),s}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+k2(this.getPriority().val())+":"),this.forEachChild(An,(s,a)=>{const u=a.hash();""!==u&&(e+=":"+s+":"+u)}),this.lazyHash_=""===e?"":Ds(e)}return this.lazyHash_}getPredecessorChildName(e,s,a){const u=this.resolveIndex_(a);if(u){const h=u.getPredecessorKey(new Kt(e,s));return h?h.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const s=this.resolveIndex_(e);if(s){const a=s.minKey();return a&&a.name}return this.children_.minKey()}getFirstChild(e){const s=this.getFirstChildName(e);return s?new Kt(s,this.children_.get(s)):null}getLastChildName(e){const s=this.resolveIndex_(e);if(s){const a=s.maxKey();return a&&a.name}return this.children_.maxKey()}getLastChild(e){const s=this.getLastChildName(e);return s?new Kt(s,this.children_.get(s)):null}forEachChild(e,s){const a=this.resolveIndex_(e);return a?a.inorderTraversal(u=>s(u.name,u.node)):this.children_.inorderTraversal(s)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,s){const a=this.resolveIndex_(s);if(a)return a.getIteratorFrom(e,u=>u);{const u=this.children_.getIteratorFrom(e.name,Kt.Wrap);let h=u.peek();for(;null!=h&&s.compare(h,e)<0;)u.getNext(),h=u.peek();return u}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,s){const a=this.resolveIndex_(s);if(a)return a.getReverseIteratorFrom(e,u=>u);{const u=this.children_.getReverseIteratorFrom(e.name,Kt.Wrap);let h=u.peek();for(;null!=h&&s.compare(h,e)>0;)u.getNext(),h=u.peek();return u}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===tp?-1:0}withIndex(e){if(e===bo||this.indexMap_.hasIndex(e))return this;{const s=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,s)}}isIndexed(e){return e===bo||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const s=e;if(this.getPriority().equals(s.getPriority())){if(this.children_.count()===s.children_.count()){const a=this.getIterator(An),u=s.getIterator(An);let h=a.getNext(),_=u.getNext();for(;h&&_;){if(h.name!==_.name||!h.node.equals(_.node))return!1;h=a.getNext(),_=u.getNext()}return null===h&&null===_}return!1}return!1}}resolveIndex_(e){return e===bo?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const tp=new class extends Bt{constructor(){super(new Pi(Sm),Bt.EMPTY_NODE,Gi.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Bt.EMPTY_NODE}isEmpty(){return!1}};function nr(n,t=null){if(null===n)return Bt.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,Y.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new df(n,nr(t));if(n instanceof Array){let e=Bt.EMPTY_NODE;return qn(n,(s,a)=>{if((0,Y.r3)(n,s)&&"."!==s.substring(0,1)){const u=nr(a);(u.isLeafNode()||!u.isEmpty())&&(e=e.updateImmediateChild(s,u))}}),e.updatePriority(nr(t))}{const e=[];let s=!1;if(qn(n,(h,_)=>{if("."!==h.substring(0,1)){const C=nr(_);C.isEmpty()||(s=s||!C.getPriority().isEmpty(),e.push(new Kt(h,C)))}}),0===e.length)return Bt.EMPTY_NODE;const u=Dm(e,j4,h=>h.name,Sm);if(s){const h=Dm(e,An.getCompare());return new Bt(u,nr(t),new Gi({".priority":h},{".priority":An}))}return new Bt(u,nr(t),Gi.Default)}}Object.defineProperties(Kt,{MIN:{value:new Kt(Xa,Bt.EMPTY_NODE)},MAX:{value:new Kt(la,tp)}}),x2.__EMPTY_NODE=Bt.EMPTY_NODE,df.__childrenNodeConstructor=Bt,Am=tp,L2=tp,function(n){H4=n}(nr);class np extends Jh{constructor(t){super(),this.indexPath_=t,(0,Y.hu)(!Wt(t)&&".priority"!==Yt(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const s=this.extractChild(t.node),a=this.extractChild(e.node),u=s.compareTo(a);return 0===u?Su(t.name,e.name):u}makePost(t,e){const s=nr(t),a=Bt.EMPTY_NODE.updateChild(this.indexPath_,s);return new Kt(e,a)}maxPost(){const t=Bt.EMPTY_NODE.updateChild(this.indexPath_,tp);return new Kt(la,t)}toString(){return Em(this.indexPath_,0).join("/")}}const Ps=new class extends Jh{compare(t,e){const s=t.node.compareTo(e.node);return 0===s?Su(t.name,e.name):s}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return Kt.MIN}maxPost(){return Kt.MAX}makePost(t,e){const s=nr(t);return new Kt(e,s)}toString(){return".value"}},ff="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Eo=function(){let n=0;const t=[];return function(e){const s=e===n;let a;n=e;const u=new Array(8);for(a=7;a>=0;a--)u[a]=ff.charAt(e%64),e=Math.floor(e/64);(0,Y.hu)(0===e,"Cannot push at time == 0");let h=u.join("");if(s){for(a=11;a>=0&&63===t[a];a--)t[a]=0;t[a]++}else for(a=0;a<12;a++)t[a]=Math.floor(64*Math.random());for(a=0;a<12;a++)h+=ff.charAt(t[a]);return(0,Y.hu)(20===h.length,"nextPushId: Length should be 20."),h}}(),U2=function(n){if(n===""+Rs)return"-";const t=uc(n);if(null!=t)return""+(t+1);const e=new Array(n.length);for(let h=0;h<e.length;h++)e[h]=n.charAt(h);if(e.length<786)return e.push("-"),e.join("");let s=e.length-1;for(;s>=0&&"z"===e[s];)s--;if(-1===s)return la;const u=ff.charAt(ff.indexOf(e[s])+1);return e[s]=u,e.slice(0,s+1).join("")},B2=function(n){if(n===""+mm)return Xa;const t=uc(n);if(null!=t)return""+(t-1);const e=new Array(n.length);for(let s=0;s<e.length;s++)e[s]=n.charAt(s);return"-"===e[e.length-1]?1===e.length?""+Rs:(delete e[e.length-1],e.join("")):(e[e.length-1]=ff.charAt(ff.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function Z4(n){return{type:"value",snapshotNode:n}}function hf(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function rp(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function ip(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class Fu{constructor(t){this.index_=t}updateChild(t,e,s,a,u,h){(0,Y.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const _=t.getImmediateChild(e);return _.getChild(a).equals(s.getChild(a))&&_.isEmpty()===s.isEmpty()||(null!=h&&(s.isEmpty()?t.hasChild(e)?h.trackChildChange(rp(e,_)):(0,Y.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):_.isEmpty()?h.trackChildChange(hf(e,s)):h.trackChildChange(ip(e,s,_))),t.isLeafNode()&&s.isEmpty())?t:t.updateImmediateChild(e,s).withIndex(this.index_)}updateFullNode(t,e,s){return null!=s&&(t.isLeafNode()||t.forEachChild(An,(a,u)=>{e.hasChild(a)||s.trackChildChange(rp(a,u))}),e.isLeafNode()||e.forEachChild(An,(a,u)=>{if(t.hasChild(a)){const h=t.getImmediateChild(a);h.equals(u)||s.trackChildChange(ip(a,u,h))}else s.trackChildChange(hf(a,u))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?Bt.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class sp{constructor(t){this.indexedFilter_=new Fu(t.getIndex()),this.index_=t.getIndex(),this.startPost_=sp.getStartPost_(t),this.endPost_=sp.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,s,a,u,h){return this.matches(new Kt(e,s))||(s=Bt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,s,a,u,h)}updateFullNode(t,e,s){e.isLeafNode()&&(e=Bt.EMPTY_NODE);let a=e.withIndex(this.index_);a=a.updatePriority(Bt.EMPTY_NODE);const u=this;return e.forEachChild(An,(h,_)=>{u.matches(new Kt(h,_))||(a=a.updateImmediateChild(h,Bt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,a,s)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class Y4{constructor(t){this.rangedFilter_=new sp(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,s,a,u,h){return this.rangedFilter_.matches(new Kt(e,s))||(s=Bt.EMPTY_NODE),t.getImmediateChild(e).equals(s)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,s,a,u,h):this.fullLimitUpdateChild_(t,e,s,u,h)}updateFullNode(t,e,s){let a;if(e.isLeafNode()||e.isEmpty())a=Bt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let u;a=Bt.EMPTY_NODE.withIndex(this.index_),u=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let h=0;for(;u.hasNext()&&h<this.limit_;){const _=u.getNext();let C;if(C=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),_)<=0:this.index_.compare(_,this.rangedFilter_.getEndPost())<=0,!C)break;a=a.updateImmediateChild(_.name,_.node),h++}}else{let u,h,_,C;if(a=e.withIndex(this.index_),a=a.updatePriority(Bt.EMPTY_NODE),this.reverse_){C=a.getReverseIterator(this.index_),u=this.rangedFilter_.getEndPost(),h=this.rangedFilter_.getStartPost();const L=this.index_.getCompare();_=(Q,ye)=>L(ye,Q)}else C=a.getIterator(this.index_),u=this.rangedFilter_.getStartPost(),h=this.rangedFilter_.getEndPost(),_=this.index_.getCompare();let S=0,k=!1;for(;C.hasNext();){const L=C.getNext();!k&&_(u,L)<=0&&(k=!0),k&&S<this.limit_&&_(L,h)<=0?S++:a=a.updateImmediateChild(L.name,Bt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,a,s)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,s,a,u){let h;if(this.reverse_){const L=this.index_.getCompare();h=(Q,ye)=>L(ye,Q)}else h=this.index_.getCompare();const _=t;(0,Y.hu)(_.numChildren()===this.limit_,"");const C=new Kt(e,s),S=this.reverse_?_.getFirstChild(this.index_):_.getLastChild(this.index_),k=this.rangedFilter_.matches(C);if(_.hasChild(e)){const L=_.getImmediateChild(e);let Q=a.getChildAfterChild(this.index_,S,this.reverse_);for(;null!=Q&&(Q.name===e||_.hasChild(Q.name));)Q=a.getChildAfterChild(this.index_,Q,this.reverse_);const ye=null==Q?1:h(Q,C);if(k&&!s.isEmpty()&&ye>=0)return null!=u&&u.trackChildChange(ip(e,s,L)),_.updateImmediateChild(e,s);{null!=u&&u.trackChildChange(rp(e,L));const Ve=_.updateImmediateChild(e,Bt.EMPTY_NODE);return null!=Q&&this.rangedFilter_.matches(Q)?(null!=u&&u.trackChildChange(hf(Q.name,Q.node)),Ve.updateImmediateChild(Q.name,Q.node)):Ve}}return s.isEmpty()?t:k&&h(S,C)>=0?(null!=u&&(u.trackChildChange(rp(S.name,S.node)),u.trackChildChange(hf(e,s))),_.updateImmediateChild(e,s).updateImmediateChild(S.name,Bt.EMPTY_NODE)):t}}class Pm{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=An}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,Y.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,Y.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Xa}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,Y.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,Y.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:la}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,Y.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===An}copy(){const t=new Pm;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function z2(n,t,e){const s=n.copy();return s.startSet_=!0,void 0===t&&(t=null),s.indexStartValue_=t,null!=e?(s.startNameSet_=!0,s.indexStartName_=e):(s.startNameSet_=!1,s.indexStartName_=""),s}function Om(n,t,e){const s=n.copy();return s.endSet_=!0,void 0===t&&(t=null),s.indexEndValue_=t,void 0!==e?(s.endNameSet_=!0,s.indexEndName_=e):(s.endNameSet_=!1,s.indexEndName_=""),s}function Lu(n,t){const e=n.copy();return e.index_=t,e}function $2(n){const t={};if(n.isDefault())return t;let e;return n.index_===An?e="$priority":n.index_===Ps?e="$value":n.index_===bo?e="$key":((0,Y.hu)(n.index_ instanceof np,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,Y.Pz)(e),n.startSet_&&(t.startAt=(0,Y.Pz)(n.indexStartValue_),n.startNameSet_&&(t.startAt+=","+(0,Y.Pz)(n.indexStartName_))),n.endSet_&&(t.endAt=(0,Y.Pz)(n.indexEndValue_),n.endNameSet_&&(t.endAt+=","+(0,Y.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function G2(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_)),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_)),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==An&&(t.i=n.index_.toString()),t}class op extends x4{constructor(t,e,s,a){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=s,this.appCheckTokenProvider_=a,this.log_=sf("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,Y.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,s,a){const u=t._path.toString();this.log_("Listen called for "+u+" "+t._queryIdentifier);const h=op.getListenId_(t,s),_={};this.listens_[h]=_;const C=$2(t._queryParams);this.restRequest_(u+".json",C,(S,k)=>{let L=k;if(404===S&&(L=null,S=null),null===S&&this.onDataUpdate_(u,L,!1,s),(0,Y.DV)(this.listens_,h)===_){let Q;Q=S?401===S?"permission_denied":"rest_error:"+S:"ok",a(Q,null)}})}unlisten(t,e){const s=op.getListenId_(t,e);delete this.listens_[s]}get(t){const e=$2(t._queryParams),s=t._path.toString(),a=new Y.BH;return this.restRequest_(s+".json",e,(u,h)=>{let _=h;404===u&&(_=null,u=null),null===u?(this.onDataUpdate_(s,_,!1,null),a.resolve(_)):a.reject(new Error(_))}),a.promise}refreshAuthToken(t){}restRequest_(t,e={},s){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([a,u])=>{a&&a.accessToken&&(e.auth=a.accessToken),u&&u.token&&(e.ac=u.token);const h=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,Y.xO)(e);this.log_("Sending REST request for "+h);const _=new XMLHttpRequest;_.onreadystatechange=()=>{if(s&&4===_.readyState){this.log_("REST Response for "+h+" received. status:",_.status,"response:",_.responseText);let C=null;if(_.status>=200&&_.status<300){try{C=(0,Y.cI)(_.responseText)}catch(S){fi("Failed to parse JSON response for "+h+": "+_.responseText)}s(null,C)}else 401!==_.status&&404!==_.status&&fi("Got unsuccessful REST response for "+h+" Status: "+_.status),s(_.status);s=null}},_.open("GET",h,!0),_.send()})}}class X4{constructor(){this.rootNode_=Bt.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function ap(){return{value:null,children:new Map}}function Vu(n,t,e){if(Wt(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const s=Yt(t);n.children.has(s)||n.children.set(s,ap()),Vu(n.children.get(s),t=Sn(t),e)}}function xm(n,t){if(Wt(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(An,(s,a)=>{Vu(n,new mn(s),a)}),xm(n,t)}}if(n.children.size>0){const e=Yt(t);return t=Sn(t),n.children.has(e)&&xm(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function km(n,t,e){null!==n.value?e(t,n.value):function(n,t){n.children.forEach((e,s)=>{t(s,e)})}(n,(s,a)=>{km(a,new mn(t.toString()+"/"+s),e)})}class NC{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&qn(this.last_,(s,a)=>{e[s]=e[s]-a}),this.last_=t,e}}class kC{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new NC(t);const s=1e4+2e4*Math.random();dc(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const t=this.statsListener_.get(),e={};let s=!1;qn(t,(a,u)=>{u>0&&(0,Y.r3)(this.statsToReport_,a)&&(e[a]=u,s=!0)}),s&&this.server_.reportStats(e),dc(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Os=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Os||(Os={})),Os))();function Z2(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class Fm{constructor(t,e,s){this.path=t,this.affectedTree=e,this.revert=s,this.type=Os.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(Wt(this.path)){if(null!=this.affectedTree.value)return(0,Y.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new mn(t));return new Fm(on(),e,this.revert)}}return(0,Y.hu)(Yt(this.path)===t,"operationForChild called for unrelated child."),new Fm(Sn(this.path),this.affectedTree,this.revert)}}class lp{constructor(t,e){this.source=t,this.path=e,this.type=Os.LISTEN_COMPLETE}operationForChild(t){return Wt(this.path)?new lp(this.source,on()):new lp(this.source,Sn(this.path))}}class Uu{constructor(t,e,s){this.source=t,this.path=e,this.snap=s,this.type=Os.OVERWRITE}operationForChild(t){return Wt(this.path)?new Uu(this.source,on(),this.snap.getImmediateChild(t)):new Uu(this.source,Sn(this.path),this.snap)}}class pf{constructor(t,e,s){this.source=t,this.path=e,this.children=s,this.type=Os.MERGE}operationForChild(t){if(Wt(this.path)){const e=this.children.subtree(new mn(t));return e.isEmpty()?null:e.value?new Uu(this.source,on(),e.value):new pf(this.source,on(),e)}return(0,Y.hu)(Yt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new pf(this.source,Sn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class hc{constructor(t,e,s){this.node_=t,this.fullyInitialized_=e,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Wt(t))return this.isFullyInitialized()&&!this.filtered_;const e=Yt(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class FC{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function cp(n,t,e,s,a,u){const h=s.filter(_=>_.type===e);h.sort((_,C)=>function(n,t,e){if(null==t.childName||null==e.childName)throw(0,Y.g5)("Should only compare child_ events.");const s=new Kt(t.childName,t.snapshotNode),a=new Kt(e.childName,e.snapshotNode);return n.index_.compare(s,a)}(n,_,C)),h.forEach(_=>{const C=function(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,_,u);a.forEach(S=>{S.respondsTo(_.type)&&t.push(S.createEvent(C,n.query_))})})}function up(n,t){return{eventCache:n,serverCache:t}}function gf(n,t,e,s){return up(new hc(t,e,s),n.serverCache)}function Y2(n,t,e,s){return up(n.eventCache,new hc(t,e,s))}function dp(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function pc(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let Lm;class En{constructor(t,e=(()=>(Lm||(Lm=new Pi(fC)),Lm))()){this.value=t,this.children=e}static fromObject(t){let e=new En(null);return qn(t,(s,a)=>{e=e.set(new mn(s),a)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:on(),value:this.value};if(Wt(t))return null;{const s=Yt(t),a=this.children.get(s);if(null!==a){const u=a.findRootMostMatchingPathAndValue(Sn(t),e);return null!=u?{path:jn(new mn(s),u.path),value:u.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Wt(t))return this;{const e=Yt(t),s=this.children.get(e);return null!==s?s.subtree(Sn(t)):new En(null)}}set(t,e){if(Wt(t))return new En(e,this.children);{const s=Yt(t),u=(this.children.get(s)||new En(null)).set(Sn(t),e),h=this.children.insert(s,u);return new En(this.value,h)}}remove(t){if(Wt(t))return this.children.isEmpty()?new En(null):new En(null,this.children);{const e=Yt(t),s=this.children.get(e);if(s){const a=s.remove(Sn(t));let u;return u=a.isEmpty()?this.children.remove(e):this.children.insert(e,a),null===this.value&&u.isEmpty()?new En(null):new En(this.value,u)}return this}}get(t){if(Wt(t))return this.value;{const e=Yt(t),s=this.children.get(e);return s?s.get(Sn(t)):null}}setTree(t,e){if(Wt(t))return e;{const s=Yt(t),u=(this.children.get(s)||new En(null)).setTree(Sn(t),e);let h;return h=u.isEmpty()?this.children.remove(s):this.children.insert(s,u),new En(this.value,h)}}fold(t){return this.fold_(on(),t)}fold_(t,e){const s={};return this.children.inorderTraversal((a,u)=>{s[a]=u.fold_(jn(t,a),e)}),e(t,this.value,s)}findOnPath(t,e){return this.findOnPath_(t,on(),e)}findOnPath_(t,e,s){const a=!!this.value&&s(e,this.value);if(a)return a;if(Wt(t))return null;{const u=Yt(t),h=this.children.get(u);return h?h.findOnPath_(Sn(t),jn(e,u),s):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,on(),e)}foreachOnPath_(t,e,s){if(Wt(t))return this;{this.value&&s(e,this.value);const a=Yt(t),u=this.children.get(a);return u?u.foreachOnPath_(Sn(t),jn(e,a),s):new En(null)}}foreach(t){this.foreach_(on(),t)}foreach_(t,e){this.children.inorderTraversal((s,a)=>{a.foreach_(jn(t,s),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,s)=>{s.value&&t(e,s.value)})}}class cs{constructor(t){this.writeTree_=t}static empty(){return new cs(new En(null))}}function wo(n,t,e){if(Wt(t))return new cs(new En(e));{const s=n.writeTree_.findRootMostValueAndPath(t);if(null!=s){const a=s.path;let u=s.value;const h=Jr(a,t);return u=u.updateChild(h,e),new cs(n.writeTree_.set(a,u))}{const a=new En(e),u=n.writeTree_.setTree(t,a);return new cs(u)}}}function K2(n,t,e){let s=n;return qn(e,(a,u)=>{s=wo(s,jn(t,a),u)}),s}function i3(n,t){if(Wt(t))return cs.empty();{const e=n.writeTree_.setTree(t,new En(null));return new cs(e)}}function gc(n,t){return null!=mf(n,t)}function mf(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(Jr(e.path,t)):null}function Vm(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(An,(s,a)=>{t.push(new Kt(s,a))}):n.writeTree_.children.inorderTraversal((s,a)=>{null!=a.value&&t.push(new Kt(s,a.value))}),t}function Bu(n,t){if(Wt(t))return n;{const e=mf(n,t);return new cs(null!=e?new En(e):n.writeTree_.subtree(t))}}function Um(n){return n.writeTree_.isEmpty()}function ju(n,t){return VC(on(),n.writeTree_,t)}function VC(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let s=null;return t.children.inorderTraversal((a,u)=>{".priority"===a?((0,Y.hu)(null!==u.value,"Priority writes must always be leaf nodes"),s=u.value):e=VC(jn(n,a),u,e)}),!e.getChild(n).isEmpty()&&null!==s&&(e=e.updateChild(jn(n,".priority"),s)),e}}function It(n,t){return d3(t,n)}function zC(n,t){if(n.snap)return $i(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&$i(jn(n.path,e),t))return!0;return!1}function zm(n){return n.visible}function Zn(n,t,e){let s=cs.empty();for(let a=0;a<n.length;++a){const u=n[a];if(t(u)){const h=u.path;let _;if(u.snap)$i(e,h)?(_=Jr(e,h),s=wo(s,_,u.snap)):$i(h,e)&&(_=Jr(h,e),s=wo(s,on(),u.snap.getChild(_)));else{if(!u.children)throw(0,Y.g5)("WriteRecord should have .snap or .children");if($i(e,h))_=Jr(e,h),s=K2(s,_,u.children);else if($i(h,e))if(_=Jr(h,e),Wt(_))s=K2(s,on(),u.children);else{const C=(0,Y.DV)(u.children,Yt(_));if(C){const S=C.getChild(Sn(_));s=wo(s,on(),S)}}}}}return s}function HC(n,t,e,s,a){if(s||a){const u=Bu(n.visibleWrites,t);return!a&&Um(u)?e:a||null!=e||gc(u,on())?ju(Zn(n.allWrites,function(S){return(S.visible||a)&&(!s||!~s.indexOf(S.writeId))&&($i(S.path,t)||$i(t,S.path))},t),e||Bt.EMPTY_NODE):null}{const u=mf(n.visibleWrites,t);if(null!=u)return u;{const h=Bu(n.visibleWrites,t);return Um(h)?e:null!=e||gc(h,on())?ju(h,e||Bt.EMPTY_NODE):null}}}function fp(n,t,e,s){return HC(n.writeTree,n.treePath,t,e,s)}function J2(n,t){return function(n,t,e){let s=Bt.EMPTY_NODE;const a=mf(n.visibleWrites,t);if(a)return a.isLeafNode()||a.forEachChild(An,(u,h)=>{s=s.updateImmediateChild(u,h)}),s;if(e){const u=Bu(n.visibleWrites,t);return e.forEachChild(An,(h,_)=>{const C=ju(Bu(u,new mn(h)),_);s=s.updateImmediateChild(h,C)}),Vm(u).forEach(h=>{s=s.updateImmediateChild(h.name,h.node)}),s}return Vm(Bu(n.visibleWrites,t)).forEach(h=>{s=s.updateImmediateChild(h.name,h.node)}),s}(n.writeTree,n.treePath,t)}function c3(n,t,e,s){return function(n,t,e,s,a){(0,Y.hu)(s||a,"Either existingEventSnap or existingServerSnap must exist");const u=jn(t,e);if(gc(n.visibleWrites,u))return null;{const h=Bu(n.visibleWrites,u);return Um(h)?a.getChild(e):ju(h,a.getChild(e))}}(n.writeTree,n.treePath,t,e,s)}function Hm(n,t){return function(n,t){return mf(n.visibleWrites,t)}(n.writeTree,jn(n.treePath,t))}function X2(n,t,e){return function(n,t,e,s){const a=jn(t,e),u=mf(n.visibleWrites,a);return null!=u?u:s.isCompleteForChild(e)?ju(Bu(n.visibleWrites,a),s.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function u3(n,t){return d3(jn(n.treePath,t),n.writeTree)}function d3(n,t){return{treePath:n,writeTree:t}}class $m{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,s=t.childName;(0,Y.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,Y.hu)(".priority"!==s,"Only non-priority child changes can be tracked.");const a=this.changeMap.get(s);if(a){const u=a.type;if("child_added"===e&&"child_removed"===u)this.changeMap.set(s,ip(s,t.snapshotNode,a.snapshotNode));else if("child_removed"===e&&"child_added"===u)this.changeMap.delete(s);else if("child_removed"===e&&"child_changed"===u)this.changeMap.set(s,rp(s,a.oldSnap));else if("child_changed"===e&&"child_added"===u)this.changeMap.set(s,hf(s,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==u)throw(0,Y.g5)("Illegal combination of changes: "+t+" occurred after "+a);this.changeMap.set(s,ip(s,t.snapshotNode,a.oldSnap))}}else this.changeMap.set(s,t)}getChanges(){return Array.from(this.changeMap.values())}}const e_=new class{getCompleteChild(t){return null}getChildAfterChild(t,e,s){return null}};class Gm{constructor(t,e,s=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=s}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const s=null!=this.optCompleteServerCache_?new hc(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return X2(this.writes_,t,s)}}getChildAfterChild(t,e,s){const a=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:pc(this.viewCache_),u=function(n,t,e,s,a,u){return function(n,t,e,s,a,u,h){let _;const C=Bu(n.visibleWrites,t),S=mf(C,on());if(null!=S)_=S;else{if(null==e)return[];_=ju(C,e)}if(_=_.withIndex(h),_.isEmpty()||_.isLeafNode())return[];{const k=[],L=h.getCompare(),Q=u?_.getReverseIteratorFrom(s,h):_.getIteratorFrom(s,h);let ye=Q.getNext();for(;ye&&k.length<a;)0!==L(ye,s)&&k.push(ye),ye=Q.getNext();return k}}(n.writeTree,n.treePath,t,e,s,a,u)}(this.writes_,a,e,1,s,t);return 0===u.length?null:u[0]}}function h3(n,t,e,s,a,u){const h=t.eventCache;if(null!=Hm(s,e))return t;{let _,C;if(Wt(e))if((0,Y.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const S=pc(t),L=J2(s,S instanceof Bt?S:Bt.EMPTY_NODE);_=n.filter.updateFullNode(t.eventCache.getNode(),L,u)}else{const S=fp(s,pc(t));_=n.filter.updateFullNode(t.eventCache.getNode(),S,u)}else{const S=Yt(e);if(".priority"===S){(0,Y.hu)(1===ua(e),"Can't have a priority with additional path components");const k=h.getNode();C=t.serverCache.getNode();const L=c3(s,e,k,C);_=null!=L?n.filter.updatePriority(k,L):h.getNode()}else{const k=Sn(e);let L;if(h.isCompleteForChild(S)){C=t.serverCache.getNode();const Q=c3(s,e,h.getNode(),C);L=null!=Q?h.getNode().getImmediateChild(S).updateChild(k,Q):h.getNode().getImmediateChild(S)}else L=X2(s,S,t.serverCache);_=null!=L?n.filter.updateChild(h.getNode(),S,L,k,a,u):h.getNode()}}return gf(t,_,h.isFullyInitialized()||Wt(e),n.filter.filtersNodes())}}function Wm(n,t,e,s,a,u,h,_){const C=t.serverCache;let S;const k=h?n.filter:n.filter.getIndexedFilter();if(Wt(e))S=k.updateFullNode(C.getNode(),s,null);else if(k.filtersNodes()&&!C.isFiltered()){const ye=C.getNode().updateChild(e,s);S=k.updateFullNode(C.getNode(),ye,null)}else{const ye=Yt(e);if(!C.isCompleteForPath(e)&&ua(e)>1)return t;const Ee=Sn(e),$e=C.getNode().getImmediateChild(ye).updateChild(Ee,s);S=".priority"===ye?k.updatePriority(C.getNode(),$e):k.updateChild(C.getNode(),ye,$e,Ee,e_,null)}const L=Y2(t,S,C.isFullyInitialized()||Wt(e),k.filtersNodes());return h3(n,L,e,a,new Gm(a,L,u),_)}function qm(n,t,e,s,a,u,h){const _=t.eventCache;let C,S;const k=new Gm(a,t,u);if(Wt(e))S=n.filter.updateFullNode(t.eventCache.getNode(),s,h),C=gf(t,S,!0,n.filter.filtersNodes());else{const L=Yt(e);if(".priority"===L)S=n.filter.updatePriority(t.eventCache.getNode(),s),C=gf(t,S,_.isFullyInitialized(),_.isFiltered());else{const Q=Sn(e),ye=_.getNode().getImmediateChild(L);let Ee;if(Wt(Q))Ee=s;else{const Ve=k.getCompleteChild(L);Ee=null!=Ve?".priority"===Kh(Q)&&Ve.getChild(cf(Q)).isEmpty()?Ve:Ve.updateChild(Q,s):Bt.EMPTY_NODE}C=ye.equals(Ee)?t:gf(t,n.filter.updateChild(_.getNode(),L,Ee,Q,k,h),_.isFullyInitialized(),n.filter.filtersNodes())}}return C}function t_(n,t){return n.eventCache.isCompleteForChild(t)}function g3(n,t,e){return e.foreach((s,a)=>{t=t.updateChild(s,a)}),t}function Zm(n,t,e,s,a,u,h,_){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let S,C=t;S=Wt(e)?s:new En(null).setTree(e,s);const k=t.serverCache.getNode();return S.children.inorderTraversal((L,Q)=>{if(k.hasChild(L)){const Ee=g3(0,t.serverCache.getNode().getImmediateChild(L),Q);C=Wm(n,C,new mn(L),Ee,a,u,h,_)}}),S.children.inorderTraversal((L,Q)=>{const ye=!t.serverCache.isCompleteForChild(L)&&void 0===Q.value;if(!k.hasChild(L)&&!ye){const Ve=g3(0,t.serverCache.getNode().getImmediateChild(L),Q);C=Wm(n,C,new mn(L),Ve,a,u,h,_)}}),C}class oT{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const s=this.query_._queryParams,a=new Fu(s.getIndex()),u=function(n){return n.loadsAllData()?new Fu(n.getIndex()):n.hasLimit()?new Y4(n):new sp(n)}(s);this.processor_=function(n){return{filter:n}}(u);const h=e.serverCache,_=e.eventCache,C=a.updateFullNode(Bt.EMPTY_NODE,h.getNode(),null),S=u.updateFullNode(Bt.EMPTY_NODE,_.getNode(),null),k=new hc(C,h.isFullyInitialized(),a.filtersNodes()),L=new hc(S,_.isFullyInitialized(),u.filtersNodes());this.viewCache_=up(L,k),this.eventGenerator_=new FC(this.query_)}get query(){return this.query_}}function m3(n,t){const e=pc(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!Wt(t)&&!e.getImmediateChild(Yt(t)).isEmpty())?e.getChild(t):null}function mp(n){return 0===n.eventRegistrations_.length}function _3(n,t,e){const s=[];if(e){(0,Y.hu)(null==t,"A cancel should cancel all event registrations.");const a=n.query._path;n.eventRegistrations_.forEach(u=>{const h=u.createCancelEvent(e,a);h&&s.push(h)})}if(t){let a=[];for(let u=0;u<n.eventRegistrations_.length;++u){const h=n.eventRegistrations_[u];if(h.matches(t)){if(t.hasAnyCallback()){a=a.concat(n.eventRegistrations_.slice(u+1));break}}else a.push(h)}n.eventRegistrations_=a}else n.eventRegistrations_=[];return s}function n_(n,t,e,s){t.type===Os.MERGE&&null!==t.source.queryId&&((0,Y.hu)(pc(n.viewCache_),"We should always have a full cache before handling merges"),(0,Y.hu)(dp(n.viewCache_),"Missing event cache, even though we have a server cache"));const a=n.viewCache_,u=function(n,t,e,s,a){const u=new $m;let h,_;if(e.type===Os.OVERWRITE){const S=e;S.source.fromUser?h=qm(n,t,S.path,S.snap,s,a,u):((0,Y.hu)(S.source.fromServer,"Unknown source."),_=S.source.tagged||t.serverCache.isFiltered()&&!Wt(S.path),h=Wm(n,t,S.path,S.snap,s,a,_,u))}else if(e.type===Os.MERGE){const S=e;S.source.fromUser?h=function(n,t,e,s,a,u,h){let _=t;return s.foreach((C,S)=>{const k=jn(e,C);t_(t,Yt(k))&&(_=qm(n,_,k,S,a,u,h))}),s.foreach((C,S)=>{const k=jn(e,C);t_(t,Yt(k))||(_=qm(n,_,k,S,a,u,h))}),_}(n,t,S.path,S.children,s,a,u):((0,Y.hu)(S.source.fromServer,"Unknown source."),_=S.source.tagged||t.serverCache.isFiltered(),h=Zm(n,t,S.path,S.children,s,a,_,u))}else if(e.type===Os.ACK_USER_WRITE){const S=e;h=S.revert?function(n,t,e,s,a,u){let h;if(null!=Hm(s,e))return t;{const _=new Gm(s,t,a),C=t.eventCache.getNode();let S;if(Wt(e)||".priority"===Yt(e)){let k;if(t.serverCache.isFullyInitialized())k=fp(s,pc(t));else{const L=t.serverCache.getNode();(0,Y.hu)(L instanceof Bt,"serverChildren would be complete if leaf node"),k=J2(s,L)}k=k,S=n.filter.updateFullNode(C,k,u)}else{const k=Yt(e);let L=X2(s,k,t.serverCache);null==L&&t.serverCache.isCompleteForChild(k)&&(L=C.getImmediateChild(k)),S=null!=L?n.filter.updateChild(C,k,L,Sn(e),_,u):t.eventCache.getNode().hasChild(k)?n.filter.updateChild(C,k,Bt.EMPTY_NODE,Sn(e),_,u):C,S.isEmpty()&&t.serverCache.isFullyInitialized()&&(h=fp(s,pc(t)),h.isLeafNode()&&(S=n.filter.updateFullNode(S,h,u)))}return h=t.serverCache.isFullyInitialized()||null!=Hm(s,on()),gf(t,S,h,n.filter.filtersNodes())}}(n,t,S.path,s,a,u):function(n,t,e,s,a,u,h){if(null!=Hm(a,e))return t;const _=t.serverCache.isFiltered(),C=t.serverCache;if(null!=s.value){if(Wt(e)&&C.isFullyInitialized()||C.isCompleteForPath(e))return Wm(n,t,e,C.getNode().getChild(e),a,u,_,h);if(Wt(e)){let S=new En(null);return C.getNode().forEachChild(bo,(k,L)=>{S=S.set(new mn(k),L)}),Zm(n,t,e,S,a,u,_,h)}return t}{let S=new En(null);return s.foreach((k,L)=>{const Q=jn(e,k);C.isCompleteForPath(Q)&&(S=S.set(k,C.getNode().getChild(Q)))}),Zm(n,t,e,S,a,u,_,h)}}(n,t,S.path,S.affectedTree,s,a,u)}else{if(e.type!==Os.LISTEN_COMPLETE)throw(0,Y.g5)("Unknown operation type: "+e.type);h=function(n,t,e,s,a){const u=t.serverCache;return h3(n,Y2(t,u.getNode(),u.isFullyInitialized()||Wt(e),u.isFiltered()),e,s,e_,a)}(n,t,e.path,s,u)}const C=u.getChanges();return function(n,t,e){const s=t.eventCache;if(s.isFullyInitialized()){const a=s.getNode().isLeafNode()||s.getNode().isEmpty(),u=dp(n);(e.length>0||!n.eventCache.isFullyInitialized()||a&&!s.getNode().equals(u)||!s.getNode().getPriority().equals(u.getPriority()))&&e.push(Z4(dp(t)))}}(t,h,C),{viewCache:h,changes:C}}(n.processor_,a,t,e,s);return function(n,t){(0,Y.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,Y.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,u.viewCache),(0,Y.hu)(u.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=u.viewCache,y3(n,u.changes,u.viewCache.eventCache.getNode(),null)}function y3(n,t,e,s){return function(n,t,e,s){const a=[],u=[];return t.forEach(h=>{"child_changed"===h.type&&n.index_.indexedValueChanged(h.oldSnap,h.snapshotNode)&&u.push(function(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(h.childName,h.snapshotNode))}),cp(n,a,"child_removed",t,s,e),cp(n,a,"child_added",t,s,e),cp(n,a,"child_moved",u,s,e),cp(n,a,"child_changed",t,s,e),cp(n,a,"value",t,s,e),a}(n.eventGenerator_,t,e,s?[s]:n.eventRegistrations_)}let Ym,yf;class v3{constructor(){this.views=new Map}}function r_(n,t,e,s){const a=t.source.queryId;if(null!==a){const u=n.views.get(a);return(0,Y.hu)(null!=u,"SyncTree gave us an op for an invalid query."),n_(u,t,e,s)}{let u=[];for(const h of n.views.values())u=u.concat(n_(h,t,e,s));return u}}function C3(n,t,e,s,a){const h=n.views.get(t._queryIdentifier);if(!h){let _=fp(e,a?s:null),C=!1;_?C=!0:s instanceof Bt?(_=J2(e,s),C=!1):(_=Bt.EMPTY_NODE,C=!1);const S=up(new hc(_,C,!1),new hc(s,a,!1));return new oT(t,S)}return h}function i_(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function mc(n,t){let e=null;for(const s of n.views.values())e=e||m3(s,t);return e}function s_(n,t){return t._queryParams.loadsAllData()?Km(n):n.views.get(t._queryIdentifier)}function E3(n,t){return null!=s_(n,t)}function nl(n){return null!=Km(n)}function Km(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let I3=1;class T3{constructor(t){this.listenProvider_=t,this.syncPointTree_=new En(null),this.pendingWriteTree_={visibleWrites:cs.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function o_(n,t,e,s,a){return function(n,t,e,s,a){(0,Y.hu)(s>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===a&&(a=!0),n.allWrites.push({path:t,snap:e,writeId:s,visible:a}),a&&(n.visibleWrites=wo(n.visibleWrites,t,e)),n.lastWriteId=s}(n.pendingWriteTree_,t,e,s,a),a?zu(n,new Uu({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function da(n,t,e=!1){const s=function(n,t){for(let e=0;e<n.allWrites.length;e++){const s=n.allWrites[e];if(s.writeId===t)return s}return null}(n.pendingWriteTree_,t);if(function(n,t){const e=n.allWrites.findIndex(_=>_.writeId===t);(0,Y.hu)(e>=0,"removeWrite called with nonexistent writeId.");const s=n.allWrites[e];n.allWrites.splice(e,1);let a=s.visible,u=!1,h=n.allWrites.length-1;for(;a&&h>=0;){const _=n.allWrites[h];_.visible&&(h>=e&&zC(_,s.path)?a=!1:$i(s.path,_.path)&&(u=!0)),h--}return!!a&&(u?(function(n){n.visibleWrites=Zn(n.allWrites,zm,on()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(s.snap?n.visibleWrites=i3(n.visibleWrites,s.path):qn(s.children,C=>{n.visibleWrites=i3(n.visibleWrites,jn(s.path,C))}),!0))}(n.pendingWriteTree_,t)){let u=new En(null);return null!=s.snap?u=u.set(on(),!0):qn(s.children,h=>{u=u.set(new mn(h),!0)}),zu(n,new Fm(s.path,u,e))}return[]}function yp(n,t,e){return zu(n,new Uu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function a_(n,t,e,s){const a=t._path,u=n.syncPointTree_.get(a);let h=[];if(u&&("default"===t._queryIdentifier||E3(u,t))){const _=function(n,t,e,s){const a=t._queryIdentifier,u=[];let h=[];const _=nl(n);if("default"===a)for(const[C,S]of n.views.entries())h=h.concat(_3(S,e,s)),mp(S)&&(n.views.delete(C),S.query._queryParams.loadsAllData()||u.push(S.query));else{const C=n.views.get(a);C&&(h=h.concat(_3(C,e,s)),mp(C)&&(n.views.delete(a),C.query._queryParams.loadsAllData()||u.push(C.query)))}return _&&!nl(n)&&u.push(new((0,Y.hu)(Ym,"Reference.ts has not been loaded"),Ym)(t._repo,t._path)),{removed:u,events:h}}(u,t,e,s);(function(n){return 0===n.views.size})(u)&&(n.syncPointTree_=n.syncPointTree_.remove(a));const C=_.removed;h=_.events;const S=-1!==C.findIndex(L=>L._queryParams.loadsAllData()),k=n.syncPointTree_.findOnPath(a,(L,Q)=>nl(Q));if(S&&!k){const L=n.syncPointTree_.subtree(a);if(!L.isEmpty()){const Q=function(n){return n.fold((t,e,s)=>{if(e&&nl(e))return[Km(e)];{let a=[];return e&&(a=i_(e)),qn(s,(u,h)=>{a=a.concat(h)}),a}})}(L);for(let ye=0;ye<Q.length;++ye){const Ee=Q[ye],Ve=Ee.query,$e=R3(n,Ee);n.listenProvider_.startListening(vf(Ve),vp(n,Ve),$e.hashFn,$e.onComplete)}}}if(!k&&C.length>0&&!s)if(S){const L=null;n.listenProvider_.stopListening(vf(t),L)}else C.forEach(L=>{const Q=n.queryToTagMap.get(Jm(L));n.listenProvider_.stopListening(vf(L),Q)});!function(n,t){for(let e=0;e<t.length;++e){const s=t[e];if(!s._queryParams.loadsAllData()){const a=Jm(s),u=n.queryToTagMap.get(a);n.queryToTagMap.delete(a),n.tagToQueryMap.delete(u)}}}(n,C)}return h}function A3(n,t,e){const s=t._path;let a=null,u=!1;n.syncPointTree_.foreachOnPath(s,(L,Q)=>{const ye=Jr(L,s);a=a||mc(Q,ye),u=u||nl(Q)});let _,h=n.syncPointTree_.get(s);h?(u=u||nl(h),a=a||mc(h,on())):(h=new v3,n.syncPointTree_=n.syncPointTree_.set(s,h)),null!=a?_=!0:(_=!1,a=Bt.EMPTY_NODE,n.syncPointTree_.subtree(s).foreachChild((Q,ye)=>{const Ee=mc(ye,on());Ee&&(a=a.updateImmediateChild(Q,Ee))}));const C=E3(h,t);if(!C&&!t._queryParams.loadsAllData()){const L=Jm(t);(0,Y.hu)(!n.queryToTagMap.has(L),"View does not exist, but we have a tag");const Q=I3++;n.queryToTagMap.set(L,Q),n.tagToQueryMap.set(Q,L)}let k=function(n,t,e,s,a,u){const h=C3(n,t,s,a,u);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,h),function(n,t){n.eventRegistrations_.push(t)}(h,e),function(n,t){const e=n.viewCache_.eventCache,s=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(An,(u,h)=>{s.push(hf(u,h))}),e.isFullyInitialized()&&s.push(Z4(e.getNode())),y3(n,s,e.getNode(),t)}(h,e)}(h,t,e,It(n.pendingWriteTree_,s),a,_);if(!C&&!u){const L=s_(h,t);k=k.concat(function(n,t,e){const s=t._path,a=vp(n,t),u=R3(n,e),h=n.listenProvider_.startListening(vf(t),a,u.hashFn,u.onComplete),_=n.syncPointTree_.subtree(s);if(a)(0,Y.hu)(!nl(_.value),"If we're adding a query, it shouldn't be shadowed");else{const C=_.fold((S,k,L)=>{if(!Wt(S)&&k&&nl(k))return[Km(k).query];{let Q=[];return k&&(Q=Q.concat(i_(k).map(ye=>ye.query))),qn(L,(ye,Ee)=>{Q=Q.concat(Ee)}),Q}});for(let S=0;S<C.length;++S){const k=C[S];n.listenProvider_.stopListening(vf(k),vp(n,k))}}return h}(n,t,L))}return k}function Qm(n,t,e){const a=n.pendingWriteTree_,u=n.syncPointTree_.findOnPath(t,(h,_)=>{const S=mc(_,Jr(h,t));if(S)return S});return HC(a,t,u,e,!0)}function zu(n,t){return l_(t,n.syncPointTree_,null,It(n.pendingWriteTree_,on()))}function l_(n,t,e,s){if(Wt(n.path))return D3(n,t,e,s);{const a=t.get(on());null==e&&null!=a&&(e=mc(a,on()));let u=[];const h=Yt(n.path),_=n.operationForChild(h),C=t.children.get(h);if(C&&_){const S=e?e.getImmediateChild(h):null,k=u3(s,h);u=u.concat(l_(_,C,S,k))}return a&&(u=u.concat(r_(a,n,s,e))),u}}function D3(n,t,e,s){const a=t.get(on());null==e&&null!=a&&(e=mc(a,on()));let u=[];return t.children.inorderTraversal((h,_)=>{const C=e?e.getImmediateChild(h):null,S=u3(s,h),k=n.operationForChild(h);k&&(u=u.concat(D3(k,_,C,S)))}),a&&(u=u.concat(r_(a,n,s,e))),u}function R3(n,t){const e=t.query,s=vp(n,e);return{hashFn:()=>(function(n){return n.viewCache_.serverCache.getNode()}(t)||Bt.EMPTY_NODE).hash(),onComplete:a=>{if("ok"===a)return s?function(n,t,e){const s=c_(n,e);if(s){const a=u_(s),u=a.path,h=a.queryId,_=Jr(u,t);return bp(n,u,new lp(Z2(h),_))}return[]}(n,e._path,s):function(n,t){return zu(n,new lp({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const u=function(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const s=new Error(n+" at "+t._path.toString()+": "+e);return s.code=n.toUpperCase(),s}(a,e);return a_(n,e,null,u)}}}}function vp(n,t){const e=Jm(t);return n.queryToTagMap.get(e)}function Jm(n){return n._path.toString()+"$"+n._queryIdentifier}function c_(n,t){return n.tagToQueryMap.get(t)}function u_(n){const t=n.indexOf("$");return(0,Y.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new mn(n.substr(0,t))}}function bp(n,t,e){const s=n.syncPointTree_.get(t);return(0,Y.hu)(s,"Missing sync point for query tag that we're tracking"),r_(s,e,It(n.pendingWriteTree_,t),null)}function vf(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new((0,Y.hu)(yf,"Reference.ts has not been loaded"),yf)(n._repo,n._path):n}class Cp{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new Cp(e)}node(){return this.node_}}class h_{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=jn(this.path_,t);return new h_(this.syncTree_,e)}node(){return Qm(this.syncTree_,this.path_)}}const P3=function(n,t,e){return n&&"object"==typeof n?((0,Y.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?N3(n[".sv"],t,e):"object"==typeof n[".sv"]?O3(n[".sv"],t):void(0,Y.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},N3=function(n,t,e){switch(n){case"timestamp":return e.timestamp;default:(0,Y.hu)(!1,"Unexpected server value: "+n)}},O3=function(n,t,e){n.hasOwnProperty("increment")||(0,Y.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const s=n.increment;"number"!=typeof s&&(0,Y.hu)(!1,"Unexpected increment value: "+s);const a=t.node();if((0,Y.hu)(null!=a,"Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return s;const h=a.getValue();return"number"!=typeof h?s:h+s},p_=function(n,t,e,s){return g_(t,new h_(e,n),s)},x3=function(n,t,e){return g_(n,new Cp(t),e)};function g_(n,t,e){const s=n.getPriority().val(),a=P3(s,t.getImmediateChild(".priority"),e);let u;if(n.isLeafNode()){const h=n,_=P3(h.getValue(),t,e);return _!==h.getValue()||a!==h.getPriority().val()?new df(_,nr(a)):n}{const h=n;return u=h,a!==h.getPriority().val()&&(u=u.updatePriority(new df(a))),h.forEachChild(An,(_,C)=>{const S=g_(C,t.getImmediateChild(_),e);S!==C&&(u=u.updateImmediateChild(_,S))}),u}}class _c{constructor(t="",e=null,s={children:{},childCount:0}){this.name=t,this.parent=e,this.node=s}}function m_(n,t){let e=t instanceof mn?t:new mn(t),s=n,a=Yt(e);for(;null!==a;){const u=(0,Y.DV)(s.node.children,a)||{children:{},childCount:0};s=new _c(a,s,u),e=Sn(e),a=Yt(e)}return s}function rl(n){return n.node.value}function bf(n,t){n.node.value=t,e1(n)}function k3(n){return n.node.childCount>0}function Xm(n,t){qn(n.node.children,(e,s)=>{t(new _c(e,n,s))})}function lE(n,t,e,s){e&&!s&&t(n),Xm(n,a=>{lE(a,t,!0,s)}),e&&s&&t(n)}function Wi(n){return new mn(null===n.parent?n.name:Wi(n.parent)+"/"+n.name)}function e1(n){null!==n.parent&&function(n,t,e){const s=function(n){return void 0===rl(n)&&!k3(n)}(e),a=(0,Y.r3)(n.node.children,t);s&&a?(delete n.node.children[t],n.node.childCount--,e1(n)):!s&&!a&&(n.node.children[t]=e.node,n.node.childCount++,e1(n))}(n.parent,n.name,n)}const t1=/[\[\].#$\/\u0000-\u001F\u007F]/,uE=/[\[\].#$\u0000-\u001F\u007F]/,__=10485760,y_=function(n){return"string"==typeof n&&0!==n.length&&!t1.test(n)},F3=function(n){return"string"==typeof n&&0!==n.length&&!uE.test(n)},Ep=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!gm(n)||n&&"object"==typeof n&&(0,Y.r3)(n,".sv")},xs=function(n,t,e,s){s&&void 0===t||Ef((0,Y.gK)(n,"value"),t,e)},Ef=function(n,t,e){const s=e instanceof mn?new L4(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+tl(s));if("function"==typeof t)throw new Error(n+"contains a function "+tl(s)+" with contents = "+t.toString());if(gm(t))throw new Error(n+"contains "+t.toString()+" "+tl(s));if("string"==typeof t&&t.length>__/3&&(0,Y.ug)(t)>__)throw new Error(n+"contains a string greater than "+__+" utf8 bytes "+tl(s)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let a=!1,u=!1;if(qn(t,(h,_)=>{if(".value"===h)a=!0;else if(".priority"!==h&&".sv"!==h&&(u=!0,!y_(h)))throw new Error(n+" contains an invalid key ("+h+") "+tl(s)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,Y.ug)(t),wm(n)})(s,h),Ef(n,_,s),function(n){const t=n.parts_.pop();n.byteLength_-=(0,Y.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(s)}),a&&u)throw new Error(n+' contains ".value" child '+tl(s)+" in addition to actual children.")}},b_=function(n,t,e,s){if(s&&void 0===t)return;const a=(0,Y.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(a+" must be an object containing the children to replace.");const u=[];qn(t,(h,_)=>{const C=new mn(h);if(Ef(a,_,jn(e,C)),".priority"===Kh(C)&&!Ep(_))throw new Error(a+"contains an invalid value for '"+C.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");u.push(C)}),function(n,t){let e,s;for(e=0;e<t.length;e++){s=t[e];const u=Em(s);for(let h=0;h<u.length;h++)if((".priority"!==u[h]||h!==u.length-1)&&!y_(u[h]))throw new Error(n+"contains an invalid key ("+u[h]+") in path "+s.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(TC);let a=null;for(e=0;e<t.length;e++){if(s=t[e],null!==a&&$i(a,s))throw new Error(n+"contains a path "+a.toString()+" that is ancestor of another path "+s.toString());a=s}}(a,u)},C_=function(n,t,e){if(!e||void 0!==t){if(gm(t))throw new Error((0,Y.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Ep(t))throw new Error((0,Y.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},n1=function(n,t,e,s){if(!(s&&void 0===e||y_(e)))throw new Error((0,Y.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},wp=function(n,t,e,s){if(!(s&&void 0===e||F3(e)))throw new Error((0,Y.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},ks=function(n,t){if(".info"===Yt(t))throw new Error(n+" failed = Can't modify data under /.info/")},E_=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!y_(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),F3(n)}(e))throw new Error((0,Y.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class L3{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Ip(n,t){let e=null;for(let s=0;s<t.length;s++){const a=t[s],u=a.getPath();null!==e&&!Qh(u,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:u}),e.events.push(a)}e&&n.eventLists_.push(e)}function w_(n,t,e){Ip(n,e),I_(n,s=>Qh(s,t))}function Fs(n,t,e){Ip(n,e),I_(n,s=>$i(s,t)||$i(t,s))}function I_(n,t){n.recursionDepth_++;let e=!0;for(let s=0;s<n.eventLists_.length;s++){const a=n.eventLists_[s];a&&(t(a.path)?(r1(n.eventLists_[s]),n.eventLists_[s]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function r1(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const s=e.getEventRunner();rf&&Sr("event: "+e.toString()),ar(s)}}}const V3="repo_interrupt";class i1{constructor(t,e,s,a){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=s,this.appCheckProvider_=a,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new L3,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ap(),this.transactionQueueTree_=new _c,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function wf(n){const e=n.infoData_.getNode(new mn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function Tp(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:wf(n)})}function B3(n,t,e,s,a){n.dataUpdateCount++;const u=new mn(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let h=[];if(a)if(s){const C=(0,Y.UI)(e,S=>nr(S));h=function(n,t,e,s){const a=c_(n,s);if(a){const u=u_(a),h=u.path,_=u.queryId,C=Jr(h,t),S=En.fromObject(e);return bp(n,h,new pf(Z2(_),C,S))}return[]}(n.serverSyncTree_,u,C,a)}else{const C=nr(e);h=function(n,t,e,s){const a=c_(n,s);if(null!=a){const u=u_(a),h=u.path,_=u.queryId,C=Jr(h,t);return bp(n,h,new Uu(Z2(_),C,e))}return[]}(n.serverSyncTree_,u,C,a)}else if(s){const C=(0,Y.UI)(e,S=>nr(S));h=function(n,t,e){const s=En.fromObject(e);return zu(n,new pf({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,s))}(n.serverSyncTree_,u,C)}else{const C=nr(e);h=yp(n.serverSyncTree_,u,C)}let _=u;h.length>0&&(_=sl(n,u)),Fs(n.eventQueue_,_,h)}function hE(n,t){T_(n,"connected",t),!1===t&&function(n){il(n,"onDisconnectEvents");const t=Tp(n),e=ap();km(n.onDisconnect_,on(),(a,u)=>{const h=p_(a,u,n.serverSyncTree_,t);Vu(e,a,h)});let s=[];km(e,on(),(a,u)=>{s=s.concat(yp(n.serverSyncTree_,a,u));const h=a1(n,a);sl(n,h)}),n.onDisconnect_=ap(),Fs(n.eventQueue_,on(),s)}(n)}function T_(n,t,e){const s=new mn("/.info/"+t),a=nr(e);n.infoData_.updateSnapshot(s,a);const u=yp(n.infoSyncTree_,s,a);Fs(n.eventQueue_,s,u)}function o1(n){return n.nextWriteId_++}function S_(n,t,e,s,a){il(n,"set",{path:t.toString(),value:e,priority:s});const u=Tp(n),h=nr(e,s),_=Qm(n.serverSyncTree_,t),C=x3(h,_,u),S=o1(n),k=o_(n.serverSyncTree_,t,C,S,!0);Ip(n.eventQueue_,k),n.server_.put(t.toString(),h.val(!0),(Q,ye)=>{const Ee="ok"===Q;Ee||fi("set at "+t+" failed: "+Q);const Ve=da(n.serverSyncTree_,S,!Ee);Fs(n.eventQueue_,t,Ve),qi(0,a,Q,ye)});const L=a1(n,t);sl(n,L),Fs(n.eventQueue_,L,[])}function yE(n,t,e){n.server_.onDisconnectCancel(t.toString(),(s,a)=>{"ok"===s&&xm(n.onDisconnect_,t),qi(0,e,s,a)})}function j3(n,t,e,s){const a=nr(e);n.server_.onDisconnectPut(t.toString(),a.val(!0),(u,h)=>{"ok"===u&&Vu(n.onDisconnect_,t,a),qi(0,s,u,h)})}function A_(n,t,e){let s;s=".info"===Yt(t._path)?a_(n.infoSyncTree_,t,e):a_(n.serverSyncTree_,t,e),w_(n.eventQueue_,t._path,s)}function z3(n){n.persistentConnection_&&n.persistentConnection_.interrupt(V3)}function il(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),Sr(e,...t)}function qi(n,t,e,s){t&&ar(()=>{if("ok"===e)t(null);else{const a=(e||"error").toUpperCase();let u=a;s&&(u+=": "+s);const h=new Error(u);h.code=a,t(h)}})}function D_(n,t,e){return Qm(n.serverSyncTree_,t,e)||Bt.EMPTY_NODE}function R_(n,t=n.transactionQueueTree_){if(t||If(n,t),rl(t)){const e=M_(n,t);(0,Y.hu)(e.length>0,"Sending zero length transaction queue"),e.every(a=>0===a.status)&&function(n,t,e){const s=e.map(S=>S.currentWriteId),a=D_(n,t,s);let u=a;const h=a.hash();for(let S=0;S<e.length;S++){const k=e[S];(0,Y.hu)(0===k.status,"tryToSendTransactionQueue_: items in queue should all be run."),k.status=1,k.retryCount++;const L=Jr(t,k.path);u=u.updateChild(L,k.currentOutputSnapshotRaw)}const _=u.val(!0),C=t;n.server_.put(C.toString(),_,S=>{il(n,"transaction put response",{path:C.toString(),status:S});let k=[];if("ok"===S){const L=[];for(let Q=0;Q<e.length;Q++)e[Q].status=2,k=k.concat(da(n.serverSyncTree_,e[Q].currentWriteId)),e[Q].onComplete&&L.push(()=>e[Q].onComplete(null,!0,e[Q].currentOutputSnapshotResolved)),e[Q].unwatcher();If(n,m_(n.transactionQueueTree_,t)),R_(n,n.transactionQueueTree_),Fs(n.eventQueue_,t,k);for(let Q=0;Q<L.length;Q++)ar(L[Q])}else{if("datastale"===S)for(let L=0;L<e.length;L++)e[L].status=3===e[L].status?4:0;else{fi("transaction at "+C.toString()+" failed: "+S);for(let L=0;L<e.length;L++)e[L].status=4,e[L].abortReason=S}sl(n,t)}},h)}(n,Wi(t),e)}else k3(t)&&Xm(t,e=>{R_(n,e)})}function sl(n,t){const e=$3(n,t),s=Wi(e);return function(n,t,e){if(0===t.length)return;const s=[];let a=[];const h=t.filter(_=>0===_.status).map(_=>_.currentWriteId);for(let _=0;_<t.length;_++){const C=t[_],S=Jr(e,C.path);let L,k=!1;if((0,Y.hu)(null!==S,"rerunTransactionsUnderNode_: relativePath should not be null."),4===C.status)k=!0,L=C.abortReason,a=a.concat(da(n.serverSyncTree_,C.currentWriteId,!0));else if(0===C.status)if(C.retryCount>=25)k=!0,L="maxretry",a=a.concat(da(n.serverSyncTree_,C.currentWriteId,!0));else{const Q=D_(n,C.path,h);C.currentInputSnapshot=Q;const ye=t[_].update(Q.val());if(void 0!==ye){Ef("transaction failed: Data returned ",ye,C.path);let Ee=nr(ye);"object"==typeof ye&&null!=ye&&(0,Y.r3)(ye,".priority")||(Ee=Ee.updatePriority(Q.getPriority()));const $e=C.currentWriteId,ft=Tp(n),ut=x3(Ee,Q,ft);C.currentOutputSnapshotRaw=Ee,C.currentOutputSnapshotResolved=ut,C.currentWriteId=o1(n),h.splice(h.indexOf($e),1),a=a.concat(o_(n.serverSyncTree_,C.path,ut,C.currentWriteId,C.applyLocally)),a=a.concat(da(n.serverSyncTree_,$e,!0))}else k=!0,L="nodata",a=a.concat(da(n.serverSyncTree_,C.currentWriteId,!0))}Fs(n.eventQueue_,e,a),a=[],k&&(t[_].status=2,setTimeout(t[_].unwatcher,Math.floor(0)),t[_].onComplete&&s.push("nodata"===L?()=>t[_].onComplete(null,!1,t[_].currentInputSnapshot):()=>t[_].onComplete(new Error(L),!1,null)))}If(n,n.transactionQueueTree_);for(let _=0;_<s.length;_++)ar(s[_]);R_(n,n.transactionQueueTree_)}(n,M_(n,e),s),s}function $3(n,t){let e,s=n.transactionQueueTree_;for(e=Yt(t);null!==e&&void 0===rl(s);)s=m_(s,e),e=Yt(t=Sn(t));return s}function M_(n,t){const e=[];return P_(n,t,e),e.sort((s,a)=>s.order-a.order),e}function P_(n,t,e){const s=rl(t);if(s)for(let a=0;a<s.length;a++)e.push(s[a]);Xm(t,a=>{P_(n,a,e)})}function If(n,t){const e=rl(t);if(e){let s=0;for(let a=0;a<e.length;a++)2!==e[a].status&&(e[s]=e[a],s++);e.length=s,bf(t,e.length>0?e:void 0)}Xm(t,s=>{If(n,s)})}function a1(n,t){const e=Wi($3(n,t)),s=m_(n.transactionQueueTree_,t);return function(n,t,e){let s=n.parent;for(;null!==s;){if(t(s))return!0;s=s.parent}}(s,a=>{l1(n,a)}),l1(n,s),lE(s,a=>{l1(n,a)}),e}function l1(n,t){const e=rl(t);if(e){const s=[];let a=[],u=-1;for(let h=0;h<e.length;h++)3===e[h].status||(1===e[h].status?((0,Y.hu)(u===h-1,"All SENT items should be at beginning of queue."),u=h,e[h].status=3,e[h].abortReason="set"):((0,Y.hu)(0===e[h].status,"Unexpected transaction status in abort"),e[h].unwatcher(),a=a.concat(da(n.serverSyncTree_,e[h].currentWriteId,!0)),e[h].onComplete&&s.push(e[h].onComplete.bind(null,new Error("set"),!1,null))));-1===u?bf(t,void 0):e.length=u+1,Fs(n.eventQueue_,Wi(t),a);for(let h=0;h<s.length;h++)ar(s[h])}}const c1=function(n,t){const e=TE(n),s=e.namespace;return"firebase.com"===e.domain&&Ja(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||"undefined"===s)&&"localhost"!==e.domain&&Ja("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&fi("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new ym(e.host,e.secure,s,t,"ws"===e.scheme||"wss"===e.scheme,"",s!==e.subdomain),path:new mn(e.pathString)}},TE=function(n){let t="",e="",s="",a="",u="",h=!0,_="https",C=443;if("string"==typeof n){let S=n.indexOf("//");S>=0&&(_=n.substring(0,S-1),n=n.substring(S+2));let k=n.indexOf("/");-1===k&&(k=n.length);let L=n.indexOf("?");-1===L&&(L=n.length),t=n.substring(0,Math.min(k,L)),k<L&&(a=function(n){let t="";const e=n.split("/");for(let s=0;s<e.length;s++)if(e[s].length>0){let a=e[s];try{a=decodeURIComponent(a.replace(/\+/g," "))}catch(u){}t+="/"+a}return t}(n.substring(k,L)));const Q=function(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const s=e.split("=");2===s.length?t[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):fi(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,L)));S=t.indexOf(":"),S>=0?(h="https"===_||"wss"===_,C=parseInt(t.substring(S+1),10)):S=t.length;const ye=t.slice(0,S);if("localhost"===ye.toLowerCase())e="localhost";else if(ye.split(".").length<=2)e=ye;else{const Ee=t.indexOf(".");s=t.substring(0,Ee).toLowerCase(),e=t.substring(Ee+1),u=s}"ns"in Q&&(u=Q.ns)}return{host:t,port:C,domain:e,subdomain:s,secure:h,scheme:_,pathString:a,namespace:u}};class N_{constructor(t,e,s,a){this.eventType=t,this.eventRegistration=e,this.snapshot=s,this.prevName=a}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,Y.Pz)(this.snapshot.exportVal())}}class Ap{constructor(t,e,s){this.eventRegistration=t,this.error=e,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Dp{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,Y.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class SE{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new Y.BH;return yE(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){ks("OnDisconnect.remove",this._path);const t=new Y.BH;return j3(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){ks("OnDisconnect.set",this._path),xs("OnDisconnect.set",t,this._path,!1);const e=new Y.BH;return j3(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){ks("OnDisconnect.setWithPriority",this._path),xs("OnDisconnect.setWithPriority",t,this._path,!1),C_("OnDisconnect.setWithPriority",e,!1);const s=new Y.BH;return function(n,t,e,s,a){const u=nr(e,s);n.server_.onDisconnectPut(t.toString(),u.val(!0),(h,_)=>{"ok"===h&&Vu(n.onDisconnect_,t,u),qi(0,a,h,_)})}(this._repo,this._path,t,e,s.wrapCallback(()=>{})),s.promise}update(t){ks("OnDisconnect.update",this._path),b_("OnDisconnect.update",t,this._path,!1);const e=new Y.BH;return function(n,t,e,s){if((0,Y.xb)(e))return Sr("onDisconnect().update() called with empty data.  Don't do anything."),void qi(0,s,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(a,u)=>{"ok"===a&&qn(e,(h,_)=>{const C=nr(_);Vu(n.onDisconnect_,jn(t,h),C)}),qi(0,s,a,u)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class Ur{constructor(t,e,s,a){this._repo=t,this._path=e,this._queryParams=s,this._orderByCalled=a}get key(){return Wt(this._path)?null:Kh(this._path)}get ref(){return new hi(this._repo,this._path)}get _queryIdentifier(){const t=G2(this._queryParams),e=m2(t);return"{}"===e?"default":e}get _queryObject(){return G2(this._queryParams)}isEqual(t){if(!((t=(0,Y.m9)(t))instanceof Ur))return!1;const e=this._repo===t._repo,s=Qh(this._path,t._path);return e&&s&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function an(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Ni(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===bo){const s="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",a="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Xa)throw new Error(s);if("string"!=typeof t)throw new Error(a)}if(n.hasEnd()){if(n.getIndexEndName()!==la)throw new Error(s);if("string"!=typeof e)throw new Error(a)}}else if(n.getIndex()===An){if(null!=t&&!Ep(t)||null!=e&&!Ep(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,Y.hu)(n.getIndex()instanceof np||n.getIndex()===Ps,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function ol(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class hi extends Ur{constructor(t,e){super(t,e,new Pm,!1)}get parent(){const t=cf(this._path);return null===t?null:new hi(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class Tf{constructor(t,e,s){this._node=t,this.ref=e,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new mn(t),s=al(this.ref,t);return new Tf(this._node.getChild(e),s,An)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(s,a)=>t(new Tf(a,al(this.ref,s),An)))}hasChild(t){const e=new mn(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Ot(n,t){return(n=(0,Y.m9)(n))._checkNotDeleted("ref"),void 0!==t?al(n._root,t):n._root}function us(n,t){(n=(0,Y.m9)(n))._checkNotDeleted("refFromURL");const e=c1(t,n._repo.repoInfo_.nodeAdmin);E_("refFromURL",e);const s=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&s.host!==n._repo.repoInfo_.host&&Ja("refFromURL: Host name does not match the current database: (found "+s.host+" but expected "+n._repo.repoInfo_.host+")"),Ot(n,e.path.toString())}function al(n,t){return null===Yt((n=(0,Y.m9)(n))._path)?((e=t)&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),wp("child","path",e,!1)):wp("child","path",t,!1),new hi(n._repo,jn(n._path,t));var e}function u1(n,t){n=(0,Y.m9)(n),ks("set",n._path),xs("set",t,n._path,!1);const e=new Y.BH;return S_(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function DE(n,t){b_("update",t,n._path,!1);const e=new Y.BH;return function(n,t,e,s){il(n,"update",{path:t.toString(),value:e});let a=!0;const u=Tp(n),h={};if(qn(e,(_,C)=>{a=!1,h[_]=p_(jn(t,_),nr(C),n.serverSyncTree_,u)}),a)Sr("update() called with empty data.  Don't do anything."),qi(0,s,"ok",void 0);else{const _=o1(n),C=function(n,t,e,s){!function(n,t,e,s){(0,Y.hu)(s>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:s,visible:!0}),n.visibleWrites=K2(n.visibleWrites,t,e),n.lastWriteId=s}(n.pendingWriteTree_,t,e,s);const a=En.fromObject(e);return zu(n,new pf({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,a))}(n.serverSyncTree_,t,h,_);Ip(n.eventQueue_,C),n.server_.merge(t.toString(),e,(S,k)=>{const L="ok"===S;L||fi("update at "+t+" failed: "+S);const Q=da(n.serverSyncTree_,_,!L),ye=Q.length>0?sl(n,t):t;Fs(n.eventQueue_,ye,Q),qi(0,s,S,k)}),qn(e,S=>{const k=a1(n,jn(t,S));sl(n,k)}),Fs(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function Ls(n){return function(n,t){const e=function(n,t){const e=t._path;let s=null;n.syncPointTree_.foreachOnPath(e,(S,k)=>{const L=Jr(S,e);s=s||mc(k,L)});let a=n.syncPointTree_.get(e);a?s=s||mc(a,on()):(a=new v3,n.syncPointTree_=n.syncPointTree_.set(e,a));const u=null!=s,h=u?new hc(s,!0,!1):null;return function(n){return dp(n.viewCache_)}(C3(a,t,It(n.pendingWriteTree_,t._path),u?h.getNode():Bt.EMPTY_NODE,u))}(n.serverSyncTree_,t);return null!=e?Promise.resolve(e):n.server_.get(t).then(s=>{const a=nr(s).withIndex(t._queryParams.getIndex()),u=yp(n.serverSyncTree_,t._path,a);return w_(n.eventQueue_,t._path,u),Promise.resolve(a)},s=>(il(n,"get for query "+(0,Y.Pz)(t)+" failed: "+s),Promise.reject(new Error(s))))}((n=(0,Y.m9)(n))._repo,n).then(t=>new Tf(t,new hi(n._repo,n._path),n._queryParams.getIndex()))}class Dn{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const s=e._queryParams.getIndex();return new N_("value",this,new Tf(t.snapshotNode,new hi(e._repo,e._path),s))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new Ap(this,t,e):null}matches(t){return t instanceof Dn&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Zi{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new Ap(this,t,e):null}createEvent(t,e){(0,Y.hu)(null!=t.childName,"Child events should have a childName.");const s=al(new hi(e._repo,e._path),t.childName),a=e._queryParams.getIndex();return new N_(t.type,this,new Tf(t.snapshotNode,s,a),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof Zi&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Af(n,t,e,s,a){let u;if("object"==typeof s&&(u=void 0,a=s),"function"==typeof s&&(u=s),a&&a.onlyOnce){const C=e,S=(k,L)=>{A_(n._repo,n,_),C(k,L)};S.userCallback=e.userCallback,S.context=e.context,e=S}const h=new Dp(e,u||void 0),_="value"===t?new Dn(h):new Zi(t,h);return function(n,t,e){let s;s=".info"===Yt(t._path)?A3(n.infoSyncTree_,t,e):A3(n.serverSyncTree_,t,e),w_(n.eventQueue_,t._path,s)}(n._repo,n,_),()=>A_(n._repo,n,_)}function O_(n,t,e,s){return Af(n,"value",t,e,s)}function x_(n,t,e,s){return Af(n,"child_added",t,e,s)}function d1(n,t,e,s){return Af(n,"child_changed",t,e,s)}function Hu(n,t,e,s){return Af(n,"child_moved",t,e,s)}function Df(n,t,e,s){return Af(n,"child_removed",t,e,s)}function W3(n,t,e){let s=null;const a=e?new Dp(e):null;"value"===t?s=new Dn(a):t&&(s=new Zi(t,a)),A_(n._repo,n,s)}class Xr{}class q3 extends Xr{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){xs("endAt",this._value,t._path,!0);const e=Om(t._queryParams,this._value,this._key);if(ol(e),Ni(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ur(t._repo,t._path,e,t._orderByCalled)}}class k_ extends Xr{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){xs("endBefore",this._value,t._path,!1);const e=function(n,t,e){let s,a;return n.index_===bo?("string"==typeof t&&(t=B2(t)),a=Om(n,t,e)):(s=null==e?Xa:B2(e),a=Om(n,t,s)),a.endBeforeSet_=!0,a}(t._queryParams,this._value,this._key);if(ol(e),Ni(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ur(t._repo,t._path,e,t._orderByCalled)}}class f1 extends Xr{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){xs("startAt",this._value,t._path,!0);const e=z2(t._queryParams,this._value,this._key);if(ol(e),Ni(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ur(t._repo,t._path,e,t._orderByCalled)}}class Rf extends Xr{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){xs("startAfter",this._value,t._path,!1);const e=function(n,t,e){let s;if(n.index_===bo)"string"==typeof t&&(t=U2(t)),s=z2(n,t,e);else{let a;a=null==e?la:U2(e),s=z2(n,t,a)}return s.startAfterSet_=!0,s}(t._queryParams,this._value,this._key);if(ol(e),Ni(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Ur(t._repo,t._path,e,t._orderByCalled)}}class h1 extends Xr{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ur(t._repo,t._path,function(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class Q3 extends Xr{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ur(t._repo,t._path,function(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class p1 extends Xr{constructor(t){super(),this._path=t}_apply(t){an(t,"orderByChild");const e=new mn(this._path);if(Wt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const s=new np(e),a=Lu(t._queryParams,s);return Ni(a),new Ur(t._repo,t._path,a,!0)}}class F_ extends Xr{_apply(t){an(t,"orderByKey");const e=Lu(t._queryParams,bo);return Ni(e),new Ur(t._repo,t._path,e,!0)}}class hT extends Xr{_apply(t){an(t,"orderByPriority");const e=Lu(t._queryParams,An);return Ni(e),new Ur(t._repo,t._path,e,!0)}}class xt extends Xr{_apply(t){an(t,"orderByValue");const e=Lu(t._queryParams,Ps);return Ni(e),new Ur(t._repo,t._path,e,!0)}}class Mp extends Xr{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(xs("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new q3(this._value,this._key)._apply(new f1(this._value,this._key)._apply(t))}}function Io(n,...t){let e=(0,Y.m9)(n);for(const s of t)e=s._apply(e);return e}(function(n){(0,Y.hu)(!Ym,"__referenceConstructor has already been defined"),Ym=n})(hi),function(n){(0,Y.hu)(!yf,"__referenceConstructor has already been defined"),yf=n}(hi);const X3={};function ei(n,t,e,s,a){let u=s||n.options.databaseURL;void 0===u&&(n.options.projectId||Ja("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Sr("Using default host for project ",n.options.projectId),u=`${n.options.projectId}-default-rtdb.firebaseio.com`);let C,S,h=c1(u,a),_=h.repoInfo;"undefined"!=typeof process&&(S=process.env.FIREBASE_DATABASE_EMULATOR_HOST),S?(C=!0,u=`http://${S}?ns=${_.namespace}`,h=c1(u,a),_=h.repoInfo):C=!h.repoInfo.secure;const k=a&&C?new ca(ca.OWNER):new y2(n.name,n.options,t);E_("Invalid Firebase Database URL",h),Wt(h.path)||Ja("Database URL must point to the root of a Firebase Database (not including a child path).");const L=function(n,t,e,s){let a=X3[t.name];a||(a={},X3[t.name]=a);let u=a[n.toURLString()];return u&&Ja("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new i1(n,false,e,s),a[n.toURLString()]=u,u}(_,n,k,new Ms(n.name,e));return new LE(L,n)}class LE{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function(n,t,e){if(n.stats_=E2(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new op(n.repoInfo_,(s,a,u,h)=>{B3(n,s,a,u,h)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>hE(n,!0),0);else{if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,Y.Pz)(e)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}n.persistentConnection_=new fc(n.repoInfo_,t,(s,a,u,h)=>{B3(n,s,a,u,h)},s=>{hE(n,s)},s=>{!function(n,t){qn(t,(e,s)=>{T_(n,e,s)})}(n,s)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(s=>{n.server_.refreshAuthToken(s)}),n.appCheckProvider_.addTokenChangeListener(s=>{n.server_.refreshAppCheckToken(s.token)}),n.statsReporter_=function(n,t){const e=n.toString();return bm[e]||(bm[e]=t()),bm[e]}(n.repoInfo_,()=>new kC(n.stats_,n.server_)),n.infoData_=new X4,n.infoSyncTree_=new T3({startListening:(s,a,u,h)=>{let _=[];const C=n.infoData_.getNode(s._path);return C.isEmpty()||(_=yp(n.infoSyncTree_,s._path,C),setTimeout(()=>{h("ok")},0)),_},stopListening:()=>{}}),T_(n,"connected",!1),n.serverSyncTree_=new T3({startListening:(s,a,u,h)=>(n.server_.listen(s,u,a,(_,C)=>{const S=h(_,C);Fs(n.eventQueue_,s._path,S)}),[]),stopListening:(s,a)=>{n.server_.unlisten(s,a)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new hi(this._repo,on())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function(n,t){const e=X3[t];(!e||e[n.key]!==n)&&Ja(`Database ${t}(${n.repoInfo_}) has already been deleted.`),z3(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Ja("Cannot call "+t+" on a deleted database.")}}function jE(n,t){f2(n,t)}class B_{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}fc.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},fc.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},m4(os.SDK_VERSION),(0,os._registerComponent)(new oc.wA("database",(t,{instanceIdentifier:e})=>ei(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,os.registerVersion)(cC,"0.12.4",void 0),(0,os.registerVersion)(cC,"0.12.4","esm2017");const qE=new F0.Yd("@firebase/database-compat"),t6=function(n){qE.warn("FIREBASE WARNING: "+n)};class YE{constructor(t){this._delegate=t}cancel(t){(0,Y.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,Y.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),s=>t(s)),e}remove(t){(0,Y.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,Y.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),s=>t(s)),e}set(t,e){(0,Y.Dv)("OnDisconnect.set",1,2,arguments.length),(0,Y.Wj)("OnDisconnect.set","onComplete",e,!0);const s=this._delegate.set(t);return e&&s.then(()=>e(null),a=>e(a)),s}setWithPriority(t,e,s){(0,Y.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,Y.Wj)("OnDisconnect.setWithPriority","onComplete",s,!0);const a=this._delegate.setWithPriority(t,e);return s&&a.then(()=>s(null),u=>s(u)),a}update(t,e){if((0,Y.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const a={};for(let u=0;u<t.length;++u)a[""+u]=t[u];t=a,t6("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,Y.Wj)("OnDisconnect.update","onComplete",e,!0);const s=this._delegate.update(t);return e&&s.then(()=>e(null),a=>e(a)),s}}class KE{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,Y.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class ll{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,Y.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,Y.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,Y.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,Y.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,Y.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),wp("DataSnapshot.child","path",t,!1),new ll(this._database,this._delegate.child(t))}hasChild(t){return(0,Y.Dv)("DataSnapshot.hasChild",1,1,arguments.length),wp("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,Y.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,Y.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,Y.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new ll(this._database,e)))}hasChildren(){return(0,Y.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,Y.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,Y.Dv)("DataSnapshot.ref",0,0,arguments.length),new Vs(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class lr{constructor(t,e){this.database=t,this._delegate=e}on(t,e,s,a){var u;(0,Y.Dv)("Query.on",2,4,arguments.length),(0,Y.Wj)("Query.on","callback",e,!1);const h=lr.getCancelAndContextArgs_("Query.on",s,a),_=(S,k)=>{e.call(h.context,new ll(this.database,S),k)};_.userCallback=e,_.context=h.context;const C=null===(u=h.cancel)||void 0===u?void 0:u.bind(h.context);switch(t){case"value":return O_(this._delegate,_,C),e;case"child_added":return x_(this._delegate,_,C),e;case"child_removed":return Df(this._delegate,_,C),e;case"child_changed":return d1(this._delegate,_,C),e;case"child_moved":return Hu(this._delegate,_,C),e;default:throw new Error((0,Y.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,s){if((0,Y.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,Y.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,Y.Wj)("Query.off","callback",e,!0),(0,Y.lb)("Query.off","context",s,!0),e){const a=()=>{};a.userCallback=e,a.context=s,W3(this._delegate,t,a)}else W3(this._delegate,t)}get(){return Ls(this._delegate).then(t=>new ll(this.database,t))}once(t,e,s,a){(0,Y.Dv)("Query.once",1,4,arguments.length),(0,Y.Wj)("Query.once","callback",e,!0);const u=lr.getCancelAndContextArgs_("Query.once",s,a),h=new Y.BH,_=(S,k)=>{const L=new ll(this.database,S);e&&e.call(u.context,L,k),h.resolve(L)};_.userCallback=e,_.context=u.context;const C=S=>{u.cancel&&u.cancel.call(u.context,S),h.reject(S)};switch(t){case"value":O_(this._delegate,_,C,{onlyOnce:!0});break;case"child_added":x_(this._delegate,_,C,{onlyOnce:!0});break;case"child_removed":Df(this._delegate,_,C,{onlyOnce:!0});break;case"child_changed":d1(this._delegate,_,C,{onlyOnce:!0});break;case"child_moved":Hu(this._delegate,_,C,{onlyOnce:!0});break;default:throw new Error((0,Y.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return h.promise}limitToFirst(t){return(0,Y.Dv)("Query.limitToFirst",1,1,arguments.length),new lr(this.database,Io(this._delegate,function(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new h1(n)}(t)))}limitToLast(t){return(0,Y.Dv)("Query.limitToLast",1,1,arguments.length),new lr(this.database,Io(this._delegate,function(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Q3(n)}(t)))}orderByChild(t){return(0,Y.Dv)("Query.orderByChild",1,1,arguments.length),new lr(this.database,Io(this._delegate,function(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return wp("orderByChild","path",n,!1),new p1(n)}(t)))}orderByKey(){return(0,Y.Dv)("Query.orderByKey",0,0,arguments.length),new lr(this.database,Io(this._delegate,new F_))}orderByPriority(){return(0,Y.Dv)("Query.orderByPriority",0,0,arguments.length),new lr(this.database,Io(this._delegate,new hT))}orderByValue(){return(0,Y.Dv)("Query.orderByValue",0,0,arguments.length),new lr(this.database,Io(this._delegate,new xt))}startAt(t=null,e){return(0,Y.Dv)("Query.startAt",0,2,arguments.length),new lr(this.database,Io(this._delegate,function(n=null,t){return n1("startAt","key",t,!0),new f1(n,t)}(t,e)))}startAfter(t=null,e){return(0,Y.Dv)("Query.startAfter",0,2,arguments.length),new lr(this.database,Io(this._delegate,function(n,t){return n1("startAfter","key",t,!0),new Rf(n,t)}(t,e)))}endAt(t=null,e){return(0,Y.Dv)("Query.endAt",0,2,arguments.length),new lr(this.database,Io(this._delegate,function(n,t){return n1("endAt","key",t,!0),new q3(n,t)}(t,e)))}endBefore(t=null,e){return(0,Y.Dv)("Query.endBefore",0,2,arguments.length),new lr(this.database,Io(this._delegate,function(n,t){return n1("endBefore","key",t,!0),new k_(n,t)}(t,e)))}equalTo(t,e){return(0,Y.Dv)("Query.equalTo",1,2,arguments.length),new lr(this.database,Io(this._delegate,function(n,t){return n1("equalTo","key",t,!0),new Mp(n,t)}(t,e)))}toString(){return(0,Y.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,Y.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,Y.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof lr))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,s){const a={cancel:void 0,context:void 0};if(e&&s)a.cancel=e,(0,Y.Wj)(t,"cancel",a.cancel,!0),a.context=s,(0,Y.lb)(t,"context",a.context,!0);else if(e)if("object"==typeof e&&null!==e)a.context=e;else{if("function"!=typeof e)throw new Error((0,Y.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");a.cancel=e}return a}get ref(){return new Vs(this.database,new hi(this._delegate._repo,this._delegate._path))}}class Vs extends lr{constructor(t,e){super(t,new Ur(e._repo,e._path,new Pm,!1)),this.database=t,this._delegate=e}getKey(){return(0,Y.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,Y.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new Vs(this.database,al(this._delegate,t))}getParent(){(0,Y.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new Vs(this.database,t):null}getRoot(){return(0,Y.Dv)("Reference.root",0,0,arguments.length),new Vs(this.database,this._delegate.root)}set(t,e){(0,Y.Dv)("Reference.set",1,2,arguments.length),(0,Y.Wj)("Reference.set","onComplete",e,!0);const s=u1(this._delegate,t);return e&&s.then(()=>e(null),a=>e(a)),s}update(t,e){if((0,Y.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const a={};for(let u=0;u<t.length;++u)a[""+u]=t[u];t=a,t6("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ks("Reference.update",this._delegate._path),(0,Y.Wj)("Reference.update","onComplete",e,!0);const s=DE(this._delegate,t);return e&&s.then(()=>e(null),a=>e(a)),s}setWithPriority(t,e,s){(0,Y.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,Y.Wj)("Reference.setWithPriority","onComplete",s,!0);const a=function(n,t,e){if(ks("setWithPriority",n._path),xs("setWithPriority",t,n._path,!1),C_("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const s=new Y.BH;return S_(n._repo,n._path,t,e,s.wrapCallback(()=>{})),s.promise}(this._delegate,t,e);return s&&a.then(()=>s(null),u=>s(u)),a}remove(t){(0,Y.Dv)("Reference.remove",0,1,arguments.length),(0,Y.Wj)("Reference.remove","onComplete",t,!0);const e=function(n){return ks("remove",n._path),u1(n,null)}(this._delegate);return t&&e.then(()=>t(null),s=>t(s)),e}transaction(t,e,s){(0,Y.Dv)("Reference.transaction",1,3,arguments.length),(0,Y.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,Y.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,s){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,Y.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,s);const a=function(n,t,e){var s;if(n=(0,Y.m9)(n),ks("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const a=null===(s=null==e?void 0:e.applyLocally)||void 0===s||s,u=new Y.BH,_=O_(n,()=>{});return function(n,t,e,s,a,u){il(n,"transaction on "+t);const h={path:t,update:e,onComplete:s,status:null,order:uC(),applyLocally:u,retryCount:0,unwatcher:a,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},_=D_(n,t,void 0);h.currentInputSnapshot=_;const C=h.update(_.val());if(void 0===C)h.unwatcher(),h.currentOutputSnapshotRaw=null,h.currentOutputSnapshotResolved=null,h.onComplete&&h.onComplete(null,!1,h.currentInputSnapshot);else{Ef("transaction failed: Data returned ",C,h.path),h.status=0;const S=m_(n.transactionQueueTree_,t),k=rl(S)||[];let L;k.push(h),bf(S,k),"object"==typeof C&&null!==C&&(0,Y.r3)(C,".priority")?(L=(0,Y.DV)(C,".priority"),(0,Y.hu)(Ep(L),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):L=(Qm(n.serverSyncTree_,t)||Bt.EMPTY_NODE).getPriority().val();const Q=Tp(n),ye=nr(C,L),Ee=x3(ye,_,Q);h.currentOutputSnapshotRaw=ye,h.currentOutputSnapshotResolved=Ee,h.currentWriteId=o1(n);const Ve=o_(n.serverSyncTree_,t,Ee,h.currentWriteId,h.applyLocally);Fs(n.eventQueue_,t,Ve),R_(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(C,S,k)=>{let L=null;C?u.reject(C):(L=new Tf(k,new hi(n._repo,n._path),An),u.resolve(new B_(S,L)))},_,a),u.promise}(this._delegate,t,{applyLocally:s}).then(u=>new KE(u.committed,new ll(this.database,u.snapshot)));return e&&a.then(u=>e(null,u.committed,u.snapshot),u=>e(u,!1,null)),a}setPriority(t,e){(0,Y.Dv)("Reference.setPriority",1,2,arguments.length),(0,Y.Wj)("Reference.setPriority","onComplete",e,!0);const s=function(n,t){n=(0,Y.m9)(n),ks("setPriority",n._path),C_("setPriority",t,!1);const e=new Y.BH;return S_(n._repo,jn(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&s.then(()=>e(null),a=>e(a)),s}push(t,e){(0,Y.Dv)("Reference.push",0,2,arguments.length),(0,Y.Wj)("Reference.push","onComplete",e,!0);const s=function(n,t){n=(0,Y.m9)(n),ks("push",n._path),xs("push",t,n._path,!0);const e=wf(n._repo),s=Eo(e),a=al(n,s),u=al(n,s);let h;return h=null!=t?u1(u,t).then(()=>u):Promise.resolve(u),a.then=h.then.bind(h),a.catch=h.then.bind(h,void 0),a}(this._delegate,t),a=s.then(h=>new Vs(this.database,h));e&&a.then(()=>e(null),h=>e(h));const u=new Vs(this.database,s);return u.then=a.then.bind(a),u.catch=a.catch.bind(a,void 0),u}onDisconnect(){return ks("Reference.onDisconnect",this._delegate._path),new YE(new SE(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Mf{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete()}}useEmulator(t,e,s={}){!function(n,t,e,s={}){(n=(0,Y.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Ja("Cannot call useEmulator() after instance has already been initialized.");const a=n._repoInternal;let u;if(a.repoInfo_.nodeAdmin)s.mockUserToken&&Ja('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),u=new ca(ca.OWNER);else if(s.mockUserToken){const h="string"==typeof s.mockUserToken?s.mockUserToken:(0,Y.Sg)(s.mockUserToken,n.app.options.projectId);u=new ca(h)}!function(n,t,e,s){n.repoInfo_=new ym(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),s&&(n.authTokenProvider_=s)}(a,t,e,u)}(this._delegate,t,e,s)}ref(t){if((0,Y.Dv)("database.ref",0,1,arguments.length),t instanceof Vs){const e=us(this._delegate,t.toString());return new Vs(this,e)}{const e=Ot(this._delegate,t);return new Vs(this,e)}}refFromURL(t){(0,Y.Dv)("database.refFromURL",1,1,arguments.length);const s=us(this._delegate,t);return new Vs(this,s)}goOffline(){return(0,Y.Dv)("database.goOffline",0,0,arguments.length),function(n){(n=(0,Y.m9)(n))._checkNotDeleted("goOffline"),z3(n._repo)}(this._delegate)}goOnline(){return(0,Y.Dv)("database.goOnline",0,0,arguments.length),function(n){(n=(0,Y.m9)(n))._checkNotDeleted("goOnline"),function(n){n.persistentConnection_&&n.persistentConnection_.resume(V3)}(n._repo)}(this._delegate)}}Mf.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:n=>function(n){return{".sv":{increment:n}}}(n)};var JE=Object.freeze({__proto__:null,initStandalone:function({app:n,url:t,version:e,customAuthImpl:s,namespace:a,nodeAdmin:u=!1}){m4(e);const h=new oc.zt("auth-internal",new oc.H0("database-standalone"));return h.setComponent(new oc.wA("auth-internal",()=>s,"PRIVATE")),{instance:new Mf(ei(n,h,void 0,t,u),n),namespace:a}}});const XE=Mf.ServerValue;function r6(n){return null==n}function i6(n){return"function"==typeof n.set}function n5(n,t){return i6(t)?t:n.ref(t)}function r5(n,t){if(function(n){return"string"==typeof n}(n))return t.stringCase();if(i6(n))return t.firebaseCase();if(function(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function g1(n,t,e="on",s=d4.z){return new pr.y(a=>{let u=null;return u=n[e](t,(h,_)=>{s.schedule(()=>{a.next({snapshot:h,prevKey:_})}),"once"===e&&s.schedule(()=>a.complete())},h=>{s.schedule(()=>a.error(h))}),"on"===e?{unsubscribe(){null!=u&&n.off(t,u)}}:{unsubscribe(){}}}).pipe((0,Vt.U)(a=>{const{snapshot:u,prevKey:h}=a;let _=null;return u.exists()&&(_=u.key),{type:t,payload:u,prevKey:h,key:_}}),(0,sC.B)())}function s6(n,t){const e=n.length;for(let s=0;s<e;s++)if(n[s].payload.key===t)return s;return-1}function s5(n,t){const{payload:e,prevKey:s,key:a}=t,u=s6(n,a),h=function(n,t){if(r6(t))return 0;{const e=s6(n,t);return-1===e?n.length:e+1}}(n,s);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let _=null;t.payload.forEach(C=>{const S={payload:C,type:"value",prevKey:_,key:C.key};return _=C.key,n=[...n,S],!1})}return n;case"child_added":if(u>-1){const _=n[u-1];(_&&_.key||null)!==s&&(n=n.filter(C=>C.payload.key!==e.key)).splice(h,0,t)}else{if(null==s)return[t,...n];(n=n.slice()).splice(h,0,t)}return n;case"child_removed":return n.filter(_=>_.payload.key!==e.key);case"child_changed":return n.map(_=>_.payload.key===a?t:_);case"child_moved":if(u>-1){const _=n.splice(u,1)[0];return(n=n.slice()).splice(h,0,_),n}return n;default:return n}}function o6(n){return(r6(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function a6(n,t,e){return function(n,t,e){return g1(n,"value","once",e).pipe($n(s=>{const a=[(0,pt.of)(s)];return t.forEach(u=>a.push(g1(n,u,"on",e))),(0,M0.T)(...a).pipe(Vl(s5,[]))}),e=>e.lift(new l2(void 0,void 0)))}(n,t=o6(t),e)}function l6(n,t,e){const s=(t=o6(t)).map(a=>g1(n,a,"on",e));return(0,M0.T)(...s)}function $u(n,t){return function(s,a){return r5(s,{stringCase:()=>n.child(s)[t](a),firebaseCase:()=>s[t](a),snapshotCase:()=>s.ref[t](a)})}}function pi(n){return function(e){return e?r5(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function Us(n,t){return function(){return g1(n,"value","on",t)}}!function(n){n.INTERNAL.registerComponent(new oc.wA("database-compat",(t,{instanceIdentifier:e})=>{const s=t.getProvider("app-compat").getImmediate(),a=t.getProvider("database").getImmediate({identifier:e});return new Mf(a,s)},"PUBLIC").setServiceProps({Reference:Vs,Query:lr,Database:Mf,DataSnapshot:ll,enableLogging:jE,INTERNAL:JE,ServerValue:XE}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.1.4")}(c2.Z);const a5=new d.OlP("angularfire2.realtimeDatabaseURL"),d6=new d.OlP("angularfire2.database.use-emulator");let Pf=(()=>{class n{constructor(e,s,a,u,h,_,C,S,k,L,Q,ye,Ee,Ve,$e){this.schedulers=_;const ft=C,ut=(0,Wn.on)(e,h,s);S&&s4(ut,h,k,Q,ye,Ee,L,Ve),this.database=(0,Wn.cc)(`${ut.name}.database.${a}`,"AngularFireDatabase",ut.name,()=>{const _t=h.runOutsideAngular(()=>ut.database(a||void 0));return ft&&_t.useEmulator(...ft),_t},[ft])}list(e,s){const a=this.schedulers.ngZone.runOutsideAngular(()=>n5(this.database,e));let u=a;return s&&(u=s(a)),function(n,t){const e=t.schedulers.outsideAngular,s=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:$u(s,"update"),set:$u(s,"set"),push:a=>s.push(a),remove:pi(s),snapshotChanges:a=>a6(n,a,e).pipe(or.iC),stateChanges:a=>l6(n,a,e).pipe(or.iC),auditTrail:a=>function(n,t,e){return function(n,t,e){return function(n,t){return g1(n,"value","on",t).pipe((0,Vt.U)(e=>{let s;return e.payload.forEach(a=>(s=a.key,!1)),{data:e,lastKeyToLoad:s}}))}(n,e).pipe(function(...n){return t=>{let e;return"function"==typeof n[n.length-1]&&(e=n.pop()),t.lift(new p4(n,e))}}(t),(0,Vt.U)(([a,u])=>{const h=a.lastKeyToLoad,_=u.map(C=>C.key);return{actions:u,lastKeyToLoad:h,loadedKeys:_}}),function(n){return t=>t.lift(new aC(n))}(a=>-1===a.loadedKeys.indexOf(a.lastKeyToLoad)),(0,Vt.U)(a=>a.actions))}(n,l6(n,t).pipe(Vl((a,u)=>[...a,u],[])),e)}(n,a,e).pipe(or.iC),valueChanges:(a,u)=>a6(n,a,e).pipe((0,Vt.U)(_=>_.map(C=>u&&u.idField?Object.assign(Object.assign({},C.payload.val()),{[u.idField]:C.key}):C.payload.val())),or.iC)}}(u,this)}object(e){return function(n,t){return{query:n,snapshotChanges:()=>Us(n,t.schedulers.outsideAngular)().pipe(or.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>Us(n,t.schedulers.outsideAngular)().pipe(or.iC,(0,Vt.U)(s=>s.payload.exists()?s.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>n5(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(Wn.Dh),d.LFG(Wn.xv,8),d.LFG(a5,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(or.HU),d.LFG(d6,8),d.LFG(jh,8),d.LFG(um,8),d.LFG(t2,8),d.LFG(r4,8),d.LFG(n2,8),d.LFG(i4,8),d.LFG(dm,8),d.LFG(ef,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),f6=(()=>{class n{constructor(){wu.Z.registerVersion("angularfire",or.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[Pf]}),n})();class c5{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new u5(t,this.dueTime,this.scheduler))}}class u5 extends bn.L{constructor(t,e,s){super(t),this.dueTime=e,this.scheduler=s,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(h6,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function h6(n){n.debouncedNext()}const p6="firebasestorage.googleapis.com",d5="storageBucket";class In extends Y.ZR{constructor(t,e){super(g6(t),`Firebase Storage: ${e} (${g6(t)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,In.prototype)}_codeEquals(t){return g6(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function g6(n){return"storage/"+n}function m1(){return new In("unknown","An unknown error occurred, please check the error payload for server response.")}function y6(){return new In("canceled","User canceled the upload/download.")}function v6(){return new In("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Nf(n){return new In("invalid-argument",n)}function b6(){return new In("app-deleted","The Firebase app was deleted.")}function Of(n){return new In("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function xf(n,t){return new In("invalid-format","String does not match format '"+n+"': "+t)}function Np(n){throw new In("internal-error","Internal error: "+n)}class ti{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let s;try{s=ti.makeFromUrl(t,e)}catch(a){return new ti(t,"")}if(""===s.path)return s;throw function(n){return new In("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let s=null;const a="([A-Za-z0-9.\\-_]+)",_=new RegExp("^gs://"+a+"(/(.*))?$","i");function S(at){at.path_=decodeURIComponent(at.path)}const L=e.replace(/[.]/g,"\\."),_t=[{regex:_,indices:{bucket:1,path:3},postModify:function(at){"/"===at.path.charAt(at.path.length-1)&&(at.path_=at.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${L}/v[A-Za-z0-9_]+/b/${a}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:S},{regex:new RegExp(`^https?://${e===p6?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${a}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:S}];for(let at=0;at<_t.length;at++){const _n=_t[at],fn=_n.regex.exec(t);if(fn){let xi=fn[_n.indices.path];xi||(xi=""),s=new ti(fn[_n.indices.bucket],xi),_n.postModify(s);break}}if(null==s)throw function(n){return new In("invalid-url","Invalid URL '"+n+"'.")}(t);return s}}class C6{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function _1(n){return"string"==typeof n||n instanceof String}function S6(n){return G_()&&n instanceof Blob}function G_(){return"undefined"!=typeof Blob}function Gu(n,t,e,s){if(s<t)throw Nf(`Invalid value for '${n}'. Expected ${t} or greater.`);if(s>e)throw Nf(`Invalid value for '${n}'. Expected ${e} or less.`)}function Bs(n,t,e){let s=t;return null==e&&(s=`https://${t}`),`${e}://${s}/v0${n}`}function A6(n){const t=encodeURIComponent;let e="?";for(const s in n)n.hasOwnProperty(s)&&(e=e+(t(s)+"=")+t(n[s])+"&");return e=e.slice(0,-1),e}var fa=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(fa||(fa={})),fa))();class ha{constructor(t,e,s,a,u,h,_,C,S,k,L){this.url_=t,this.method_=e,this.headers_=s,this.body_=a,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=_,this.errorCallback_=C,this.timeout_=S,this.progressCallback_=k,this.connectionFactory_=L,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Q,ye)=>{this.resolve_=Q,this.reject_=ye,this.start_()})}start_(){const e=(s,a)=>{const u=this.resolve_,h=this.reject_,_=a.connection;if(a.wasSuccessCode)try{const C=this.callback_(_,_.getResponseText());!function(n){return void 0!==n}(C)?u():u(C)}catch(C){h(C)}else if(null!==_){const C=m1();C.serverResponse=_.getResponseText(),h(this.errorCallback_?this.errorCallback_(_,C):C)}else h(a.canceled?this.appDelete_?b6():y6():new In("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))};this.canceled_?e(0,new y1(!1,null,!0)):this.backoffId_=function(n,t,e){let s=1,a=null,u=null,h=!1,_=0;function C(){return 2===_}let S=!1;function k(...$e){S||(S=!0,t.apply(null,$e))}function L($e){a=setTimeout(()=>{a=null,n(ye,C())},$e)}function Q(){u&&clearTimeout(u)}function ye($e,...ft){if(S)return void Q();if($e)return Q(),void k.call(null,$e,...ft);if(C()||h)return Q(),void k.call(null,$e,...ft);let _t;s<64&&(s*=2),1===_?(_=2,_t=0):_t=1e3*(s+Math.random()),L(_t)}let Ee=!1;function Ve($e){Ee||(Ee=!0,Q(),!S&&(null!==a?($e||(_=2),clearTimeout(a),L(0)):$e||(_=1)))}return L(0),u=setTimeout(()=>{h=!0,Ve(!0)},e),Ve}((s,a)=>{if(a)return void s(!1,new y1(!1,null,!0));const u=this.connectionFactory_();this.pendingConnection_=u;const h=_=>{null!==this.progressCallback_&&this.progressCallback_(_.loaded,_.lengthComputable?_.total:-1)};null!==this.progressCallback_&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const _=u.getErrorCode()===fa.NO_ERROR,C=u.getStatus();if(!_||this.isRetryStatusCode_(C)){const k=u.getErrorCode()===fa.ABORT;return void s(!1,new y1(!1,null,k))}const S=-1!==this.successCodes_.indexOf(C);s(!0,new y1(S,u))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(t){const e=t>=500&&t<600,a=-1!==[408,429].indexOf(t),u=-1!==this.additionalRetryCodes_.indexOf(t);return e||a||u}}class y1{constructor(t,e,s){this.wasSuccessCode=t,this.connection=e,this.canceled=!!s}}function D6(...n){const t="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==t){const e=new t;for(let s=0;s<n.length;s++)e.append(n[s]);return e.getBlob()}if(G_())return new Blob(n);throw new In("unsupported-environment","This browser doesn't seem to support creating Blobs")}const ds={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class K_{constructor(t,e){this.data=t,this.contentType=e||null}}function Q_(n,t){switch(n){case ds.RAW:return new K_(R6(t));case ds.BASE64:case ds.BASE64URL:return new K_(b1(n,t));case ds.DATA_URL:return new K_(function(n){const t=new J_(n);return t.base64?b1(ds.BASE64,t.rest):function(n){let t;try{t=decodeURIComponent(n)}catch(e){throw xf(ds.DATA_URL,"Malformed data URL.")}return R6(t)}(t.rest)}(t),function(n){return new J_(n).contentType}(t))}throw m1()}function R6(n){const t=[];for(let e=0;e<n.length;e++){let s=n.charCodeAt(e);s<=127?t.push(s):s<=2047?t.push(192|s>>6,128|63&s):55296==(64512&s)?e<n.length-1&&56320==(64512&n.charCodeAt(e+1))?(s=65536|(1023&s)<<10|1023&n.charCodeAt(++e),t.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|63&s)):t.push(239,191,189):56320==(64512&s)?t.push(239,191,189):t.push(224|s>>12,128|s>>6&63,128|63&s)}return new Uint8Array(t)}function b1(n,t){switch(n){case ds.BASE64:{const a=-1!==t.indexOf("-"),u=-1!==t.indexOf("_");if(a||u)throw xf(n,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case ds.BASE64URL:{const a=-1!==t.indexOf("+"),u=-1!==t.indexOf("/");if(a||u)throw xf(n,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function(n){return atob(n)}(t)}catch(a){throw xf(n,"Invalid character found")}const s=new Uint8Array(e.length);for(let a=0;a<e.length;a++)s[a]=e.charCodeAt(a);return s}class J_{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw xf(ds.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=e[1]||null;null!=s&&(this.base64=function(n,t){return n.length>=t.length&&n.substring(n.length-t.length)===t}(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-";base64".length):s),this.rest=t.substring(t.indexOf(",")+1)}}class pa{constructor(t,e){let s=0,a="";S6(t)?(this.data_=t,s=t.size,a=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),s=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),s=t.length),this.size_=s,this.type_=a}size(){return this.size_}type(){return this.type_}slice(t,e){if(S6(this.data_)){const a=function(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}(this.data_,t,e);return null===a?null:new pa(a)}{const s=new Uint8Array(this.data_.buffer,t,e-t);return new pa(s,!0)}}static getBlob(...t){if(G_()){const e=t.map(s=>s instanceof pa?s.data_:s);return new pa(D6.apply(null,e))}{const e=t.map(h=>_1(h)?Q_(ds.RAW,h).data:h.data_);let s=0;e.forEach(h=>{s+=h.byteLength});const a=new Uint8Array(s);let u=0;return e.forEach(h=>{for(let _=0;_<h.length;_++)a[u++]=h[_]}),new pa(a,!0)}}uploadData(){return this.data_}}function C1(n){let t;try{t=JSON.parse(n)}catch(e){return null}return function(n){return"object"==typeof n&&!Array.isArray(n)}(t)?t:null}function X_(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}function x6(n,t){return t}class Yi{constructor(t,e,s,a){this.server=t,this.local=e||t,this.writable=!!s,this.xform=a||x6}}let Br=null;function Op(){if(Br)return Br;const n=[];n.push(new Yi("bucket")),n.push(new Yi("generation")),n.push(new Yi("metageneration")),n.push(new Yi("name","fullPath",!0));const e=new Yi("name");e.xform=function(u,h){return function(n){return!_1(n)||n.length<2?n:X_(n)}(h)},n.push(e);const a=new Yi("size");return a.xform=function(u,h){return void 0!==h?Number(h):h},n.push(a),n.push(new Yi("timeCreated")),n.push(new Yi("updated")),n.push(new Yi("md5Hash",null,!0)),n.push(new Yi("cacheControl",null,!0)),n.push(new Yi("contentDisposition",null,!0)),n.push(new Yi("contentEncoding",null,!0)),n.push(new Yi("contentLanguage",null,!0)),n.push(new Yi("contentType",null,!0)),n.push(new Yi("metadata","customMetadata",!0)),Br=n,Br}function Ff(n,t,e){const s=C1(t);return null===s?null:function(n,t,e){const s={type:"file"},a=e.length;for(let u=0;u<a;u++){const h=e[u];s[h.local]=h.xform(s,t[h.server])}return function(n,t){Object.defineProperty(n,"ref",{get:function(){const u=new ti(n.bucket,n.fullPath);return t._makeStorageReference(u)}})}(s,n),s}(n,s,e)}function xp(n,t){const e={},s=t.length;for(let a=0;a<s;a++){const u=t[a];u.writable&&(e[u.server]=n[u.local])}return JSON.stringify(e)}const k6="prefixes";class To{constructor(t,e,s,a){this.url=t,this.method=e,this.handler=s,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function So(n){if(!n)throw m1()}function kp(n,t){return function(s,a){const u=Ff(n,a,t);return So(null!==u),u}}function Fp(n){return function(e,s){let a;return a=401===e.getStatus()?e.getResponseText().includes("Firebase App Check token is invalid")?new In("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new In("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?function(n){return new In("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===e.getStatus()?function(n){return new In("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):s,a.serverResponse=s.serverResponse,a}}function Lp(n){const t=Fp(n);return function(s,a){let u=t(s,a);return 404===s.getStatus()&&(u=function(n){return new In("object-not-found","Object '"+n+"' does not exist.")}(n.path)),u.serverResponse=a.serverResponse,u}}function F6(n,t,e){const a=Bs(t.fullServerUrl(),n.host,n._protocol),h=n.maxOperationRetryTime,_=new To(a,"GET",kp(n,e),h);return _.errorHandler=Lp(t),_}function L6(n,t,e,s,a){const u={};u.prefix=t.isRoot?"":t.path+"/",e&&e.length>0&&(u.delimiter=e),s&&(u.pageToken=s),a&&(u.maxResults=a);const _=Bs(t.bucketOnlyServerUrl(),n.host,n._protocol),S=n.maxOperationRetryTime,k=new To(_,"GET",function(n,t){return function(s,a){const u=function(n,t,e){const s=C1(e);return null===s?null:function(n,t,e){const s={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[k6])for(const a of e[k6]){const u=a.replace(/\/$/,""),h=n._makeStorageReference(new ti(t,u));s.prefixes.push(h)}if(e.items)for(const a of e.items){const u=n._makeStorageReference(new ti(t,a.name));s.items.push(u)}return s}(n,t,s)}(n,t,a);return So(null!==u),u}}(n,t.bucket),S);return k.urlParams=u,k.errorHandler=Fp(t),k}function I1(n,t,e){const s=Object.assign({},e);return s.fullPath=n.path,s.size=t.size(),s.contentType||(s.contentType=function(n,t){return t&&t.type()||"application/octet-stream"}(0,t)),s}class T1{constructor(t,e,s,a){this.current=t,this.total=e,this.finalized=!!s,this.metadata=a||null}}function S1(n,t){let e=null;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch(a){So(!1)}return So(!!e&&-1!==(t||["active"]).indexOf(e)),e}const $6={STATE_CHANGED:"state_changed"},Oi={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function ry(n){switch(n){case"running":case"pausing":case"canceling":return Oi.RUNNING;case"paused":return Oi.PAUSED;case"success":return Oi.SUCCESS;case"canceled":return Oi.CANCELED;case"error":default:return Oi.ERROR}}class G6{constructor(t,e,s){if(function(n){return"function"==typeof n}(t)||null!=e||null!=s)this.next=t,this.error=null!=e?e:void 0,this.complete=null!=s?s:void 0;else{const u=t;this.next=u.next,this.error=u.error,this.complete=u.complete}}}function Lf(n){return(...t)=>{Promise.resolve().then(()=>n(...t))}}class W6{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=fa.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=fa.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=fa.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,s,a){if(this.sent_)throw Np("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==a)for(const u in a)a.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,a[u].toString());return void 0!==s?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Np("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Np("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}}getResponseText(){if(!this.sent_)throw Np("cannot .getResponseText() before sending");return this.xhr_.responseText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}function js(){return new W6}class sy{constructor(t,e,s=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=s,this._mappings=Op(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=a=>{this._request=void 0,this._chunkMultiplier=1,a._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=a,this._transition("error"))},this._metadataErrorHandler=a=>{this._request=void 0,a._codeEquals("canceled")?this.completeTransitions_():(this._error=a,this._transition("error"))},this._promise=new Promise((a,u)=>{this._resolve=a,this._reject=u,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,s])=>{switch(this._state){case"running":t(e,s);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,e)=>{const s=function(n,t,e,s,a){const u=t.bucketOnlyServerUrl(),h=I1(t,s,a),_={name:h.fullPath},C=Bs(u,n.host,n._protocol),k={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${s.size()}`,"X-Goog-Upload-Header-Content-Type":h.contentType,"Content-Type":"application/json; charset=utf-8"},L=xp(h,e),Ee=new To(C,"POST",function(Ve){let $e;S1(Ve);try{$e=Ve.getResponseHeader("X-Goog-Upload-URL")}catch(ft){So(!1)}return So(_1($e)),$e},n.maxUploadRetryTime);return Ee.urlParams=_,Ee.headers=k,Ee.body=L,Ee.errorHandler=Fp(t),Ee}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(s,js,t,e);this._request=a,a.getPromise().then(u=>{this._request=void 0,this._uploadUrl=u,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,s)=>{const a=function(n,t,e,s){const C=new To(e,"POST",function(S){const k=S1(S,["active","final"]);let L=null;try{L=S.getResponseHeader("X-Goog-Upload-Size-Received")}catch(ye){So(!1)}L||So(!1);const Q=Number(L);return So(!isNaN(Q)),new T1(Q,s.size(),"final"===k)},n.maxUploadRetryTime);return C.headers={"X-Goog-Upload-Command":"query"},C.errorHandler=Fp(t),C}(this._ref.storage,this._ref._location,t,this._blob),u=this._ref.storage._makeRequest(a,js,e,s);this._request=u,u.getPromise().then(h=>{h=h,this._request=void 0,this._updateProgress(h.current),this._needToFetchStatus=!1,h.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,e=new T1(this._transferred,this._blob.size()),s=this._uploadUrl;this._resolveToken((a,u)=>{let h;try{h=function(n,t,e,s,a,u,h,_){const C=new T1(0,0);if(h?(C.current=h.current,C.total=h.total):(C.current=0,C.total=s.size()),s.size()!==C.total)throw new In("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");const S=C.total-C.current;let k=S;a>0&&(k=Math.min(k,a));const L=C.current,Ee={"X-Goog-Upload-Command":k===S?"upload, finalize":"upload","X-Goog-Upload-Offset":`${C.current}`},Ve=s.slice(L,L+k);if(null===Ve)throw v6();const _t=new To(e,"POST",function(at,_n){const fn=S1(at,["active","final"]),gr=C.current+k,xi=s.size();let fs;return fs="final"===fn?kp(t,u)(at,_n):null,new T1(gr,xi,"final"===fn,fs)},t.maxUploadRetryTime);return _t.headers=Ee,_t.body=Ve.uploadData(),_t.progressCallback=_||null,_t.errorHandler=Fp(n),_t}(this._ref._location,this._ref.storage,s,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(C){return this._error=C,void this._transition("error")}const _=this._ref.storage._makeRequest(h,js,a,u);this._request=_,_.getPromise().then(C=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(C.current),C.finalized?(this._metadata=C.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const s=F6(this._ref.storage,this._ref._location,this._mappings),a=this._ref.storage._makeRequest(s,js,t,e);this._request=a,a.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const s=function(n,t,e,s,a){const u=t.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"},C=function(){let _t="";for(let at=0;at<2;at++)_t+=Math.random().toString().slice(2);return _t}();h["Content-Type"]="multipart/related; boundary="+C;const S=I1(t,s,a),k=xp(S,e),ye=pa.getBlob("--"+C+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+k+"\r\n--"+C+"\r\nContent-Type: "+S.contentType+"\r\n\r\n",s,"\r\n--"+C+"--");if(null===ye)throw v6();const Ee={name:S.fullPath},Ve=Bs(u,n.host,n._protocol),ft=n.maxUploadRetryTime,ut=new To(Ve,"POST",kp(n,e),ft);return ut.urlParams=Ee,ut.headers=h,ut.body=ye.uploadData(),ut.errorHandler=Fp(t),ut}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(s,js,t,e);this._request=a,a.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=y6(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=ry(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,s,a){const u=new G6(e||void 0,s||void 0,a||void 0);return this._addObserver(u),()=>{this._removeObserver(u)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(ry(this._state)){case Oi.SUCCESS:Lf(this._resolve.bind(null,this.snapshot))();break;case Oi.CANCELED:case Oi.ERROR:Lf(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(ry(this._state)){case Oi.RUNNING:case Oi.PAUSED:t.next&&Lf(t.next.bind(t,this.snapshot))();break;case Oi.SUCCESS:t.complete&&Lf(t.complete.bind(t))();break;case Oi.CANCELED:case Oi.ERROR:t.error&&Lf(t.error.bind(t,this._error))();break;default:t.error&&Lf(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class Wu{constructor(t,e){this._service=t,this._location=e instanceof ti?e:ti.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new Wu(t,e)}get root(){const t=new ti(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return X_(this._location.path)}get storage(){return this._service}get parent(){const t=function(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new ti(this._location.bucket,t);return new Wu(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw Of(t)}}function N5(n,t,e){return Y6.apply(this,arguments)}function Y6(){return(Y6=(0,zi.Z)(function*(n,t,e){const a=yield O5(n,{pageToken:e});t.prefixes.push(...a.prefixes),t.items.push(...a.items),null!=a.nextPageToken&&(yield N5(n,t,a.nextPageToken))})).apply(this,arguments)}function O5(n,t){null!=t&&"number"==typeof t.maxResults&&Gu("options.maxResults",1,1e3,t.maxResults);const e=t||{},s=L6(n.storage,n._location,"/",e.pageToken,e.maxResults);return n.storage.makeRequestWithTokens(s,js)}function IT(n){n._throwIfRoot("getDownloadURL");const t=function(n,t,e){const a=Bs(t.fullServerUrl(),n.host,n._protocol),h=n.maxOperationRetryTime,_=new To(a,"GET",function(n,t){return function(s,a){const u=Ff(n,a,t);return So(null!==u),function(n,t,e,s){const a=C1(t);if(null===a||!_1(a.downloadTokens))return null;const u=a.downloadTokens;if(0===u.length)return null;const h=encodeURIComponent;return u.split(",").map(S=>{const L=n.fullPath;return Bs("/b/"+h(n.bucket)+"/o/"+h(L),e,s)+A6({alt:"media",token:S})})[0]}(u,a,n.host,n._protocol)}}(n,e),h);return _.errorHandler=Lp(t),_}(n.storage,n._location,Op());return n.storage.makeRequestWithTokens(t,js).then(e=>{if(null===e)throw new In("no-download-url","The given file does not have any download URLs.");return e})}function x5(n,t){const e=function(n,t){const e=t.split("/").filter(s=>s.length>0).join("/");return 0===n.length?e:n+"/"+e}(n._location.path,t),s=new ti(n._location.bucket,e);return new Wu(n.storage,s)}function k5(n,t){if(n instanceof K6){const e=n;if(null==e._bucket)throw new In("no-default-bucket","No default bucket found. Did you set the '"+d5+"' property when initializing the app?");const s=new Wu(e,e._bucket);return null!=t?k5(s,t):s}return void 0!==t?x5(n,t):n}function DT(n,t){if(t&&function(n){return/^[A-Za-z]+:\/\//.test(n)}(t)){if(n instanceof K6)return function(n,t){return new Wu(n,t)}(n,t);throw Nf("To use ref(service, url), the first argument must be a Storage instance.")}return k5(n,t)}function F5(n,t){const e=null==t?void 0:t[d5];return null==e?null:ti.makeFromBucketSpec(e,n)}class K6{constructor(t,e,s,a,u){this.app=t,this._authProvider=e,this._appCheckProvider=s,this._url=a,this._firebaseVersion=u,this._bucket=null,this._host=p6,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=a?ti.makeFromBucketSpec(a,this._host):F5(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?ti.makeFromBucketSpec(this._url,t):F5(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Gu("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Gu("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,zi.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const s=yield e.getToken();if(null!==s)return s.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,zi.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Wu(this,t)}_makeRequest(t,e,s,a){if(this._deleted)return new C6(b6());{const u=function(n,t,e,s,a,u){const h=A6(n.urlParams),_=n.url+h,C=Object.assign({},n.headers);return function(n,t){t&&(n["X-Firebase-GMPID"]=t)}(C,t),function(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(C,e),function(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(C,u),function(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(C,s),new ha(_,n.method,C,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a)}(t,this._appId,s,a,e,this._firebaseVersion);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}makeRequestWithTokens(t,e){var s=this;return(0,zi.Z)(function*(){const[a,u]=yield Promise.all([s._getAuthToken(),s._getAppCheckToken()]);return s._makeRequest(t,e,a,u).getPromise()})()}}const L5="@firebase/storage";function j5(n,t){return DT(n=(0,Y.m9)(n),t)}(0,os._registerComponent)(new oc.wA("storage",function(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),s=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new K6(e,s,a,t,os.SDK_VERSION)},"PUBLIC").setMultipleInstances(!0)),(0,os.registerVersion)(L5,"0.8.7",""),(0,os.registerVersion)(L5,"0.8.7","esm2017");class cl{constructor(t,e,s){this._delegate=t,this.task=e,this.ref=s}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class ay{constructor(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new cl(this._delegate.snapshot,this,this._ref)}then(t,e){return this._delegate.then(s=>{if(t)return t(new cl(s,this,this._ref))},e)}on(t,e,s,a){let u;return e&&(u="function"==typeof e?h=>e(new cl(h,this,this._ref)):{next:e.next?h=>e.next(new cl(h,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,u,s||void 0,a||void 0)}}class X6{constructor(t,e){this._delegate=t,this._service=e}get prefixes(){return this._delegate.prefixes.map(t=>new ul(t,this._service))}get items(){return this._delegate.items.map(t=>new ul(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class ul{constructor(t,e){this._delegate=t,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const e=function(n,t){return x5(n,t)}(this._delegate,t);return new ul(e,this.storage)}get root(){return new ul(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new ul(t,this.storage)}put(t,e){return this._throwIfRoot("put"),new ay(function(n,t,e){return function(n,t,e){return n._throwIfRoot("uploadBytesResumable"),new sy(n,new pa(t),e)}(n=(0,Y.m9)(n),t,e)}(this._delegate,t,e),this)}putString(t,e=ds.RAW,s){this._throwIfRoot("putString");const a=Q_(e,t),u=Object.assign({},s);return null==u.contentType&&null!=a.contentType&&(u.contentType=a.contentType),new ay(new sy(this._delegate,new pa(a.data,!0),u),this)}listAll(){return function(n){return function(n){const t={prefixes:[],items:[]};return N5(n,t).then(()=>t)}(n=(0,Y.m9)(n))}(this._delegate).then(t=>new X6(t,this.storage))}list(t){return function(n,t){return O5(n=(0,Y.m9)(n),t)}(this._delegate,t||void 0).then(e=>new X6(e,this.storage))}getMetadata(){return function(n){return function(n){n._throwIfRoot("getMetadata");const t=F6(n.storage,n._location,Op());return n.storage.makeRequestWithTokens(t,js)}(n=(0,Y.m9)(n))}(this._delegate)}updateMetadata(t){return function(n,t){return function(n,t){n._throwIfRoot("updateMetadata");const e=function(n,t,e,s){const u=Bs(t.fullServerUrl(),n.host,n._protocol),_=xp(e,s),S=n.maxOperationRetryTime,k=new To(u,"PATCH",kp(n,s),S);return k.headers={"Content-Type":"application/json; charset=utf-8"},k.body=_,k.errorHandler=Lp(t),k}(n.storage,n._location,t,Op());return n.storage.makeRequestWithTokens(e,js)}(n=(0,Y.m9)(n),t)}(this._delegate,t)}getDownloadURL(){return function(n){return IT(n=(0,Y.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function(n){return function(n){n._throwIfRoot("deleteObject");const t=function(n,t){const s=Bs(t.fullServerUrl(),n.host,n._protocol),_=new To(s,"DELETE",function(C,S){},n.maxOperationRetryTime);return _.successCodes=[200,204],_.errorHandler=Lp(t),_}(n.storage,n._location);return n.storage.makeRequestWithTokens(t,js)}(n=(0,Y.m9)(n))}(this._delegate)}_throwIfRoot(t){if(""===this._delegate._location.path)throw Of(t)}}class A1{constructor(t,e){this.app=t,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(ly(t))throw Nf("ref() expected a child path but got a URL, use refFromURL instead.");return new ul(j5(this._delegate,t),this)}refFromURL(t){if(!ly(t))throw Nf("refFromURL() expected a full URL but got a child path, use ref() instead.");try{ti.makeFromUrl(t,this._delegate.host)}catch(e){throw Nf("refFromUrl() expected a valid full URL but got an invalid one.")}return new ul(j5(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,e,s={}){!function(n,t,e,s={}){!function(n,t,e,s={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:a}=s;a&&(n._overrideAuthToken="string"==typeof a?a:(0,Y.Sg)(a,n.app.options.projectId))}(n,t,e,s)}(this._delegate,t,e,s)}}function ly(n){return/^[A-Za-z]+:\/\//.test(n)}function n8(n,{instanceIdentifier:t}){const e=n.getProvider("app-compat").getImmediate(),s=n.getProvider("storage").getImmediate({identifier:t});return new A1(e,s)}function H5(n){const t=function(n){return new pr.y(t=>{const e=h=>t.next(h);e(n.snapshot);const u=n.on("state_changed",e);return n.then(h=>{e(h),t.complete()},h=>{e(n.snapshot),(h=>{t.error(h)})(h)}),function(){u()}}).pipe(function(n,t=d4.P){return e=>e.lift(new c5(n,t))}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>t,percentageChanges:()=>t.pipe((0,Vt.U)(e=>e.bytesTransferred/e.totalBytes*100))}}function cy(n){return{getDownloadURL:()=>(0,pt.of)(void 0).pipe(or.fc,$n(()=>n.getDownloadURL()),or.iC),getMetadata:()=>(0,pt.of)(void 0).pipe(or.fc,$n(()=>n.getMetadata()),or.iC),delete:()=>(0,vn.D)(n.delete()),child:t=>cy(n.child(t)),updateMetadata:t=>(0,vn.D)(n.updateMetadata(t)),put:(t,e)=>H5(n.put(t,e)),putString:(t,e,s)=>H5(n.putString(t,e,s)),list:t=>(0,vn.D)(n.list(t)),listAll:()=>(0,vn.D)(n.listAll())}}!function(n){const t={TaskState:Oi,TaskEvent:$6,StringFormat:ds,Storage:A1,Reference:ul};n.INTERNAL.registerComponent(new oc.wA("storage-compat",n8,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.7")}(c2.Z);const UT=new d.OlP("angularfire2.storageBucket"),$5=new d.OlP("angularfire2.storage.maxUploadRetryTime"),BT=new d.OlP("angularfire2.storage.maxOperationRetryTime"),R1=new d.OlP("angularfire2.storage.use-emulator");let uy=(()=>{class n{constructor(e,s,a,u,h,_,C,S,k,L){const Q=(0,Wn.on)(e,h,s);this.storage=(0,Wn.cc)(`${Q.name}.storage.${a}`,"AngularFireStorage",Q.name,()=>{const ye=h.runOutsideAngular(()=>Q.storage(a||void 0)),Ee=k;return Ee&&ye.useEmulator(...Ee),C&&ye.setMaxUploadRetryTime(C),S&&ye.setMaxOperationRetryTime(S),ye},[C,S])}ref(e){return cy(this.storage.ref(e))}refFromURL(e){return cy(this.storage.refFromURL(e))}upload(e,s,a){return cy(this.storage.ref(e)).put(s,a)}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(Wn.Dh),d.LFG(Wn.xv,8),d.LFG(UT,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(or.HU),d.LFG($5,8),d.LFG(BT,8),d.LFG(R1,8),d.LFG(ef,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),jT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})(),dy=(()=>{class n{constructor(){wu.Z.registerVersion("angularfire",or.q4.full,"gcs-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[uy],imports:[jT]}),n})();class i8{}const yc="*";function G5(n,t){return{type:7,name:n,definitions:t,options:{}}}function W5(n,t=null){return{type:4,styles:t,timings:n}}function s8(n,t=null){return{type:2,steps:n,options:t}}function M1(n){return{type:6,styles:n,offset:null}}function o8(n,t,e){return{type:0,name:n,styles:t,options:e}}function Vf(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function Ki(n){Promise.resolve(null).then(n)}class Uf{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Ki(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(s=>s()),e.length=0}}class P1{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,s=0,a=0;const u=this.players.length;0==u?Ki(()=>this._onFinish()):this.players.forEach(h=>{h.onDone(()=>{++e==u&&this._onFinish()}),h.onDestroy(()=>{++s==u&&this._onDestroy()}),h.onStart(()=>{++a==u&&this._onStart()})}),this.totalTime=this.players.reduce((h,_)=>Math.max(h,_.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(s=>{const a=s.totalTime?Math.min(1,e/s.totalTime):1;s.setPosition(a)})}getPosition(){const t=this.players.reduce((e,s)=>null===e||s.totalTime>e.totalTime?s:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(s=>s()),e.length=0}}const l8=["toast-component",""];function hy(n,t){if(1&n){const e=d.EpF();d.TgZ(0,"button",5),d.NdJ("click",function(){return d.CHM(e),d.oxw().remove()}),d.TgZ(1,"span",6),d._uU(2,"\xd7"),d.qZA(),d.qZA()}}function c8(n,t){if(1&n&&(d.ynx(0),d._uU(1),d.BQk()),2&n){const e=d.oxw(2);d.xp6(1),d.hij("[",e.duplicatesCount+1,"]")}}function u8(n,t){if(1&n&&(d.TgZ(0,"div"),d._uU(1),d.YNc(2,c8,2,1,"ng-container",4),d.qZA()),2&n){const e=d.oxw();d.Tol(e.options.titleClass),d.uIk("aria-label",e.title),d.xp6(1),d.hij(" ",e.title," "),d.xp6(1),d.Q6J("ngIf",e.duplicatesCount)}}function Z5(n,t){if(1&n&&d._UZ(0,"div",7),2&n){const e=d.oxw();d.Tol(e.options.messageClass),d.Q6J("innerHTML",e.message,d.oJD)}}function d8(n,t){if(1&n&&(d.TgZ(0,"div",8),d._uU(1),d.qZA()),2&n){const e=d.oxw();d.Tol(e.options.messageClass),d.uIk("aria-label",e.message),d.xp6(1),d.hij(" ",e.message," ")}}function f8(n,t){if(1&n&&(d.TgZ(0,"div"),d._UZ(1,"div",9),d.qZA()),2&n){const e=d.oxw();d.xp6(1),d.Udp("width",e.width+"%")}}function Y5(n,t){if(1&n){const e=d.EpF();d.TgZ(0,"button",5),d.NdJ("click",function(){return d.CHM(e),d.oxw().remove()}),d.TgZ(1,"span",6),d._uU(2,"\xd7"),d.qZA(),d.qZA()}}function K5(n,t){if(1&n&&(d.ynx(0),d._uU(1),d.BQk()),2&n){const e=d.oxw(2);d.xp6(1),d.hij("[",e.duplicatesCount+1,"]")}}function py(n,t){if(1&n&&(d.TgZ(0,"div"),d._uU(1),d.YNc(2,K5,2,1,"ng-container",4),d.qZA()),2&n){const e=d.oxw();d.Tol(e.options.titleClass),d.uIk("aria-label",e.title),d.xp6(1),d.hij(" ",e.title," "),d.xp6(1),d.Q6J("ngIf",e.duplicatesCount)}}function h8(n,t){if(1&n&&d._UZ(0,"div",7),2&n){const e=d.oxw();d.Tol(e.options.messageClass),d.Q6J("innerHTML",e.message,d.oJD)}}function p8(n,t){if(1&n&&(d.TgZ(0,"div",8),d._uU(1),d.qZA()),2&n){const e=d.oxw();d.Tol(e.options.messageClass),d.uIk("aria-label",e.message),d.xp6(1),d.hij(" ",e.message," ")}}function gy(n,t){if(1&n&&(d.TgZ(0,"div"),d._UZ(1,"div",9),d.qZA()),2&n){const e=d.oxw();d.xp6(1),d.Udp("width",e.width+"%")}}class Q5{constructor(t,e){this.component=t,this.injector=e}attach(t,e){return this._attachedHost=t,t.attach(this,e)}detach(){const t=this._attachedHost;if(t)return this._attachedHost=void 0,t.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class N1{constructor(t,e,s,a,u,h){this.toastId=t,this.config=e,this.message=s,this.title=a,this.toastType=u,this.toastRef=h,this._onTap=new Hn.xQ,this._onAction=new Hn.xQ,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(t){this._onAction.next(t)}onAction(){return this._onAction.asObservable()}}const J5={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null},g8=new d.OlP("ToastConfig");class X5{constructor(t){this._overlayRef=t,this.duplicatesCount=0,this._afterClosed=new Hn.xQ,this._activate=new Hn.xQ,this._manualClose=new Hn.xQ,this._resetTimeout=new Hn.xQ,this._countDuplicate=new Hn.xQ}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(t,e){t&&this._resetTimeout.next(),e&&this._countDuplicate.next(++this.duplicatesCount)}}class ew{constructor(t,e){this._toastPackage=t,this._parentInjector=e}get(t,e,s){return t===N1?this._toastPackage:this._parentInjector.get(t,e,s)}}class KT extends class{attach(t,e){return this._attachedPortal=t,this.attachComponentPortal(t,e)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(t){this._disposeFn=t}}{constructor(t,e,s){super(),this._hostDomElement=t,this._componentFactoryResolver=e,this._appRef=s}attachComponentPortal(t,e){const s=this._componentFactoryResolver.resolveComponentFactory(t.component);let a;return a=s.create(t.injector),this._appRef.attachView(a.hostView),this.setDisposeFn(()=>{this._appRef.detachView(a.hostView),a.destroy()}),e?this._hostDomElement.insertBefore(this._getComponentRootNode(a),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(a)),a}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}class tw{constructor(t){this._portalHost=t}attach(t,e=!0){return this._portalHost.attach(t,e)}detach(){return this._portalHost.detach()}}let m8=(()=>{class n{constructor(e){this._document=e}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e=this._document.createElement("div");e.classList.add("overlay-container"),this._document.body.appendChild(e),this._containerElement=e}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(H))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nw=(()=>{class n{constructor(e,s,a,u){this._overlayContainer=e,this._componentFactoryResolver=s,this._appRef=a,this._document=u,this._paneElements=new Map}create(e,s){return this._createOverlayRef(this.getPaneElement(e,s))}getPaneElement(e="",s){return this._paneElements.get(s)||this._paneElements.set(s,{}),this._paneElements.get(s)[e]||(this._paneElements.get(s)[e]=this._createPaneElement(e,s)),this._paneElements.get(s)[e]}_createPaneElement(e,s){const a=this._document.createElement("div");return a.id="toast-container",a.classList.add(e),a.classList.add("toast-container"),s?s.getContainerElement().appendChild(a):this._overlayContainer.getContainerElement().appendChild(a),a}_createPortalHost(e){return new KT(e,this._componentFactoryResolver,this._appRef)}_createOverlayRef(e){return new tw(this._createPortalHost(e))}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(m8),d.LFG(d._Vd),d.LFG(d.z2F),d.LFG(H))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qu=(()=>{class n{constructor(e,s,a,u,h){this.overlay=s,this._injector=a,this.sanitizer=u,this.ngZone=h,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},e.default),e.config),e.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},e.default.iconClasses),e.config.iconClasses))}show(e,s,a={},u=""){return this._preBuildNotification(u,e,s,this.applyConfig(a))}success(e,s,a={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",e,s,this.applyConfig(a))}error(e,s,a={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",e,s,this.applyConfig(a))}info(e,s,a={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",e,s,this.applyConfig(a))}warning(e,s,a={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",e,s,this.applyConfig(a))}clear(e){for(const s of this.toasts)if(void 0!==e){if(s.toastId===e)return void s.toastRef.manualClose()}else s.toastRef.manualClose()}remove(e){const s=this._findToast(e);if(!s||(s.activeToast.toastRef.close(),this.toasts.splice(s.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const a=this.toasts[this.currentlyActive].toastRef;a.isInactive()||(this.currentlyActive=this.currentlyActive+1,a.activate())}return!0}findDuplicate(e="",s="",a,u){const{includeTitleDuplicates:h}=this.toastrConfig;for(const _ of this.toasts){const C=h&&_.title===e;if((!h||C)&&_.message===s)return _.toastRef.onDuplicate(a,u),_}return null}applyConfig(e={}){return Object.assign(Object.assign({},this.toastrConfig),e)}_findToast(e){for(let s=0;s<this.toasts.length;s++)if(this.toasts[s].toastId===e)return{index:s,activeToast:this.toasts[s]};return null}_preBuildNotification(e,s,a,u){return u.onActivateTick?this.ngZone.run(()=>this._buildNotification(e,s,a,u)):this._buildNotification(e,s,a,u)}_buildNotification(e,s,a,u){if(!u.toastComponent)throw new Error("toastComponent required");const h=this.findDuplicate(a,s,this.toastrConfig.resetTimeoutOnDuplicate&&u.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&a||s)&&this.toastrConfig.preventDuplicates&&null!==h)return h;this.previousToastMessage=s;let _=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(_=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const C=this.overlay.create(u.positionClass,this.overlayContainer);this.index=this.index+1;let S=s;s&&u.enableHtml&&(S=this.sanitizer.sanitize(d.q3G.HTML,s));const k=new X5(C),L=new N1(this.index,u,S,a,e,k),Q=new ew(L,this._injector),ye=new Q5(u.toastComponent,Q),Ee=C.attach(ye,this.toastrConfig.newestOnTop);k.componentInstance=Ee.instance;const Ve={toastId:this.index,title:a||"",message:s||"",toastRef:k,onShown:k.afterActivate(),onHidden:k.afterClosed(),onTap:L.onTap(),onAction:L.onAction(),portal:Ee};return _||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{Ve.toastRef.activate()})),this.toasts.push(Ve),Ve}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(g8),d.LFG(nw),d.LFG(d.zs3),d.LFG(Js),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_8=(()=>{class n{constructor(e,s,a){this.toastrService=e,this.toastPackage=s,this.ngZone=a,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=s.message,this.title=s.title,this.options=s.config,this.originalTimeout=s.config.timeOut,this.toastClasses=`${s.toastType} ${s.config.toastClass}`,this.sub=s.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=s.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=s.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=s.toastRef.countDuplicate().subscribe(u=>{this.duplicatesCount=u})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const e=(new Date).getTime();this.width=(this.hideTime-e)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(e,s){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(e),s)):this.timeout=setTimeout(()=>e(),s)}outsideInterval(e,s){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(e),s)):this.intervalId=setInterval(()=>e(),s)}runInsideAngular(e){this.ngZone?this.ngZone.run(()=>e()):e()}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(qu),d.Y36(N1),d.Y36(d.R0b))},n.\u0275cmp=d.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(e,s){1&e&&d.NdJ("click",function(){return s.tapToast()})("mouseenter",function(){return s.stickAround()})("mouseleave",function(){return s.delayedHideToast()}),2&e&&(d.d8E("@flyInOut",s.state),d.Tol(s.toastClasses),d.Udp("display",s.displayStyle))},attrs:l8,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alertdialog","aria-live","polite",3,"innerHTML"],["role","alertdialog","aria-live","polite"],[1,"toast-progress"]],template:function(e,s){1&e&&(d.YNc(0,hy,3,0,"button",0),d.YNc(1,u8,3,5,"div",1),d.YNc(2,Z5,1,3,"div",2),d.YNc(3,d8,2,4,"div",3),d.YNc(4,f8,2,2,"div",4)),2&e&&(d.Q6J("ngIf",s.options.closeButton),d.xp6(1),d.Q6J("ngIf",s.title),d.xp6(1),d.Q6J("ngIf",s.message&&s.options.enableHtml),d.xp6(1),d.Q6J("ngIf",s.message&&!s.options.enableHtml),d.xp6(1),d.Q6J("ngIf",s.options.progressBar))},directives:[oi],encapsulation:2,data:{animation:[G5("flyInOut",[o8("inactive",M1({opacity:0})),o8("active",M1({opacity:1})),o8("removed",M1({opacity:0})),Vf("inactive => active",W5("{{ easeTime }}ms {{ easing }}")),Vf("active => removed",W5("{{ easeTime }}ms {{ easing }}"))])]}}),n})();const rw=Object.assign(Object.assign({},J5),{toastComponent:_8});let QT=(()=>{class n{static forRoot(e={}){return{ngModule:n,providers:[{provide:g8,useValue:{default:rw,config:e}}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[ai]]}),n})(),y8=(()=>{class n{constructor(e,s,a){this.toastrService=e,this.toastPackage=s,this.appRef=a,this.width=-1,this.toastClasses="",this.state="inactive",this.message=s.message,this.title=s.title,this.options=s.config,this.originalTimeout=s.config.timeOut,this.toastClasses=`${s.toastType} ${s.config.toastClass}`,this.sub=s.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=s.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=s.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=s.toastRef.countDuplicate().subscribe(u=>{this.duplicatesCount=u})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(!0===this.options.disableTimeOut||"timeOut"===this.options.disableTimeOut)&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const e=(new Date).getTime();this.width=(this.hideTime-e)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(qu),d.Y36(N1),d.Y36(d.z2F))},n.\u0275cmp=d.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(e,s){1&e&&d.NdJ("click",function(){return s.tapToast()})("mouseenter",function(){return s.stickAround()})("mouseleave",function(){return s.delayedHideToast()}),2&e&&(d.Tol(s.toastClasses),d.Udp("display",s.displayStyle))},attrs:l8,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alert","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert","aria-live","polite",3,"innerHTML"],["role","alert","aria-live","polite"],[1,"toast-progress"]],template:function(e,s){1&e&&(d.YNc(0,Y5,3,0,"button",0),d.YNc(1,py,3,5,"div",1),d.YNc(2,h8,1,3,"div",2),d.YNc(3,p8,2,4,"div",3),d.YNc(4,gy,2,2,"div",4)),2&e&&(d.Q6J("ngIf",s.options.closeButton),d.xp6(1),d.Q6J("ngIf",s.title),d.xp6(1),d.Q6J("ngIf",s.message&&s.options.enableHtml),d.xp6(1),d.Q6J("ngIf",s.message&&!s.options.enableHtml),d.xp6(1),d.Q6J("ngIf",s.options.progressBar))},directives:[oi],encapsulation:2}),n})();Object.assign(Object.assign({},J5),{toastComponent:y8});let Zu=(()=>{class n{constructor(e){this.fireAuth=e}signUp(e,s){return this.fireAuth.createUserWithEmailAndPassword(e,s)}signIn(e,s){return this.fireAuth.signInWithEmailAndPassword(e,s)}signOut(){return this.fireAuth.signOut()}getUser(){return this.fireAuth.authState}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(jh))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Vp=F(1555);function Up(n,t){return new pr.y(e=>{const s=n.length;if(0===s)return void e.complete();const a=new Array(s);let u=0,h=0;for(let _=0;_<s;_++){const C=(0,vn.D)(n[_]);let S=!1;e.add(C.subscribe({next:k=>{S||(S=!0,h++),a[_]=k},error:k=>e.error(k),complete:()=>{u++,(u===s||!S)&&(h===s&&e.next(t?t.reduce((k,L,Q)=>(k[L]=a[Q],k),{}):a),e.complete())}}))}})}let v8=(()=>{class n{constructor(e,s){this._renderer=e,this._elementRef=s,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(e,s){this._renderer.setProperty(this._elementRef.nativeElement,e,s)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(d.Qsj),d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n}),n})(),Yu=(()=>{class n extends v8{}return n.\u0275fac=function(){let t;return function(s){return(t||(t=d.n5z(n)))(s||n)}}(),n.\u0275dir=d.lG2({type:n,features:[d.qOj]}),n})();const dl=new d.OlP("NgValueAccessor"),b8={provide:dl,useExisting:(0,d.Gpc)(()=>Bf),multi:!0},ow=new d.OlP("CompositionEventMode");let Bf=(()=>{class n extends v8{constructor(e,s,a){super(e,s),this._compositionMode=a,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=B()?B().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(ow,8))},n.\u0275dir=d.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,s){1&e&&d.NdJ("input",function(u){return s._handleInput(u.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(u){return s._compositionEnd(u.target.value)})},features:[d._Bn([b8]),d.qOj]}),n})();const ni=new d.OlP("NgValidators"),Ku=new d.OlP("NgAsyncValidators");function vy(n){return null!=n}function Cc(n){const t=(0,d.QGY)(n)?(0,vn.D)(n):n;return(0,d.CqO)(t),t}function by(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function x1(n,t){return t.map(e=>e(n))}function T8(n){return n.map(t=>function(n){return!n.validate}(t)?t:e=>t.validate(e))}function Ey(n){return null!=n?function(n){if(!n)return null;const t=n.filter(vy);return 0==t.length?null:function(e){return by(x1(e,t))}}(T8(n)):null}function F1(n){return null!=n?function(n){if(!n)return null;const t=n.filter(vy);return 0==t.length?null:function(e){return function(...n){if(1===n.length){const t=n[0];if((0,Nl.k)(t))return Up(t,null);if((0,Vp.K)(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return Up(e.map(s=>t[s]),e)}}if("function"==typeof n[n.length-1]){const t=n.pop();return Up(n=1===n.length&&(0,Nl.k)(n[0])?n[0]:n,null).pipe((0,Vt.U)(e=>t(...e)))}return Up(n,null)}(x1(e,t).map(Cc)).pipe((0,Vt.U)(by))}}(T8(n)):null}function Rr(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function wy(n){return n?Array.isArray(n)?n:[n]:[]}function Iy(n,t){return Array.isArray(n)?n.includes(t):n===t}function zp(n,t){const e=wy(t);return wy(n).forEach(a=>{Iy(e,a)||e.push(a)}),e}function A8(n,t){return wy(t).filter(e=>!Iy(n,e))}let cw=(()=>{class n{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Ey(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=F1(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,s){return!!this.control&&this.control.hasError(e,s)}getError(e,s){return this.control?this.control.getError(e,s):null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=d.lG2({type:n}),n})(),Qi=(()=>{class n extends cw{get formDirective(){return null}get path(){return null}}return n.\u0275fac=function(){let t;return function(s){return(t||(t=d.n5z(n)))(s||n)}}(),n.\u0275dir=d.lG2({type:n,features:[d.qOj]}),n})();class Qu extends cw{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class D8{constructor(t){this._cd=t}is(t){var e,s,a;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(a=null===(s=this._cd)||void 0===s?void 0:s.control)||void 0===a?void 0:a[t])}}let L1=(()=>{class n extends D8{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(Qu,2))},n.\u0275dir=d.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,s){2&e&&d.ekj("ng-untouched",s.is("untouched"))("ng-touched",s.is("touched"))("ng-pristine",s.is("pristine"))("ng-dirty",s.is("dirty"))("ng-valid",s.is("valid"))("ng-invalid",s.is("invalid"))("ng-pending",s.is("pending"))},features:[d.qOj]}),n})(),V1=(()=>{class n extends D8{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(Qi,10))},n.\u0275dir=d.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,s){2&e&&d.ekj("ng-untouched",s.is("untouched"))("ng-touched",s.is("touched"))("ng-pristine",s.is("pristine"))("ng-dirty",s.is("dirty"))("ng-valid",s.is("valid"))("ng-invalid",s.is("invalid"))("ng-pending",s.is("pending"))("ng-submitted",s.is("submitted"))},features:[d.qOj]}),n})();function Hp(n,t){Sy(n,t),t.valueAccessor.writeValue(n.value),function(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Ay(n,t)})}(n,t),function(n,t){const e=(s,a)=>{t.valueAccessor.writeValue(s),a&&t.viewToModelUpdate(s)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Ay(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function(n,t){if(t.valueAccessor.setDisabledState){const e=s=>{t.valueAccessor.setDisabledState(s)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function z1(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Sy(n,t){const e=function(n){return n._rawValidators}(n);null!==t.validator?n.setValidators(Rr(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const s=function(n){return n._rawAsyncValidators}(n);null!==t.asyncValidator?n.setAsyncValidators(Rr(s,t.asyncValidator)):"function"==typeof s&&n.setAsyncValidators([s]);const a=()=>n.updateValueAndValidity();z1(t._rawValidators,a),z1(t._rawAsyncValidators,a)}function Ay(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Ry(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const Wp="VALID",$1="INVALID",gi="PENDING",G1="DISABLED";function My(n){return(qp(n)?n.validators:n)||null}function Py(n){return Array.isArray(n)?Ey(n):n||null}function W1(n,t){return(qp(t)?t.asyncValidators:n)||null}function Ny(n){return Array.isArray(n)?F1(n):n||null}function qp(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class Zp{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Py(this._rawValidators),this._composedAsyncValidatorFn=Ny(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Wp}get invalid(){return this.status===$1}get pending(){return this.status==gi}get disabled(){return this.status===G1}get enabled(){return this.status!==G1}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Py(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Ny(t)}addValidators(t){this.setValidators(zp(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(zp(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(A8(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(A8(t,this._rawAsyncValidators))}hasValidator(t){return Iy(this._rawValidators,t)}hasAsyncValidator(t){return Iy(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=gi,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=G1,this.errors=null,this._forEachChild(s=>{s.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(s=>s(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Wp,this._forEachChild(s=>{s.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(s=>s(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Wp||this.status===gi)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?G1:Wp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=gi,this._hasOwnPendingAsyncValidator=!0;const e=Cc(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(s=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(s,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length))return null;let s=n;return t.forEach(a=>{s=s instanceof zf?s.controls.hasOwnProperty(a)?s.controls[a]:null:s instanceof q1&&s.at(a)||null}),s}(this,t)}getError(t,e){const s=e?this.get(e):this;return s&&s.errors?s.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?G1:this.errors?$1:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(gi)?gi:this._anyControlsHaveStatus($1)?$1:Wp}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){qp(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class jf extends Zp{constructor(t=null,e,s){super(My(e),W1(s,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(s=>s(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Ry(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Ry(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class zf extends Zp{constructor(t,e,s){super(My(e),W1(s,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,s={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,s={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(s=>{this._throwIfControlMissing(s),this.controls[s].setValue(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(s=>{this.controls[s]&&this.controls[s].patchValue(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((s,a)=>{s.reset(t[a],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,s)=>(t[s]=e instanceof jf?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,s)=>!!s._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const s=this.controls[e];s&&t(s,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const s=this.controls[e];if(this.contains(e)&&t(s))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,s)=>((e.enabled||this.disabled)&&(t[s]=e.value),t))}_reduceChildren(t,e){let s=t;return this._forEachChild((a,u)=>{s=e(s,a,u)}),s}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,s)=>{if(void 0===t[s])throw new Error(`Must supply a value for form control with name: '${s}'.`)})}}class q1 extends Zp{constructor(t,e,s){super(My(e),W1(s,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,s={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:s.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,s={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((s,a)=>{this._throwIfControlMissing(a),this.at(a).setValue(s,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((s,a)=>{this.at(a)&&this.at(a).patchValue(s,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((s,a)=>{s.reset(t[a],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof jf?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,s)=>!!s._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,s)=>{t(e,s)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,s)=>{if(void 0===t[s])throw new Error(`Must supply a value for form control at index: ${s}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const O8={provide:Qi,useExisting:(0,d.Gpc)(()=>Hf)},Yp=(()=>Promise.resolve(null))();let Hf=(()=>{class n extends Qi{constructor(e,s){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new d.vpe,this.form=new zf({},Ey(e),F1(s))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Yp.then(()=>{const s=this._findContainer(e.path);e.control=s.registerControl(e.name,e.control),Hp(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Yp.then(()=>{const s=this._findContainer(e.path);s&&s.removeControl(e.name),Ry(this._directives,e)})}addFormGroup(e){Yp.then(()=>{const s=this._findContainer(e.path),a=new zf({});(function(n,t){Sy(n,t)})(a,e),s.registerControl(e.name,a),a.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Yp.then(()=>{const s=this._findContainer(e.path);s&&s.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,s){Yp.then(()=>{this.form.get(e.path).setValue(s)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,function(n,t){n._syncPendingControls(),t.forEach(e=>{const s=e.control;"submit"===s.updateOn&&s._pendingChange&&(e.viewToModelUpdate(s._pendingValue),s._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(ni,10),d.Y36(Ku,10))},n.\u0275dir=d.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,s){1&e&&d.NdJ("submit",function(u){return s.onSubmit(u)})("reset",function(){return s.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([O8]),d.qOj]}),n})();const Kp={provide:Qu,useExisting:(0,d.Gpc)(()=>Ec)},ky=(()=>Promise.resolve(null))();let Ec=(()=>{class n extends Qu{constructor(e,s,a,u){super(),this.control=new jf,this._registered=!1,this.update=new d.vpe,this._parent=e,this._setValidators(s),this._setAsyncValidators(a),this.valueAccessor=function(n,t){if(!t)return null;let e,s,a;return Array.isArray(t),t.forEach(u=>{u.constructor===Bf?e=u:function(n){return Object.getPrototypeOf(n.constructor)===Yu}(u)?s=u:a=u}),a||s||e||null}(0,u)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),function(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(n,t){return[...t.path,n]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Hp(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){ky.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const s=e.isDisabled.currentValue,a=""===s||s&&"false"!==s;ky.then(()=>{a&&!this.control.disabled?this.control.disable():!a&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(Qi,9),d.Y36(ni,10),d.Y36(Ku,10),d.Y36(dl,10))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[d._Bn([Kp]),d.qOj,d.TTD]}),n})(),$f=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=d.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),F8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const $8={provide:ni,useExisting:(0,d.Gpc)(()=>Ic),multi:!0};let Ic=(()=>{class n{constructor(){this._required=!1}get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&"false"!=`${e}`,this._onChange&&this._onChange()}validate(e){return this.required?function(n){return function(n){return null==n||0===n.length}(n.value)?{required:!0}:null}(e):null}registerOnValidatorChange(e){this._onChange=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=d.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,s){2&e&&d.uIk("required",s.required?"":null)},inputs:{required:"required"},features:[d._Bn([$8])]}),n})(),q8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[F8]]}),n})(),wS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[q8]}),n})();function i(n,t){1&n&&(d.TgZ(0,"div",20),d._uU(1," Upload finished "),d.qZA())}function o(n,t){1&n&&(d.TgZ(0,"h3",21),d._uU(1," Your Image "),d.qZA())}function l(n,t){if(1&n&&d._UZ(0,"img",22),2&n){const e=d.oxw();d.Q6J("src",e.picture,d.LSH)}}let c=(()=>{class n{constructor(e,s,a,u,h){this.db=e,this.storage=s,this.toastr=a,this.auth=u,this.router=h,this.picture=null,this.user=null,this.uploadPercent=null,this.auth.getUser().subscribe(_=>{this.db.object(`/users/${_.uid}`).valueChanges().subscribe(C=>{this.user=C})})}ngOnInit(){}onSubmit(){const e=u4();this.db.object(`/posts/${e}`).set({id:e,location:this.locationName,description:this.description,picture:this.picture,by:this.user.name,instaId:this.user.instaUserName,date:Date.now()}).then(s=>{this.toastr.success("Post added successfully..."),this.router.navigateByUrl("/")}).catch(s=>{this.toastr.error("Oops... Error posting"),console.log(s)})}uploadFile(e){var s=this;return(0,zi.Z)(function*(){const a=e.target.files[0];let u=yield(0,r2.readAndCompressImage)(a,Mn);const h=a.name,_=s.storage.ref(h),C=s.storage.upload(h,u);C.percentageChanges().subscribe(S=>{s.uploadPercent=S}),C.snapshotChanges().pipe(eu(()=>{_.getDownloadURL().subscribe(S=>{s.picture=S,s.toastr.success("Image upload successful")})})).subscribe()})()}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(Pf),d.Y36(uy),d.Y36(qu),d.Y36(Zu),d.Y36(Tr))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-addpost"]],decls:31,vars:14,consts:[[1,"main","row","mt-5","mb-3"],[1,"col","col-6"],[1,"card","border-primary"],[1,"card-header","bg-secondary","text-large","text-white","text-center"],[1,"card-body",3,"ngSubmit"],[1,"form-group"],["for","locationName"],["type","text","id","locationName","name","locationName","placeholder","Enter Name","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","description"],["type","text","rows","5","id","description","name","description","required","","placeholder","some description",1,"form-control",3,"ngModel","ngModelChange"],[1,"text-center","mb-4","mt-2"],["for","imagepicker",1,""],["type","file","name","image","id","imagepicker","accept","image/*","multiple","{false}",1,"form-control-file",3,"change"],[1,"text-info","text-center",3,"hidden"],["class","text-success text-uppercase text-center",4,"ngIf"],[1,"text-center"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"col","col-md-6","mt-5"],["class","text-success text-center mt-5 text-uppercase",4,"ngIf"],["alt","","class","img-fluid",3,"src",4,"ngIf"],[1,"text-success","text-uppercase","text-center"],[1,"text-success","text-center","mt-5","text-uppercase"],["alt","",1,"img-fluid",3,"src"]],template:function(e,s){1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"div",2),d.TgZ(3,"div",3),d._uU(4),d.ALo(5,"uppercase"),d.qZA(),d.TgZ(6,"form",4),d.NdJ("ngSubmit",function(){return s.onSubmit()}),d.TgZ(7,"div",5),d.TgZ(8,"label",6),d._uU(9,"Location Name"),d.qZA(),d.TgZ(10,"input",7),d.NdJ("ngModelChange",function(u){return s.locationName=u}),d.qZA(),d.qZA(),d.TgZ(11,"div",5),d.TgZ(12,"label",8),d._uU(13,"Description"),d.qZA(),d.TgZ(14,"textarea",9),d.NdJ("ngModelChange",function(u){return s.description=u}),d.qZA(),d.qZA(),d.TgZ(15,"div",10),d.TgZ(16,"label",11),d._uU(17," Add your awesome photo "),d.qZA(),d.TgZ(18,"input",12),d.NdJ("change",function(u){return s.uploadFile(u)}),d.qZA(),d.TgZ(19,"div",13),d._uU(20),d.ALo(21,"number"),d._UZ(22,"br"),d._uU(23," Please wait a little... "),d.qZA(),d.YNc(24,i,2,0,"div",14),d.qZA(),d.TgZ(25,"div",15),d.TgZ(26,"button",16),d._uU(27," Submit Post "),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(28,"div",17),d.YNc(29,o,2,0,"h3",18),d.YNc(30,l,1,1,"img",19),d.qZA(),d.qZA()),2&e&&(d.xp6(4),d.hij(" ",d.lcZ(5,9,"Add Your awesome Post")," "),d.xp6(6),d.Q6J("ngModel",s.locationName),d.xp6(4),d.Q6J("ngModel",s.description),d.xp6(5),d.Q6J("hidden",!s.uploadPercent||100==s.uploadPercent),d.xp6(1),d.hij(" uploading ",d.xi3(21,11,s.uploadPercent,"1.0-0")," % of 100% "),d.xp6(4),d.Q6J("ngIf",100==s.uploadPercent),d.xp6(2),d.Q6J("disabled",!s.picture),d.xp6(3),d.Q6J("ngIf",s.picture),d.xp6(1),d.Q6J("ngIf",s.picture))},directives:[$f,V1,Hf,Bf,Ic,L1,Ec,oi],pipes:[yl,Vo],styles:[""]}),n})();var IS={prefix:"far",iconName:"share-square",icon:[576,512,[],"f14d","M561.938 158.06L417.94 14.092C387.926-15.922 336 5.097 336 48.032v57.198c-42.45 1.88-84.03 6.55-120.76 17.99-35.17 10.95-63.07 27.58-82.91 49.42C108.22 199.2 96 232.6 96 271.94c0 61.697 33.178 112.455 84.87 144.76 37.546 23.508 85.248-12.651 71.02-55.74-15.515-47.119-17.156-70.923 84.11-78.76V336c0 42.993 51.968 63.913 81.94 33.94l143.998-144c18.75-18.74 18.75-49.14 0-67.88zM384 336V232.16C255.309 234.082 166.492 255.35 206.31 376 176.79 357.55 144 324.08 144 271.94c0-109.334 129.14-118.947 240-119.85V48l144 144-144 144zm24.74 84.493a82.658 82.658 0 0 0 20.974-9.303c7.976-4.952 18.286.826 18.286 10.214V464c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h132c6.627 0 12 5.373 12 12v4.486c0 4.917-2.987 9.369-7.569 11.152-13.702 5.331-26.396 11.537-38.05 18.585a12.138 12.138 0 0 1-6.28 1.777H54a6 6 0 0 0-6 6v340a6 6 0 0 0 6 6h340a6 6 0 0 0 6-6v-25.966c0-5.37 3.579-10.059 8.74-11.541z"]},TS={prefix:"far",iconName:"thumbs-down",icon:[512,512,[],"f165","M466.27 225.31c4.674-22.647.864-44.538-8.99-62.99 2.958-23.868-4.021-48.565-17.34-66.99C438.986 39.423 404.117 0 327 0c-7 0-15 .01-22.22.01C201.195.01 168.997 40 128 40h-10.845c-5.64-4.975-13.042-8-21.155-8H32C14.327 32 0 46.327 0 64v240c0 17.673 14.327 32 32 32h64c11.842 0 22.175-6.438 27.708-16h7.052c19.146 16.953 46.013 60.653 68.76 83.4 13.667 13.667 10.153 108.6 71.76 108.6 57.58 0 95.27-31.936 95.27-104.73 0-18.41-3.93-33.73-8.85-46.54h36.48c48.602 0 85.82-41.565 85.82-85.58 0-19.15-4.96-34.99-13.73-49.84zM64 296c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24zm330.18 16.73H290.19c0 37.82 28.36 55.37 28.36 94.54 0 23.75 0 56.73-47.27 56.73-18.91-18.91-9.46-66.18-37.82-94.54C206.9 342.89 167.28 272 138.92 272H128V85.83c53.611 0 100.001-37.82 171.64-37.82h37.82c35.512 0 60.82 17.12 53.12 65.9 15.2 8.16 26.5 36.44 13.94 57.57 21.581 20.384 18.699 51.065 5.21 65.62 9.45 0 22.36 18.91 22.27 37.81-.09 18.91-16.71 37.82-37.82 37.82z"]},SS={prefix:"far",iconName:"thumbs-up",icon:[512,512,[],"f164","M466.27 286.69C475.04 271.84 480 256 480 236.85c0-44.015-37.218-85.58-85.82-85.58H357.7c4.92-12.81 8.85-28.13 8.85-46.54C366.55 31.936 328.86 0 271.28 0c-61.607 0-58.093 94.933-71.76 108.6-22.747 22.747-49.615 66.447-68.76 83.4H32c-17.673 0-32 14.327-32 32v240c0 17.673 14.327 32 32 32h64c14.893 0 27.408-10.174 30.978-23.95 44.509 1.001 75.06 39.94 177.802 39.94 7.22 0 15.22.01 22.22.01 77.117 0 111.986-39.423 112.94-95.33 13.319-18.425 20.299-43.122 17.34-66.99 9.854-18.452 13.664-40.343 8.99-62.99zm-61.75 53.83c12.56 21.13 1.26 49.41-13.94 57.57 7.7 48.78-17.608 65.9-53.12 65.9h-37.82c-71.639 0-118.029-37.82-171.64-37.82V240h10.92c28.36 0 67.98-70.89 94.54-97.46 28.36-28.36 18.91-75.63 37.82-94.54 47.27 0 47.27 32.98 47.27 56.73 0 39.17-28.36 56.72-28.36 94.54h103.99c21.11 0 37.73 18.91 37.82 37.82.09 18.9-12.82 37.81-22.27 37.81 13.489 14.555 16.371 45.236-5.21 65.62zM88 432c0 13.255-10.745 24-24 24s-24-10.745-24-24 10.745-24 24-24 24 10.745 24 24z"]};function Jy(n){return(Jy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(n)}function AS(n,t){for(var e=0;e<t.length;e++){var s=t[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(n,s.key,s)}}function lM(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function rn(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{},s=Object.keys(e);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(e).filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),s.forEach(function(a){lM(n,a,e[a])})}return n}function Aw(n,t){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){var e=[],s=!0,a=!1,u=void 0;try{for(var _,h=n[Symbol.iterator]();!(s=(_=h.next()).done)&&(e.push(_.value),!t||e.length!==t);s=!0);}catch(C){a=!0,u=C}finally{try{!s&&null!=h.return&&h.return()}finally{if(a)throw u}}return e}(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Rw={},RS={};try{"undefined"!=typeof window&&(Rw=window),"undefined"!=typeof document&&(RS=document),"undefined"!=typeof MutationObserver&&MutationObserver,"undefined"!=typeof performance&&performance}catch(n){}var NS=(Rw.navigator||{}).userAgent,OS=void 0===NS?"":NS,K1=Rw,jr=RS,td=!!jr.documentElement&&!!jr.head&&"function"==typeof jr.addEventListener&&"function"==typeof jr.createElement,nd=(~OS.indexOf("MSIE")||OS.indexOf("Trident/"),"___FONT_AWESOME___"),LS="svg-inline--fa",jS=[1,2,3,4,5,6,7,8,9,10],TM=jS.concat([11,12,13,14,15,16,17,18,19,20]),Xp={GROUP:"group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},zS=(["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","flip-both","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter",Xp.GROUP,Xp.SWAP_OPACITY,Xp.PRIMARY,Xp.SECONDARY].concat(jS.map(function(n){return"".concat(n,"x")})).concat(TM.map(function(n){return"w-".concat(n)})),K1.FontAwesomeConfig||{});jr&&"function"==typeof jr.querySelector&&[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(n){var t=Aw(n,2),s=t[1],a=function(n){return""===n||"false"!==n&&("true"===n||n)}(function(n){var t=jr.querySelector("script["+n+"]");if(t)return t.getAttribute(n)}(t[0]));null!=a&&(zS[s]=a)});var Nw=rn({},{familyPrefix:"fa",replacementClass:LS,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},zS);Nw.autoReplaceSvg||(Nw.observeMutations=!1);var qt=rn({},Nw);K1.FontAwesomeConfig=qt;var rd=K1||{};rd[nd]||(rd[nd]={}),rd[nd].styles||(rd[nd].styles={}),rd[nd].hooks||(rd[nd].hooks={}),rd[nd].shims||(rd[nd].shims=[]);var hl=rd[nd],HS=[];td&&((jr.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(jr.readyState)||jr.addEventListener("DOMContentLoaded",function n(){jr.removeEventListener("DOMContentLoaded",n),HS.map(function(t){return t()})}));var xw,Ow="pending",$S="settled",K8="fulfilled",Q8="rejected",xM=function(){},GS="undefined"!=typeof global&&void 0!==global.process&&"function"==typeof global.process.emit,kM="undefined"==typeof setImmediate?setTimeout:setImmediate,Xy=[];function FM(){for(var n=0;n<Xy.length;n++)Xy[n][0](Xy[n][1]);Xy=[],xw=!1}function J8(n,t){Xy.push([n,t]),xw||(xw=!0,kM(FM,0))}function WS(n){var t=n.owner,e=t._state,s=t._data,a=n[e],u=n.then;if("function"==typeof a){e=K8;try{s=a(s)}catch(h){ev(u,h)}}qS(u,s)||(e===K8&&kw(u,s),e===Q8&&ev(u,s))}function qS(n,t){var e;try{if(n===t)throw new TypeError("A promises callback cannot return that same promise.");if(t&&("function"==typeof t||"object"===Jy(t))){var s=t.then;if("function"==typeof s)return s.call(t,function(a){e||(e=!0,t===a?ZS(n,a):kw(n,a))},function(a){e||(e=!0,ev(n,a))}),!0}}catch(a){return e||ev(n,a),!0}return!1}function kw(n,t){(n===t||!qS(n,t))&&ZS(n,t)}function ZS(n,t){n._state===Ow&&(n._state=$S,n._data=t,J8(VM,n))}function ev(n,t){n._state===Ow&&(n._state=$S,n._data=t,J8(UM,n))}function YS(n){n._then=n._then.forEach(WS)}function VM(n){n._state=K8,YS(n)}function UM(n){n._state=Q8,YS(n),!n._handled&&GS&&global.process.emit("unhandledRejection",n._data,n)}function BM(n){global.process.emit("rejectionHandled",n)}function Do(n){if("function"!=typeof n)throw new TypeError("Promise resolver "+n+" is not a function");if(!(this instanceof Do))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function(n,t){function s(a){ev(t,a)}try{n(function(a){kw(t,a)},s)}catch(a){s(a)}}(n,this)}Do.prototype={constructor:Do,_state:Ow,_then:null,_data:void 0,_handled:!1,then:function(t,e){var s={owner:this,then:new this.constructor(xM),fulfilled:t,rejected:e};return(e||t)&&!this._handled&&(this._handled=!0,this._state===Q8&&GS&&J8(BM,this)),this._state===K8||this._state===Q8?J8(WS,s):this._then.push(s),s.then},catch:function(t){return this.then(null,t)}},Do.all=function(n){if(!Array.isArray(n))throw new TypeError("You must pass an array to Promise.all().");return new Do(function(t,e){var s=[],a=0;function u(C){return a++,function(S){s[C]=S,--a||t(s)}}for(var _,h=0;h<n.length;h++)(_=n[h])&&"function"==typeof _.then?_.then(u(h),e):s[h]=_;a||t(s)})},Do.race=function(n){if(!Array.isArray(n))throw new TypeError("You must pass an array to Promise.race().");return new Do(function(t,e){for(var a,s=0;s<n.length;s++)(a=n[s])&&"function"==typeof a.then?a.then(t,e):t(a)})},Do.resolve=function(n){return n&&"object"===Jy(n)&&n.constructor===Do?n:new Do(function(t){t(n)})},Do.reject=function(n){return new Do(function(t,e){e(n)})};var id={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function tv(){for(var n=12,t="";n-- >0;)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return t}function QS(n){return"".concat(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function X8(n){return Object.keys(n||{}).reduce(function(t,e){return t+"".concat(e,": ").concat(n[e],";")},"")}function Lw(n){return n.size!==id.size||n.x!==id.x||n.y!==id.y||n.rotate!==id.rotate||n.flipX||n.flipY}function JS(n){var t=n.transform,s=n.iconWidth,a={transform:"translate(".concat(n.containerWidth/2," 256)")},u="translate(".concat(32*t.x,", ").concat(32*t.y,") "),h="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),_="rotate(".concat(t.rotate," 0 0)");return{outer:a,inner:{transform:"".concat(u," ").concat(h," ").concat(_)},path:{transform:"translate(".concat(s/2*-1," -256)")}}}var Vw={x:0,y:0,width:"100%",height:"100%"};function XS(n){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return n.attributes&&(n.attributes.fill||t)&&(n.attributes.fill="black"),n}function WM(n){return"g"===n.tag?n.children:[n]}function Uw(n){var t=n.icons,e=t.main,s=t.mask,a=n.prefix,u=n.iconName,h=n.transform,_=n.symbol,C=n.title,S=n.maskId,k=n.titleId,L=n.extra,Q=n.watchable,ye=void 0!==Q&&Q,Ee=s.found?s:e,Ve=Ee.width,$e=Ee.height,ft="fak"===a,ut=ft?"":"fa-w-".concat(Math.ceil(Ve/$e*16)),_t=[qt.replacementClass,u?"".concat(qt.familyPrefix,"-").concat(u):"",ut].filter(function(Hs){return-1===L.classes.indexOf(Hs)}).filter(function(Hs){return""!==Hs||!!Hs}).concat(L.classes).join(" "),at={children:[],attributes:rn({},L.attributes,{"data-prefix":a,"data-icon":u,class:_t,role:L.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(Ve," ").concat($e)})},_n=ft&&!~L.classes.indexOf("fa-fw")?{width:"".concat(Ve/$e*16*.0625,"em")}:{};ye&&(at.attributes["data-fa-i2svg"]=""),C&&at.children.push({tag:"title",attributes:{id:at.attributes["aria-labelledby"]||"title-".concat(k||tv())},children:[C]});var fn=rn({},at,{prefix:a,iconName:u,main:e,mask:s,maskId:S,transform:h,symbol:_,styles:rn({},_n,L.styles)}),gr=s.found&&e.found?function(n){var t=n.children,e=n.attributes,s=n.main,a=n.mask,u=n.maskId,C=s.icon,k=a.icon,L=JS({transform:n.transform,containerWidth:a.width,iconWidth:s.width}),Q={tag:"rect",attributes:rn({},Vw,{fill:"white"})},ye=C.children?{children:C.children.map(XS)}:{},Ee={tag:"g",attributes:rn({},L.inner),children:[XS(rn({tag:C.tag,attributes:rn({},C.attributes,L.path)},ye))]},Ve={tag:"g",attributes:rn({},L.outer),children:[Ee]},$e="mask-".concat(u||tv()),ft="clip-".concat(u||tv()),ut={tag:"mask",attributes:rn({},Vw,{id:$e,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[Q,Ve]},_t={tag:"defs",children:[{tag:"clipPath",attributes:{id:ft},children:WM(k)},ut]};return t.push(_t,{tag:"rect",attributes:rn({fill:"currentColor","clip-path":"url(#".concat(ft,")"),mask:"url(#".concat($e,")")},Vw)}),{children:t,attributes:e}}(fn):function(n){var t=n.children,e=n.attributes,s=n.main,a=n.transform,h=X8(n.styles);if(h.length>0&&(e.style=h),Lw(a)){var _=JS({transform:a,containerWidth:s.width,iconWidth:s.width});t.push({tag:"g",attributes:rn({},_.outer),children:[{tag:"g",attributes:rn({},_.inner),children:[{tag:s.icon.tag,children:s.icon.children,attributes:rn({},s.icon.attributes,_.path)}]}]})}else t.push(s.icon);return{children:t,attributes:e}}(fn),fs=gr.attributes;return fn.children=gr.children,fn.attributes=fs,_?function(n){var e=n.iconName,s=n.children,u=n.symbol;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:rn({},n.attributes,{id:!0===u?"".concat(n.prefix,"-").concat(qt.familyPrefix,"-").concat(e):u}),children:s}]}]}(fn):function(n){var t=n.children,e=n.main,s=n.mask,a=n.attributes,u=n.styles,h=n.transform;if(Lw(h)&&e.found&&!s.found){var S={x:e.width/e.height/2,y:.5};a.style=X8(rn({},u,{"transform-origin":"".concat(S.x+h.x/16,"em ").concat(S.y+h.y/16,"em")}))}return[{tag:"svg",attributes:a,children:t}]}(fn)}var zw=function(t,e,s,a){var C,S,k,u=Object.keys(t),h=u.length,_=void 0!==a?function(t,e){return function(s,a,u,h){return t.call(e,s,a,u,h)}}(e,a):e;for(void 0===s?(C=1,k=t[u[0]]):(C=0,k=s);C<h;C++)k=_(k,t[S=u[C]],S,t);return k};function iA(n,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=e.skipHooks,a=void 0!==s&&s,u=Object.keys(t).reduce(function(h,_){var C=t[_];return C.icon?h[C.iconName]=C.icon:h[_]=C,h},{});"function"!=typeof hl.hooks.addPack||a?hl.styles[n]=rn({},hl.styles[n]||{},u):hl.hooks.addPack(n,u),"fas"===n&&iA("fa",t)}var sA=hl.styles,eP=hl.shims,cA=function(){var t=function(a){return zw(sA,function(u,h,_){return u[_]=zw(h,a,{}),u},{})};t(function(s,a,u){return a[3]&&(s[a[3]]=u),s}),t(function(s,a,u){var h=a[2];return s[u]=u,h.forEach(function(_){s[_]=u}),s});var e="far"in sA;zw(eP,function(s,a){var h=a[1];return"far"===h&&!e&&(h="fas"),s[a[0]]={prefix:h,iconName:a[2]},s},{})};function dA(n,t,e){if(n&&n[t]&&n[t][e])return{prefix:t,iconName:e,icon:n[t][e]}}function X1(n){var t=n.tag,e=n.attributes,s=void 0===e?{}:e,a=n.children,u=void 0===a?[]:a;return"string"==typeof n?QS(n):"<".concat(t," ").concat(function(n){return Object.keys(n||{}).reduce(function(t,e){return t+"".concat(e,'="').concat(QS(n[e]),'" ')},"").trim()}(s),">").concat(u.map(X1).join(""),"</").concat(t,">")}cA();function rv(n){this.name="MissingIcon",this.message=n||"Icon unavailable",this.stack=(new Error).stack}(rv.prototype=Object.create(Error.prototype)).constructor=rv;var nb={fill:"currentColor"},_A={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},Ww=(rn({},nb,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}),rn({},_A,{attributeName:"opacity"}));function Zw(n){var t=n[0],e=n[1],u=Aw(n.slice(4),1)[0];return{found:!0,width:t,height:e,icon:Array.isArray(u)?{tag:"g",attributes:{class:"".concat(qt.familyPrefix,"-").concat(Xp.GROUP)},children:[{tag:"path",attributes:{class:"".concat(qt.familyPrefix,"-").concat(Xp.SECONDARY),fill:"currentColor",d:u[0]}},{tag:"path",attributes:{class:"".concat(qt.familyPrefix,"-").concat(Xp.PRIMARY),fill:"currentColor",d:u[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:u}}}}function iv(){qt.autoAddCss&&!ib&&(function(n){if(n&&td){var t=jr.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=n;for(var e=jr.head.childNodes,s=null,a=e.length-1;a>-1;a--){var u=e[a],h=(u.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(h)>-1&&(s=u)}jr.head.insertBefore(t,s)}}(function(){var n="fa",t=LS,e=qt.familyPrefix,s=qt.replacementClass,a='svg:not(:root).svg-inline--fa {\n  overflow: visible;\n}\n\n.svg-inline--fa {\n  display: inline-block;\n  font-size: inherit;\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.225em;\n}\n.svg-inline--fa.fa-w-1 {\n  width: 0.0625em;\n}\n.svg-inline--fa.fa-w-2 {\n  width: 0.125em;\n}\n.svg-inline--fa.fa-w-3 {\n  width: 0.1875em;\n}\n.svg-inline--fa.fa-w-4 {\n  width: 0.25em;\n}\n.svg-inline--fa.fa-w-5 {\n  width: 0.3125em;\n}\n.svg-inline--fa.fa-w-6 {\n  width: 0.375em;\n}\n.svg-inline--fa.fa-w-7 {\n  width: 0.4375em;\n}\n.svg-inline--fa.fa-w-8 {\n  width: 0.5em;\n}\n.svg-inline--fa.fa-w-9 {\n  width: 0.5625em;\n}\n.svg-inline--fa.fa-w-10 {\n  width: 0.625em;\n}\n.svg-inline--fa.fa-w-11 {\n  width: 0.6875em;\n}\n.svg-inline--fa.fa-w-12 {\n  width: 0.75em;\n}\n.svg-inline--fa.fa-w-13 {\n  width: 0.8125em;\n}\n.svg-inline--fa.fa-w-14 {\n  width: 0.875em;\n}\n.svg-inline--fa.fa-w-15 {\n  width: 0.9375em;\n}\n.svg-inline--fa.fa-w-16 {\n  width: 1em;\n}\n.svg-inline--fa.fa-w-17 {\n  width: 1.0625em;\n}\n.svg-inline--fa.fa-w-18 {\n  width: 1.125em;\n}\n.svg-inline--fa.fa-w-19 {\n  width: 1.1875em;\n}\n.svg-inline--fa.fa-w-20 {\n  width: 1.25em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-border {\n  height: 1.5em;\n}\n.svg-inline--fa.fa-li {\n  width: 2em;\n}\n.svg-inline--fa.fa-fw {\n  width: 1.25em;\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: #ff253a;\n  border-radius: 1em;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #fff;\n  height: 1.5em;\n  line-height: 1;\n  max-width: 5em;\n  min-width: 1.5em;\n  overflow: hidden;\n  padding: 0.25em;\n  right: 0;\n  text-overflow: ellipsis;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: 0;\n  right: 0;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: 0;\n  left: 0;\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  right: 0;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: 0;\n  right: auto;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-lg {\n  font-size: 1.3333333333em;\n  line-height: 0.75em;\n  vertical-align: -0.0667em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit;\n}\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: 0.1em;\n  padding: 0.2em 0.25em 0.15em;\n}\n\n.fa-pull-left {\n  float: left;\n}\n\n.fa-pull-right {\n  float: right;\n}\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: 0.3em;\n}\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: 0.3em;\n}\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear;\n}\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8);\n}\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical,\n:root .fa-flip-both {\n  -webkit-filter: none;\n          filter: none;\n}\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: #fff;\n}\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse {\n  color: #fff;\n}';if(e!==n||s!==t){var u=new RegExp("\\.".concat(n,"\\-"),"g"),h=new RegExp("\\--".concat(n,"\\-"),"g"),_=new RegExp("\\.".concat(t),"g");a=a.replace(u,".".concat(e,"-")).replace(h,"--".concat(e,"-")).replace(_,".".concat(s))}return a}()),ib=!0)}function rb(n,t){return Object.defineProperty(n,"abstract",{get:t}),Object.defineProperty(n,"html",{get:function(){return n.abstract.map(function(s){return X1(s)})}}),Object.defineProperty(n,"node",{get:function(){if(td){var s=jr.createElement("div");return s.innerHTML=n.html,s.children}}}),n}function Qw(n){var t=n.prefix,e=void 0===t?"fa":t,s=n.iconName;if(s)return dA(EA.definitions,e,s)||dA(hl.styles,e,s)}rn({},nb,{cx:"256",cy:"364",r:"28"}),rn({},_A,{attributeName:"r",values:"28;14;28;28;14;28;"}),rn({},Ww,{values:"1;0;1;1;0;1;"}),rn({},nb,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),rn({},Ww,{values:"1;0;0;0;0;1;"}),rn({},nb,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),rn({},Ww,{values:"0;0;1;1;0;0;"});var EA=new(function(){function n(){(function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")})(this,n),this.definitions={}}return function(n,t,e){t&&AS(n.prototype,t)}(n,[{key:"add",value:function(){for(var e=this,s=arguments.length,a=new Array(s),u=0;u<s;u++)a[u]=arguments[u];var h=a.reduce(this._pullDefinitions,{});Object.keys(h).forEach(function(_){e.definitions[_]=rn({},e.definitions[_]||{},h[_]),iA(_,h[_]),cA()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,s){var a=s.prefix&&s.iconName&&s.icon?{0:s}:s;return Object.keys(a).map(function(u){var h=a[u],_=h.prefix,C=h.iconName,S=h.icon;e[_]||(e[_]={}),e[_][C]=S}),e}}]),n}()),ib=!1,wA_transform=function(t){return function(t){var e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t?t.toLowerCase().split(" ").reduce(function(s,a){var u=a.toLowerCase().split("-"),h=u[0],_=u.slice(1).join("-");if(h&&"h"===_)return s.flipX=!0,s;if(h&&"v"===_)return s.flipY=!0,s;if(_=parseFloat(_),isNaN(_))return s;switch(h){case"grow":s.size=s.size+_;break;case"shrink":s.size=s.size-_;break;case"left":s.x=s.x-_;break;case"right":s.x=s.x+_;break;case"up":s.y=s.y-_;break;case"down":s.y=s.y+_;break;case"rotate":s.rotate=s.rotate+_}return s},e):e}(t)},IA=function(n){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=(t||{}).icon?t:Qw(t||{}),a=e.mask;return a&&(a=(a||{}).icon?a:Qw(a||{})),n(s,rn({},e,{mask:a}))}}(function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=t.transform,s=void 0===e?id:e,a=t.symbol,u=void 0!==a&&a,h=t.mask,_=void 0===h?null:h,C=t.maskId,S=void 0===C?null:C,k=t.title,L=void 0===k?null:k,Q=t.titleId,ye=void 0===Q?null:Q,Ee=t.classes,Ve=void 0===Ee?[]:Ee,$e=t.attributes,ft=void 0===$e?{}:$e,ut=t.styles,_t=void 0===ut?{}:ut;if(n){var at=n.prefix,_n=n.iconName,fn=n.icon;return rb(rn({type:"icon"},n),function(){return iv(),qt.autoA11y&&(L?ft["aria-labelledby"]="".concat(qt.replacementClass,"-title-").concat(ye||tv()):(ft["aria-hidden"]="true",ft.focusable="false")),Uw({icons:{main:Zw(fn),mask:_?Zw(_.icon):{found:!1,width:null,height:null,icon:{}}},prefix:at,iconName:_n,transform:rn({},id,s),symbol:u,title:L,maskId:S,titleId:ye,extra:{attributes:ft,styles:_t,classes:Ve}})})}});const VP=["*"],jP=n=>{const t={"fa-spin":n.spin,"fa-pulse":n.pulse,"fa-fw":n.fixedWidth,"fa-border":n.border,"fa-inverse":n.inverse,"fa-layers-counter":n.counter,"fa-flip-horizontal":"horizontal"===n.flip||"both"===n.flip,"fa-flip-vertical":"vertical"===n.flip||"both"===n.flip,[`fa-${n.size}`]:null!==n.size,[`fa-rotate-${n.rotate}`]:null!==n.rotate,[`fa-pull-${n.pull}`]:null!==n.pull,[`fa-stack-${n.stackItemSize}`]:null!=n.stackItemSize};return Object.keys(t).map(e=>t[e]?e:null).filter(e=>e)};let $P=(()=>{class n{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),GP=(()=>{class n{constructor(){this.definitions={}}addIcons(...e){for(const s of e){s.prefix in this.definitions||(this.definitions[s.prefix]={}),this.definitions[s.prefix][s.iconName]=s;for(const a of s.icon[2])"string"==typeof a&&(this.definitions[s.prefix][a]=s)}}addIconPacks(...e){for(const s of e){const a=Object.keys(s).map(u=>s[u]);this.addIcons(...a)}}getIconDefinition(e,s){return e in this.definitions&&s in this.definitions[e]?this.definitions[e][s]:null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),WP=(()=>{class n{constructor(){this.stackItemSize="1x"}ngOnChanges(e){if("size"in e)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=d.lG2({type:n,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[d.TTD]}),n})(),qP=(()=>{class n{constructor(e,s){this.renderer=e,this.elementRef=s}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(e){"size"in e&&(null!=e.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${e.size.currentValue}`),null!=e.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${e.size.previousValue}`))}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(d.Qsj),d.Y36(d.SBq))},n.\u0275cmp=d.Xpm({type:n,selectors:[["fa-stack"]],inputs:{size:"size"},features:[d.TTD],ngContentSelectors:VP,decls:1,vars:0,template:function(e,s){1&e&&(d.F$t(),d.Hsn(0))},encapsulation:2}),n})(),ZP=(()=>{class n{constructor(e,s,a,u,h){this.sanitizer=e,this.config=s,this.iconLibrary=a,this.stackItem=u,this.classes=[],null!=h&&null==u&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(e){if(null==this.icon&&null==this.config.fallbackIcon)return(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})();let s=null;if(s=null==this.icon?this.config.fallbackIcon:this.icon,e){const a=this.findIconDefinition(s);if(null!=a){const u=this.buildParams();this.renderIcon(a,u)}}}render(){this.ngOnChanges({})}findIconDefinition(e){const s=((n,t)=>(n=>void 0!==n.prefix&&void 0!==n.iconName)(n)?n:Array.isArray(n)&&2===n.length?{prefix:n[0],iconName:n[1]}:"string"==typeof n?{prefix:t,iconName:n}:void 0)(e,this.config.defaultPrefix);if("icon"in s)return s;const a=this.iconLibrary.getIconDefinition(s.prefix,s.iconName);return null!=a?a:((n=>{throw new Error(`Could not find icon with iconName=${n.iconName} and prefix=${n.prefix} in the icon library.`)})(s),null)}buildParams(){const e={flip:this.flip,spin:this.spin,pulse:this.pulse,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},s="string"==typeof this.transform?wA_transform(this.transform):this.transform;return{title:this.title,transform:s,classes:[...jP(e),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(e,s){const a=IA(e,s);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(a.html.join("\n"))}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(Js),d.Y36($P),d.Y36(GP),d.Y36(WP,8),d.Y36(qP,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(e,s){2&e&&(d.Ikx("innerHTML",s.renderedIconHTML,d.oJD),d.uIk("title",s.title))},inputs:{icon:"icon",title:"title",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[d.TTD],decls:0,vars:0,template:function(e,s){},encapsulation:2}),n})(),YP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})(),KP=(()=>{class n{constructor(e,s){this.db=e,this.auth=s,this.faThumbsUp=SS,this.faThumbsDown=TS,this.faShareSquare=IS,this.uid=null,this.upvote=0,this.downvote=0,this.auth.getUser().subscribe(a=>{this.uid=null==a?void 0:a.uid})}ngOnChanges(){this.post.vote&&Object.values(this.post.vote).map(e=>{e.upvote&&(this.upvote+=1),e.downvote&&(this.downvote+=1)})}ngOnInit(){}upvotePost(){console.log("UpVoating"),this.db.object(`posts/${this.post.id}/vote/${this.uid}`).set({upvote:1})}downvotePost(){console.log("DownVoating"),this.db.object(`posts/${this.post.id}/vote/${this.uid}`).set({downvote:1})}getInstaUrl(){return`https://instagram.com/${this.post.instaId}`}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(Pf),d.Y36(Zu))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-post"]],inputs:{post:"post"},features:[d.TTD],decls:20,vars:10,consts:[[1,"card","mb-3","border-secondary"],["href","#","target","_blank"],["height","500","width","auto",1,"card-img-top","img-fluid",3,"src"],[1,"card-body"],[1,"card-title","text-primary","text-uppercase"],[1,"card-text"],[1,"text-muted"],[1,"card-footer","bg-transparent","border-secondary","d-flex","justify-content-around","align-content-center"],[1,"text-primary",3,"click"],["size","lg","primaryColor","blue",3,"icon"],[1,"text-secondary",3,"click"],["target","_blank",1,"text-primary",3,"href"]],template:function(e,s){1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"a",1),d._UZ(2,"img",2),d.qZA(),d.TgZ(3,"div",3),d.TgZ(4,"h5",4),d._uU(5),d.qZA(),d.TgZ(6,"p",5),d._uU(7),d.qZA(),d.TgZ(8,"p",5),d.TgZ(9,"small",6),d._uU(10),d.qZA(),d.qZA(),d.qZA(),d.TgZ(11,"div",7),d.TgZ(12,"div",8),d.NdJ("click",function(){return s.upvotePost()}),d._UZ(13,"fa-icon",9),d._uU(14),d.qZA(),d.TgZ(15,"div",10),d.NdJ("click",function(){return s.downvotePost()}),d._UZ(16,"fa-icon",9),d._uU(17),d.qZA(),d.TgZ(18,"a",11),d._UZ(19,"fa-icon",9),d.qZA(),d.qZA(),d.qZA()),2&e&&(d.xp6(2),d.Q6J("src",s.post.picture,d.LSH),d.xp6(3),d.hij(" ",s.post.locationName," "),d.xp6(2),d.Oqu(s.post.description),d.xp6(3),d.hij("by:- ",s.post.by,""),d.xp6(3),d.Q6J("icon",s.faThumbsUp),d.xp6(1),d.hij(" ",s.upvote," "),d.xp6(2),d.Q6J("icon",s.faThumbsDown),d.xp6(1),d.hij(" ",s.downvote," "),d.xp6(1),d.Q6J("href",s.getInstaUrl(),d.LSH),d.xp6(1),d.Q6J("icon",s.faShareSquare))},directives:[ZP],styles:[""]}),n})(),QP=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-user"]],inputs:{user:"user"},decls:9,vars:5,consts:[[1,"card","mb-3","mt-4","horizontal-display"],[1,"d-flex","justify-content-center","align-items-center"],["width","30","height","40",1,"rounded-circle","ml-2",3,"src"],[1,"card-body"],[1,"card-title"],[1,"card-text"]],template:function(e,s){1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d._UZ(2,"img",2),d.qZA(),d.TgZ(3,"div",3),d.TgZ(4,"h5",4),d._uU(5),d.ALo(6,"uppercase"),d.qZA(),d.TgZ(7,"p",5),d._uU(8),d.qZA(),d.qZA(),d.qZA()),2&e&&(d.xp6(2),d.Q6J("src",s.user.picture,d.LSH),d.xp6(3),d.Oqu(d.lcZ(6,3,s.user.name)),d.xp6(3),d.Oqu(s.user.bio))},pipes:[yl],styles:[""]}),n})();function JP(n,t){1&n&&(d.TgZ(0,"div",3),d._UZ(1,"div",4),d.qZA())}function XP(n,t){if(1&n&&(d.TgZ(0,"div"),d._UZ(1,"app-post",10),d.qZA()),2&n){const e=t.$implicit;d.xp6(1),d.Q6J("post",e)}}function e9(n,t){if(1&n&&(d.TgZ(0,"div"),d._UZ(1,"app-user",11),d.qZA()),2&n){const e=t.$implicit;d.xp6(1),d.Q6J("user",e)}}function t9(n,t){if(1&n&&(d.TgZ(0,"div",5),d.TgZ(1,"div",6),d.YNc(2,XP,2,1,"div",7),d.qZA(),d.TgZ(3,"div",8),d.TgZ(4,"p",9),d._uU(5,"Recent new User"),d.qZA(),d.YNc(6,e9,2,1,"div",7),d.qZA(),d.qZA()),2&n){const e=d.oxw();d.xp6(2),d.Q6J("ngForOf",e.posts),d.xp6(4),d.Q6J("ngForOf",e.users)}}let n9=(()=>{class n{constructor(e,s){this.db=e,this.toastr=s,this.users=[],this.posts=[],this.isLoading=!1,this.isLoading=!0,e.object("/users").valueChanges().subscribe(a=>{a?(this.users=Object.values(a),this.isLoading=!1):(this.toastr.error("No use Found"),this.users=[],this.isLoading=!1)}),e.object("/posts").valueChanges().subscribe(a=>{a?(this.posts=Object.values(a).sort((u,h)=>h.date-u.date),this.isLoading=!1):(this.toastr.error("No Postd to display"),this.posts=[],this.isLoading=!1)})}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(Pf),d.Y36(qu))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-home"]],decls:4,vars:2,consts:[[1,"container"],["class","d-flex justify-content-center align-items-center min-vh-100",4,"ngIf","ngIfElse"],["Content",""],[1,"d-flex","justify-content-center","align-items-center","min-vh-100"],["role","status",1,"spinner-border","text-light",2,"width","3rem","height","3rem"],[1,"row","m-5"],[1,"col","col-md-7"],[4,"ngFor","ngForOf"],[1,"col","col-md-5"],[1,"text-muted","text-uppercase","text-center"],[3,"post"],[3,"user"]],template:function(e,s){if(1&e&&(d.TgZ(0,"div",0),d.YNc(1,JP,2,0,"div",1),d.YNc(2,t9,7,2,"ng-template",null,2,d.W1O),d.qZA()),2&e){const a=d.MAs(3);d.xp6(1),d.Q6J("ngIf",s.isLoading)("ngIfElse",a)}},directives:[oi,tn,KP,QP],styles:[""]}),n})(),r9=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-pagenotfound"]],decls:2,vars:0,template:function(e,s){1&e&&(d.TgZ(0,"p"),d._uU(1,"pagenotfound works!"),d.qZA())},styles:[""]}),n})();function s9(n,t){1&n&&(d.TgZ(0,"div",27),d._uU(1," Upload finished "),d.qZA())}const TA=()=>(n=>(0,R0.z)(cc,(0,Vt.U)(t=>t||n)))(["signin"]),SA=()=>(n=>(0,R0.z)(cc,(0,Vt.U)(t=>t&&n||!0)))([""]),a9=[{path:"signin",component:(()=>{class n{constructor(e,s,a){this.auth=e,this.router=s,this.toastr=a}ngOnInit(){}onSubmit(e){const{email:s,password:a}=e.form.value;this.auth.signIn(s,a).then(u=>{this.toastr.success("Sign-In Success"),this.router.navigateByUrl("/")}).catch(u=>{console.log(u),this.toastr.error("Error Signing-In")})}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(Zu),d.Y36(Tr),d.Y36(qu))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-signin"]],decls:24,vars:1,consts:[[1,"container"],[1,"row","mt-5"],[1,"col","col-6","offset-3"],[1,"card"],[1,"card-header","text-center","text-info","text-uppercase"],[1,"card-body"],[3,"ngSubmit"],["f","ngForm"],[1,"form-group","row"],["for","email",1,"col-sm-3","col-form-label"],[1,"col-sm-9"],["type","email","id","email","name","email","placeholder","Enter Email","ngModel","","required","",1,"form-control"],["for","password",1,"col-sm-3","col-form-label"],["type","password","id","password","name","password","placeholder","Enter password","ngModel","","required","",1,"form-control"],["id","emailHelp",1,"form-text","text-muted"],[1,"text-center"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(e,s){if(1&e){const a=d.EpF();d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"div",2),d.TgZ(3,"div",3),d.TgZ(4,"div",4),d._uU(5," Sign In Please "),d.qZA(),d.TgZ(6,"div",5),d.TgZ(7,"form",6,7),d.NdJ("ngSubmit",function(){d.CHM(a);const h=d.MAs(8);return s.onSubmit(h)}),d.TgZ(9,"div",8),d.TgZ(10,"label",9),d._uU(11,"Email"),d.qZA(),d.TgZ(12,"div",10),d._UZ(13,"input",11),d.qZA(),d.qZA(),d.TgZ(14,"div",8),d.TgZ(15,"label",12),d._uU(16,"Password"),d.qZA(),d.TgZ(17,"div",10),d._UZ(18,"input",13),d.TgZ(19,"small",14),d._uU(20,"Minimum length of the password should be 6 or more"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(21,"div",15),d.TgZ(22,"button",16),d._uU(23," Sign In "),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()}if(2&e){const a=d.MAs(8);d.xp6(22),d.Q6J("disabled",!a.form.valid)}},directives:[$f,V1,Hf,Bf,L1,Ec,Ic],styles:[""]}),n})(),canActivate:[tf],data:{authGuardPipe:SA}},{path:"signup",component:(()=>{class n{constructor(e,s,a,u,h){this.auth=e,this.router=s,this.db=a,this.storage=u,this.toastr=h,this.picture="https://learnyst.s3.amazonaws.com/assets/schools/2410/resources/images/logo_lco_i3oab.png",this.uploadPercent=null}ngOnInit(){}onSubmit(e){const{email:s,password:a,username:u,country:h,bio:_,name:C}=e.form.value;this.auth.signUp(s,a).then(S=>{console.log(S);const{uid:k}=S.user;this.db.object(`/users/${k}`).set({id:k,name:C,email:s,instaUserName:u,country:h,bio:_,picture:this.picture})}).then(()=>{this.router.navigateByUrl("/"),this.toastr.success("SignUp Success")}).catch(S=>{this.toastr.error("Signup failed")})}uploadFile(e){var s=this;return(0,zi.Z)(function*(){const a=e.target.files[0];let u=yield(0,r2.readAndCompressImage)(a,Mn);const h=a.name,_=s.storage.ref(h),C=s.storage.upload(h,u);C.percentageChanges().subscribe(S=>{s.uploadPercent=S}),C.snapshotChanges().pipe(eu(()=>{_.getDownloadURL().subscribe(S=>{s.picture=S,s.toastr.success("image upload success")})})).subscribe()})()}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(Zu),d.Y36(Tr),d.Y36(Pf),d.Y36(uy),d.Y36(qu))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-signup"]],decls:53,vars:8,consts:[[1,"container"],[1,"row","mt-5","mb-3"],[1,"col","col-6","offset-3"],[1,"card","border-primary"],[1,"card-header","text-center","text-info","text-uppercase"],[1,"card-body"],[3,"ngSubmit"],["f","ngForm"],[1,"text-center"],["for","imagepicker",1,""],["width","40","height","40","alt","",1,"profile",3,"src"],["type","file","name","image","id","imagepicker","accept","image/*","multiple","{false}","hidden","",1,"hidden",3,"change"],[1,"text-white","text-center",3,"hidden"],["class","text-success text-uppercase text-center mb-3",4,"ngIf"],[1,"form-group","row"],["for","name",1,"col-sm-3","col-form-label"],[1,"col-sm-9"],["type","name","id","name","name","name","placeholder","Enter Name","required","","ngModel","",1,"form-control"],["for","email",1,"col-sm-3","col-form-label"],["type","email","id","email","name","email","placeholder","Enter Email","required","","ngModel","",1,"form-control"],["for","password",1,"col-sm-3","col-form-label"],["type","password","id","password","name","password","placeholder","Enter password","required","","ngModel","",1,"form-control"],["id","emailHelp",1,"form-text","text-muted"],["type","text","id","username","name","username","placeholder","Enter your handle of instagram","required","","ngModel","",1,"form-control"],["type","text","id","country","name","country","placeholder","Your Country","required","","ngModel","",1,"form-control"],["type","text","id","bio","name","bio","placeholder","some bio about you","required","","ngModel","",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"text-success","text-uppercase","text-center","mb-3"]],template:function(e,s){if(1&e){const a=d.EpF();d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"div",2),d.TgZ(3,"div",3),d.TgZ(4,"div",4),d._uU(5," Sign Up Please "),d.qZA(),d.TgZ(6,"div",5),d.TgZ(7,"form",6,7),d.NdJ("ngSubmit",function(){d.CHM(a);const h=d.MAs(8);return s.onSubmit(h)}),d.TgZ(9,"div"),d.TgZ(10,"div",8),d.TgZ(11,"label",9),d._UZ(12,"img",10),d.qZA(),d.TgZ(13,"input",11),d.NdJ("change",function(h){return s.uploadFile(h)}),d.qZA(),d.qZA(),d.TgZ(14,"div",12),d._uU(15),d.ALo(16,"number"),d.qZA(),d.YNc(17,s9,2,0,"div",13),d.qZA(),d.TgZ(18,"div",14),d.TgZ(19,"label",15),d._uU(20,"Name"),d.qZA(),d.TgZ(21,"div",16),d._UZ(22,"input",17),d.qZA(),d.qZA(),d.TgZ(23,"div",14),d.TgZ(24,"label",18),d._uU(25,"Email"),d.qZA(),d.TgZ(26,"div",16),d._UZ(27,"input",19),d.qZA(),d.qZA(),d.TgZ(28,"div",14),d.TgZ(29,"label",20),d._uU(30,"Password"),d.qZA(),d.TgZ(31,"div",16),d._UZ(32,"input",21),d.TgZ(33,"small",22),d._uU(34,"Minimum length of the password should be 6 or more"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(35,"div",14),d.TgZ(36,"label",18),d._uU(37,"Instagram name"),d.qZA(),d.TgZ(38,"div",16),d._UZ(39,"input",23),d.qZA(),d.qZA(),d.TgZ(40,"div",14),d.TgZ(41,"label",18),d._uU(42,"Country"),d.qZA(),d.TgZ(43,"div",16),d._UZ(44,"input",24),d.qZA(),d.qZA(),d.TgZ(45,"div",14),d.TgZ(46,"label",18),d._uU(47,"bio"),d.qZA(),d.TgZ(48,"div",16),d._UZ(49,"textarea",25),d.qZA(),d.qZA(),d.TgZ(50,"div",8),d.TgZ(51,"button",26),d._uU(52," Sign Up "),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()}if(2&e){const a=d.MAs(8);d.xp6(12),d.Q6J("src",s.picture,d.LSH),d.xp6(2),d.Q6J("hidden",!s.uploadPercent||100==s.uploadPercent),d.xp6(1),d.hij(" uploading ",d.xi3(16,5,s.uploadPercent,"1.0-0")," % of 100% "),d.xp6(2),d.Q6J("ngIf",100==s.uploadPercent),d.xp6(34),d.Q6J("disabled",!a.form.valid)}},directives:[$f,V1,Hf,oi,Bf,Ic,L1,Ec],pipes:[Vo],styles:[""]}),n})(),canActivate:[tf],data:{authGuardPipe:SA}},{path:"addpost",component:c,canActivate:[tf],data:{authGuardPipe:TA}},{path:"",component:n9,canActivate:[tf],data:{authGuardPipe:TA}},{path:"**",component:r9}];let l9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[S0.forRoot(a9)],S0]}),n})();function c9(n,t){if(1&n&&(d.TgZ(0,"div",12),d._uU(1),d.qZA()),2&n){const e=d.oxw();d.xp6(1),d.hij(" ",e.email," ")}}const u9=function(){return["/signin"]};function d9(n,t){1&n&&(d.TgZ(0,"a",13),d._uU(1,"Sign In"),d.qZA()),2&n&&d.Q6J("routerLink",d.DdM(1,u9))}const f9=function(){return["/signup"]};function h9(n,t){1&n&&(d.TgZ(0,"a",13),d._uU(1,"Sign Up"),d.qZA()),2&n&&d.Q6J("routerLink",d.DdM(1,f9))}const p9=function(){return["/signout"]};function g9(n,t){if(1&n){const e=d.EpF();d.TgZ(0,"a",14),d.NdJ("click",function(){return d.CHM(e),d.oxw().handleSignOut()}),d._uU(1,"Log Out"),d.qZA()}2&n&&d.Q6J("routerLink",d.DdM(1,p9))}const m9=function(){return["/addpost"]};function _9(n,t){1&n&&(d.TgZ(0,"a",15),d._uU(1," Post Your Story"),d.qZA()),2&n&&d.Q6J("routerLink",d.DdM(1,m9))}const AA=function(){return["/"]};let y9=(()=>{class n{constructor(e,s,a){this.router=e,this.auth=s,this.toastr=a,this.email=null,s.getUser().subscribe(u=>{console.log(u),this.email=null==u?void 0:u.email})}handleSignOut(){var e=this;return(0,zi.Z)(function*(){try{yield e.auth.signOut(),e.router.navigateByUrl("/signin"),e.toastr.info("Log Out Success"),e.email=null}catch(s){e.toastr.error("Error Signing Out")}})()}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(Tr),d.Y36(Zu),d.Y36(qu))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-header"]],decls:15,vars:9,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-primary"],[1,"navbar-brand",3,"routerLink"],["src","../../../assets/img.png","width","30","height","30","alt","",1,"d-inline-block","align-top"],["type","button","data-toggle","collapse","data-target","#navbarNavAltMarkup","aria-controls","navbarNavAltMarkup","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNavAltMarkup",1,"collapse","navbar-collapse"],[1,"navbar-nav","ml-auto"],["class","navbar-text float-left",4,"ngIf"],[1,"nav-item","nav-link",3,"routerLink"],["routerLinkActive","active","class","nav-item nav-link",3,"routerLink",4,"ngIf"],["class","nav-item nav-link text-warning",3,"routerLink","click",4,"ngIf"],["class","nav-item nav-link btn btn-warning text-primary",3,"routerLink",4,"ngIf"],[1,"navbar-text","float-left"],["routerLinkActive","active",1,"nav-item","nav-link",3,"routerLink"],[1,"nav-item","nav-link","text-warning",3,"routerLink","click"],[1,"nav-item","nav-link","btn","btn-warning","text-primary",3,"routerLink"]],template:function(e,s){1&e&&(d.TgZ(0,"nav",0),d.TgZ(1,"a",1),d._UZ(2,"img",2),d._uU(3," LCO Social Network "),d.qZA(),d.TgZ(4,"button",3),d._UZ(5,"span",4),d.qZA(),d.TgZ(6,"div",5),d.TgZ(7,"div",6),d.YNc(8,c9,2,1,"div",7),d.TgZ(9,"a",8),d._uU(10,"Home"),d.qZA(),d.YNc(11,d9,2,2,"a",9),d.YNc(12,h9,2,2,"a",9),d.YNc(13,g9,2,2,"a",10),d.YNc(14,_9,2,2,"a",11),d.qZA(),d.qZA(),d.qZA()),2&e&&(d.xp6(1),d.Q6J("routerLink",d.DdM(7,AA)),d.xp6(7),d.Q6J("ngIf",s.email),d.xp6(1),d.Q6J("routerLink",d.DdM(8,AA)),d.xp6(2),d.Q6J("ngIf",!s.email),d.xp6(1),d.Q6J("ngIf",!s.email),d.xp6(1),d.Q6J("ngIf",s.email),d.xp6(1),d.Q6J("ngIf",s.email))},directives:[Nh,oi,Kg],styles:[".active[_ngcontent-%COMP%]{border-bottom:1px solid #fff}"]}),n})(),v9=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-footer"]],decls:6,vars:0,consts:[[1,"container-fluid","bg-primary"],[1,"row","p-2"],[1,"col-4","ext-center","text-white"]],template:function(e,s){1&e&&(d.TgZ(0,"footer",0),d.TgZ(1,"div",1),d.TgZ(2,"div",2),d._uU(3,"Social App"),d.qZA(),d.TgZ(4,"div",2),d._uU(5,"Created By Nikhil"),d.qZA(),d.qZA(),d.qZA())},styles:[""]}),n})(),b9=(()=>{class n{constructor(e){this.title="travel-gram"}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(Zu))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-root"]],decls:5,vars:0,consts:[[1,"bg-dark"],[1,"container","min-vh-100"]],template:function(e,s){1&e&&(d.TgZ(0,"div",0),d._UZ(1,"app-header"),d.TgZ(2,"div",1),d._UZ(3,"router-outlet"),d.qZA(),d._UZ(4,"app-footer"),d.qZA())},directives:[y9,Kd,v9],styles:[""]}),n})();function DA(){return"undefined"!=typeof window&&void 0!==window.document}function Jw(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Qf(n){switch(n.length){case 0:return new Uf;case 1:return n[0];default:return new P1(n)}}function RA(n,t,e,s,a={},u={}){const h=[],_=[];let C=-1,S=null;if(s.forEach(k=>{const L=k.offset,Q=L==C,ye=Q&&S||{};Object.keys(k).forEach(Ee=>{let Ve=Ee,$e=k[Ee];if("offset"!==Ee)switch(Ve=t.normalizePropertyName(Ve,h),$e){case"!":$e=a[Ee];break;case yc:$e=u[Ee];break;default:$e=t.normalizeStyleValue(Ee,Ve,$e,h)}ye[Ve]=$e}),Q||_.push(ye),S=ye,C=L}),h.length){const k="\n - ";throw new Error(`Unable to animate due to the following errors:${k}${h.join(k)}`)}return _}function Xw(n,t,e,s){switch(t){case"start":n.onStart(()=>s(e&&eI(e,"start",n)));break;case"done":n.onDone(()=>s(e&&eI(e,"done",n)));break;case"destroy":n.onDestroy(()=>s(e&&eI(e,"destroy",n)))}}function eI(n,t,e){const s=e.totalTime,u=tI(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==s?n.totalTime:s,!!e.disabled),h=n._data;return null!=h&&(u._data=h),u}function tI(n,t,e,s,a="",u=0,h){return{element:n,triggerName:t,fromState:e,toState:s,phaseName:a,totalTime:u,disabled:!!h}}function Ro(n,t,e){let s;return n instanceof Map?(s=n.get(t),s||n.set(t,s=e)):(s=n[t],s||(s=n[t]=e)),s}function MA(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let nI=(n,t)=>!1,rI=(n,t)=>!1,PA=(n,t,e)=>[];const NA=Jw();(NA||"undefined"!=typeof Element)&&(nI=DA()?(n,t)=>{for(;t&&t!==document.documentElement;){if(t===n)return!0;t=t.parentNode||t.host}return!1}:(n,t)=>n.contains(t),rI=(()=>{if(NA||Element.prototype.matches)return(n,t)=>n.matches(t);{const n=Element.prototype,t=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;return t?(e,s)=>t.apply(e,[s]):rI}})(),PA=(n,t,e)=>{let s=[];if(e){const a=n.querySelectorAll(t);for(let u=0;u<a.length;u++)s.push(a[u])}else{const a=n.querySelector(t);a&&s.push(a)}return s});let eg=null,OA=!1;function iI(n){eg||(eg=("undefined"!=typeof document?document.body:null)||{},OA=!!eg.style&&"WebkitAppearance"in eg.style);let t=!0;return eg.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in eg.style,!t&&OA&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in eg.style)),t}const sI=rI,oI=nI,aI=PA;function xA(n){const t={};return Object.keys(n).forEach(e=>{const s=e.replace(/([a-z])([A-Z])/g,"$1-$2");t[s]=n[e]}),t}let kA=(()=>{class n{validateStyleProperty(e){return iI(e)}matchesElement(e,s){return sI(e,s)}containsElement(e,s){return oI(e,s)}query(e,s,a){return aI(e,s,a)}computeStyle(e,s,a){return a||""}animate(e,s,a,u,h,_=[],C){return new Uf(a,u)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),lI=(()=>{class n{}return n.NOOP=new kA,n})();const cI="ng-enter",sb="ng-leave",ob="ng-trigger",ab=".ng-trigger",LA="ng-animating",uI=".ng-animating";function tg(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:dI(parseFloat(t[1]),t[2])}function dI(n,t){switch(t){case"s":return 1e3*n;default:return n}}function lb(n,t,e){return n.hasOwnProperty("duration")?n:function(n,t,e){let a,u=0,h="";if("string"==typeof n){const _=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===_)return t.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};a=dI(parseFloat(_[1]),_[2]);const C=_[3];null!=C&&(u=dI(parseFloat(C),_[4]));const S=_[5];S&&(h=S)}else a=n;if(!e){let _=!1,C=t.length;a<0&&(t.push("Duration values below 0 are not allowed for this animation step."),_=!0),u<0&&(t.push("Delay values below 0 are not allowed for this animation step."),_=!0),_&&t.splice(C,0,`The provided timing value "${n}" is invalid.`)}return{duration:a,delay:u,easing:h}}(n,t,e)}function e0(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function Jf(n,t,e={}){if(t)for(let s in n)e[s]=n[s];else e0(n,e);return e}function UA(n,t,e){return e?t+":"+e+";":""}function BA(n){let t="";for(let e=0;e<n.style.length;e++){const s=n.style.item(e);t+=UA(0,s,n.style.getPropertyValue(s))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=UA(0,D9(e),n.style[e]));n.setAttribute("style",t)}function Tc(n,t,e){n.style&&(Object.keys(t).forEach(s=>{const a=hI(s);e&&!e.hasOwnProperty(s)&&(e[s]=n.style[a]),n.style[a]=t[s]}),Jw()&&BA(n))}function ng(n,t){n.style&&(Object.keys(t).forEach(e=>{const s=hI(e);n.style[s]=""}),Jw()&&BA(n))}function sv(n){return Array.isArray(n)?1==n.length?n[0]:s8(n):n}const fI=new RegExp("{{\\s*(.+?)\\s*}}","g");function jA(n){let t=[];if("string"==typeof n){let e;for(;e=fI.exec(n);)t.push(e[1]);fI.lastIndex=0}return t}function cb(n,t,e){const s=n.toString(),a=s.replace(fI,(u,h)=>{let _=t[h];return t.hasOwnProperty(h)||(e.push(`Please provide a value for the animation param ${h}`),_=""),_.toString()});return a==s?n:a}function ub(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const A9=/-+([a-z0-9])/g;function hI(n){return n.replace(A9,(...t)=>t[1].toUpperCase())}function D9(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function zA(n,t){return 0===n||0===t}function HA(n,t,e){const s=Object.keys(e);if(s.length&&t.length){let u=t[0],h=[];if(s.forEach(_=>{u.hasOwnProperty(_)||h.push(_),u[_]=e[_]}),h.length)for(var a=1;a<t.length;a++){let _=t[a];h.forEach(function(C){_[C]=pI(n,C)})}}return t}function Mo(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function pI(n,t){return window.getComputedStyle(n)[t]}function R9(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(s=>function(n,t,e){if(":"==n[0]){const C=function(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,s)=>parseFloat(s)>parseFloat(e);case":decrement":return(e,s)=>parseFloat(s)<parseFloat(e);default:return t.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,e);if("function"==typeof C)return void t.push(C);n=C}const s=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==s||s.length<4)return e.push(`The provided transition expression "${n}" is not supported`),t;const a=s[1],u=s[2],h=s[3];t.push($A(a,h));"<"==u[0]&&!("*"==a&&"*"==h)&&t.push($A(h,a))}(s,e,t)):e.push(n),e}const fb=new Set(["true","1"]),hb=new Set(["false","0"]);function $A(n,t){const e=fb.has(n)||hb.has(n),s=fb.has(t)||hb.has(t);return(a,u)=>{let h="*"==n||n==a,_="*"==t||t==u;return!h&&e&&"boolean"==typeof a&&(h=a?fb.has(n):hb.has(n)),!_&&s&&"boolean"==typeof u&&(_=u?fb.has(t):hb.has(t)),h&&_}}const N9=new RegExp("s*:selfs*,?","g");function gI(n,t,e){return new O9(n).build(t,e)}class O9{constructor(t){this._driver=t}build(t,e){const s=new F9(e);return this._resetContextStyleTimingState(s),Mo(this,sv(t),s)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let s=e.queryCount=0,a=e.depCount=0;const u=[],h=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(_=>{if(this._resetContextStyleTimingState(e),0==_.type){const C=_,S=C.name;S.toString().split(/\s*,\s*/).forEach(k=>{C.name=k,u.push(this.visitState(C,e))}),C.name=S}else if(1==_.type){const C=this.visitTransition(_,e);s+=C.queryCount,a+=C.depCount,h.push(C)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:u,transitions:h,queryCount:s,depCount:a,options:null}}visitState(t,e){const s=this.visitStyle(t.styles,e),a=t.options&&t.options.params||null;if(s.containsDynamicStyles){const u=new Set,h=a||{};if(s.styles.forEach(_=>{if(pb(_)){const C=_;Object.keys(C).forEach(S=>{jA(C[S]).forEach(k=>{h.hasOwnProperty(k)||u.add(k)})})}}),u.size){const _=ub(u.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${_.join(", ")}`)}}return{type:0,name:t.name,style:s,options:a?{params:a}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const s=Mo(this,sv(t.animation),e);return{type:1,matchers:R9(t.expr,e.errors),animation:s,queryCount:e.queryCount,depCount:e.depCount,options:rg(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(s=>Mo(this,s,e)),options:rg(t.options)}}visitGroup(t,e){const s=e.currentTime;let a=0;const u=t.steps.map(h=>{e.currentTime=s;const _=Mo(this,h,e);return a=Math.max(a,e.currentTime),_});return e.currentTime=a,{type:3,steps:u,options:rg(t.options)}}visitAnimate(t,e){const s=function(n,t){let e=null;if(n.hasOwnProperty("duration"))e=n;else if("number"==typeof n)return mI(lb(n,t).duration,0,"");const s=n;if(s.split(/\s+/).some(u=>"{"==u.charAt(0)&&"{"==u.charAt(1))){const u=mI(0,0,"");return u.dynamic=!0,u.strValue=s,u}return e=e||lb(s,t),mI(e.duration,e.delay,e.easing)}(t.timings,e.errors);e.currentAnimateTimings=s;let a,u=t.styles?t.styles:M1({});if(5==u.type)a=this.visitKeyframes(u,e);else{let h=t.styles,_=!1;if(!h){_=!0;const S={};s.easing&&(S.easing=s.easing),h=M1(S)}e.currentTime+=s.duration+s.delay;const C=this.visitStyle(h,e);C.isEmptyStep=_,a=C}return e.currentAnimateTimings=null,{type:4,timings:s,style:a,options:null}}visitStyle(t,e){const s=this._makeStyleAst(t,e);return this._validateStyleAst(s,e),s}_makeStyleAst(t,e){const s=[];Array.isArray(t.styles)?t.styles.forEach(h=>{"string"==typeof h?h==yc?s.push(h):e.errors.push(`The provided style string value ${h} is not allowed.`):s.push(h)}):s.push(t.styles);let a=!1,u=null;return s.forEach(h=>{if(pb(h)){const _=h,C=_.easing;if(C&&(u=C,delete _.easing),!a)for(let S in _)if(_[S].toString().indexOf("{{")>=0){a=!0;break}}}),{type:6,styles:s,easing:u,offset:t.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(t,e){const s=e.currentAnimateTimings;let a=e.currentTime,u=e.currentTime;s&&u>0&&(u-=s.duration+s.delay),t.styles.forEach(h=>{"string"!=typeof h&&Object.keys(h).forEach(_=>{if(!this._driver.validateStyleProperty(_))return void e.errors.push(`The provided animation property "${_}" is not a supported CSS property for animations`);const C=e.collectedStyles[e.currentQuerySelector],S=C[_];let k=!0;S&&(u!=a&&u>=S.startTime&&a<=S.endTime&&(e.errors.push(`The CSS property "${_}" that exists between the times of "${S.startTime}ms" and "${S.endTime}ms" is also being animated in a parallel animation between the times of "${u}ms" and "${a}ms"`),k=!1),u=S.startTime),k&&(C[_]={startTime:u,endTime:a}),e.options&&function(n,t,e){const s=t.params||{},a=jA(n);a.length&&a.forEach(u=>{s.hasOwnProperty(u)||e.push(`Unable to resolve the local animation param ${u} in the given list of values`)})}(h[_],e.options,e.errors)})})}visitKeyframes(t,e){const s={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),s;let u=0;const h=[];let _=!1,C=!1,S=0;const k=t.steps.map(ft=>{const ut=this._makeStyleAst(ft,e);let _t=null!=ut.offset?ut.offset:function(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(pb(e)&&e.hasOwnProperty("offset")){const s=e;t=parseFloat(s.offset),delete s.offset}});else if(pb(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(ut.styles),at=0;return null!=_t&&(u++,at=ut.offset=_t),C=C||at<0||at>1,_=_||at<S,S=at,h.push(at),ut});C&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),_&&e.errors.push("Please ensure that all keyframe offsets are in order");const L=t.steps.length;let Q=0;u>0&&u<L?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==u&&(Q=1/(L-1));const ye=L-1,Ee=e.currentTime,Ve=e.currentAnimateTimings,$e=Ve.duration;return k.forEach((ft,ut)=>{const _t=Q>0?ut==ye?1:Q*ut:h[ut],at=_t*$e;e.currentTime=Ee+Ve.delay+at,Ve.duration=at,this._validateStyleAst(ft,e),ft.offset=_t,s.styles.push(ft)}),s}visitReference(t,e){return{type:8,animation:Mo(this,sv(t.animation),e),options:rg(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:rg(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:rg(t.options)}}visitQuery(t,e){const s=e.currentQuerySelector,a=t.options||{};e.queryCount++,e.currentQuery=t;const[u,h]=function(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(N9,"")),[n=n.replace(/@\*/g,ab).replace(/@\w+/g,e=>ab+"-"+e.substr(1)).replace(/:animating/g,uI),t]}(t.selector);e.currentQuerySelector=s.length?s+" "+u:u,Ro(e.collectedStyles,e.currentQuerySelector,{});const _=Mo(this,sv(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=s,{type:11,selector:u,limit:a.limit||0,optional:!!a.optional,includeSelf:h,animation:_,originalSelector:t.selector,options:rg(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const s="full"===t.timings?{duration:0,delay:0,easing:"full"}:lb(t.timings,e.errors,!0);return{type:12,animation:Mo(this,sv(t.animation),e),timings:s,options:null}}}class F9{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function pb(n){return!Array.isArray(n)&&"object"==typeof n}function rg(n){return n?(n=e0(n)).params&&(n.params=function(n){return n?e0(n):null}(n.params)):n={},n}function mI(n,t,e){return{duration:n,delay:t,easing:e}}function _I(n,t,e,s,a,u,h=null,_=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:s,duration:a,delay:u,totalTime:a+u,easing:h,subTimeline:_}}class gb{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let s=this._map.get(t);s||this._map.set(t,s=[]),s.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const j9=new RegExp(":enter","g"),H9=new RegExp(":leave","g");function yI(n,t,e,s,a,u={},h={},_,C,S=[]){return(new $9).buildKeyframes(n,t,e,s,a,u,h,_,C,S)}class $9{buildKeyframes(t,e,s,a,u,h,_,C,S,k=[]){S=S||new gb;const L=new vI(t,e,S,a,u,k,[]);L.options=C,L.currentTimeline.setStyles([h],null,L.errors,C),Mo(this,s,L);const Q=L.timelines.filter(ye=>ye.containsAnimation());if(Q.length&&Object.keys(_).length){const ye=Q[Q.length-1];ye.allowOnlyTimelineStyles()||ye.setStyles([_],null,L.errors,C)}return Q.length?Q.map(ye=>ye.buildKeyframes()):[_I(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const s=e.subInstructions.consume(e.element);if(s){const a=e.createSubContext(t.options),u=e.currentTimeline.currentTime,h=this._visitSubInstructions(s,a,a.options);u!=h&&e.transformIntoNewTimeline(h)}e.previousNode=t}visitAnimateRef(t,e){const s=e.createSubContext(t.options);s.transformIntoNewTimeline(),this.visitReference(t.animation,s),e.transformIntoNewTimeline(s.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,s){let u=e.currentTimeline.currentTime;const h=null!=s.duration?tg(s.duration):null,_=null!=s.delay?tg(s.delay):null;return 0!==h&&t.forEach(C=>{const S=e.appendInstructionToTimeline(C,h,_);u=Math.max(u,S.duration+S.delay)}),u}visitReference(t,e){e.updateOptions(t.options,!0),Mo(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const s=e.subContextCount;let a=e;const u=t.options;if(u&&(u.params||u.delay)&&(a=e.createSubContext(u),a.transformIntoNewTimeline(),null!=u.delay)){6==a.previousNode.type&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=mb);const h=tg(u.delay);a.delayNextStep(h)}t.steps.length&&(t.steps.forEach(h=>Mo(this,h,a)),a.currentTimeline.applyStylesToKeyframe(),a.subContextCount>s&&a.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const s=[];let a=e.currentTimeline.currentTime;const u=t.options&&t.options.delay?tg(t.options.delay):0;t.steps.forEach(h=>{const _=e.createSubContext(t.options);u&&_.delayNextStep(u),Mo(this,h,_),a=Math.max(a,_.currentTimeline.currentTime),s.push(_.currentTimeline)}),s.forEach(h=>e.currentTimeline.mergeTimelineCollectedStyles(h)),e.transformIntoNewTimeline(a),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const s=t.strValue;return lb(e.params?cb(s,e.params,e.errors):s,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const s=e.currentAnimateTimings=this._visitTiming(t.timings,e),a=e.currentTimeline;s.delay&&(e.incrementTime(s.delay),a.snapshotCurrentStyles());const u=t.style;5==u.type?this.visitKeyframes(u,e):(e.incrementTime(s.duration),this.visitStyle(u,e),a.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const s=e.currentTimeline,a=e.currentAnimateTimings;!a&&s.getCurrentStyleProperties().length&&s.forwardFrame();const u=a&&a.easing||t.easing;t.isEmptyStep?s.applyEmptyStep(u):s.setStyles(t.styles,u,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const s=e.currentAnimateTimings,a=e.currentTimeline.duration,u=s.duration,_=e.createSubContext().currentTimeline;_.easing=s.easing,t.styles.forEach(C=>{_.forwardTime((C.offset||0)*u),_.setStyles(C.styles,C.easing,e.errors,e.options),_.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(_),e.transformIntoNewTimeline(a+u),e.previousNode=t}visitQuery(t,e){const s=e.currentTimeline.currentTime,a=t.options||{},u=a.delay?tg(a.delay):0;u&&(6===e.previousNode.type||0==s&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=mb);let h=s;const _=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!a.optional,e.errors);e.currentQueryTotal=_.length;let C=null;_.forEach((S,k)=>{e.currentQueryIndex=k;const L=e.createSubContext(t.options,S);u&&L.delayNextStep(u),S===e.element&&(C=L.currentTimeline),Mo(this,t.animation,L),L.currentTimeline.applyStylesToKeyframe(),h=Math.max(h,L.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(h),C&&(e.currentTimeline.mergeTimelineCollectedStyles(C),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const s=e.parentContext,a=e.currentTimeline,u=t.timings,h=Math.abs(u.duration),_=h*(e.currentQueryTotal-1);let C=h*e.currentQueryIndex;switch(u.duration<0?"reverse":u.easing){case"reverse":C=_-C;break;case"full":C=s.currentStaggerTime}const k=e.currentTimeline;C&&k.delayNextStep(C);const L=k.currentTime;Mo(this,t.animation,e),e.previousNode=t,s.currentStaggerTime=a.currentTime-L+(a.startTime-s.currentTimeline.startTime)}}const mb={};class vI{constructor(t,e,s,a,u,h,_,C){this._driver=t,this.element=e,this.subInstructions=s,this._enterClassName=a,this._leaveClassName=u,this.errors=h,this.timelines=_,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=mb,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=C||new _b(this._driver,e,0),_.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const s=t;let a=this.options;null!=s.duration&&(a.duration=tg(s.duration)),null!=s.delay&&(a.delay=tg(s.delay));const u=s.params;if(u){let h=a.params;h||(h=this.options.params={}),Object.keys(u).forEach(_=>{(!e||!h.hasOwnProperty(_))&&(h[_]=cb(u[_],h,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const s=t.params={};Object.keys(e).forEach(a=>{s[a]=e[a]})}}return t}createSubContext(t=null,e,s){const a=e||this.element,u=new vI(this._driver,a,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(a,s||0));return u.previousNode=this.previousNode,u.currentAnimateTimings=this.currentAnimateTimings,u.options=this._copyOptions(),u.updateOptions(t),u.currentQueryIndex=this.currentQueryIndex,u.currentQueryTotal=this.currentQueryTotal,u.parentContext=this,this.subContextCount++,u}transformIntoNewTimeline(t){return this.previousNode=mb,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,s){const a={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=s?s:0)+t.delay,easing:""},u=new G9(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,a,t.stretchStartingKeyframe);return this.timelines.push(u),a}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,s,a,u,h){let _=[];if(a&&_.push(this.element),t.length>0){t=(t=t.replace(j9,"."+this._enterClassName)).replace(H9,"."+this._leaveClassName);let S=this._driver.query(this.element,t,1!=s);0!==s&&(S=s<0?S.slice(S.length+s,S.length):S.slice(0,s)),_.push(...S)}return!u&&0==_.length&&h.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),_}}class _b{constructor(t,e,s,a){this._driver=t,this.element=e,this.startTime=s,this._elementTimelineStylesLookup=a,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new _b(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||yc,this._currentKeyframe[e]=yc}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,s,a){e&&(this._previousKeyframe.easing=e);const u=a&&a.params||{},h=function(n,t){const e={};let s;return n.forEach(a=>{"*"===a?(s=s||Object.keys(t),s.forEach(u=>{e[u]=yc})):Jf(a,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(h).forEach(_=>{const C=cb(h[_],u,s);this._pendingStyles[_]=C,this._localTimelineStyles.hasOwnProperty(_)||(this._backFill[_]=this._globalTimelineStyles.hasOwnProperty(_)?this._globalTimelineStyles[_]:yc),this._updateStyle(_,C)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(s=>{this._currentKeyframe[s]=t[s]}),Object.keys(this._localTimelineStyles).forEach(s=>{this._currentKeyframe.hasOwnProperty(s)||(this._currentKeyframe[s]=this._localTimelineStyles[s])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const s=this._styleSummary[e],a=t._styleSummary[e];(!s||a.time>s.time)&&this._updateStyle(e,a.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,s=1===this._keyframes.size&&0===this.duration;let a=[];this._keyframes.forEach((_,C)=>{const S=Jf(_,!0);Object.keys(S).forEach(k=>{const L=S[k];"!"==L?t.add(k):L==yc&&e.add(k)}),s||(S.offset=C/this.duration),a.push(S)});const u=t.size?ub(t.values()):[],h=e.size?ub(e.values()):[];if(s){const _=a[0],C=e0(_);_.offset=0,C.offset=1,a=[_,C]}return _I(this.element,a,u,h,this.duration,this.startTime,this.easing,!1)}}class G9 extends _b{constructor(t,e,s,a,u,h,_=!1){super(t,e,h.delay),this.keyframes=s,this.preStyleProps=a,this.postStyleProps=u,this._stretchStartingKeyframe=_,this.timings={duration:h.duration,delay:h.delay,easing:h.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:s,easing:a}=this.timings;if(this._stretchStartingKeyframe&&e){const u=[],h=s+e,_=e/h,C=Jf(t[0],!1);C.offset=0,u.push(C);const S=Jf(t[0],!1);S.offset=qA(_),u.push(S);const k=t.length-1;for(let L=1;L<=k;L++){let Q=Jf(t[L],!1);Q.offset=qA((e+Q.offset*s)/h),u.push(Q)}s=h,e=0,a="",t=u}return _I(this.element,t,this.preStyleProps,this.postStyleProps,s,e,a,!0)}}function qA(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class bI{}class q9 extends bI{normalizePropertyName(t,e){return hI(t)}normalizeStyleValue(t,e,s,a){let u="";const h=s.toString().trim();if(Z9[e]&&0!==s&&"0"!==s)if("number"==typeof s)u="px";else{const _=s.match(/^[+-]?[\d\.]+([a-z]*)$/);_&&0==_[1].length&&a.push(`Please provide a CSS unit value for ${t}:${s}`)}return h+u}}const Z9=(()=>function(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function ZA(n,t,e,s,a,u,h,_,C,S,k,L,Q){return{type:0,element:n,triggerName:t,isRemovalTransition:a,fromState:e,fromStyles:u,toState:s,toStyles:h,timelines:_,queriedElements:C,preStyleProps:S,postStyleProps:k,totalTime:L,errors:Q}}const CI={};class YA{constructor(t,e,s){this._triggerName=t,this.ast=e,this._stateStyles=s}match(t,e,s,a){return function(n,t,e,s,a){return n.some(u=>u(t,e,s,a))}(this.ast.matchers,t,e,s,a)}buildStyles(t,e,s){const a=this._stateStyles["*"],u=this._stateStyles[t],h=a?a.buildStyles(e,s):{};return u?u.buildStyles(e,s):h}build(t,e,s,a,u,h,_,C,S,k){const L=[],Q=this.ast.options&&this.ast.options.params||CI,Ee=this.buildStyles(s,_&&_.params||CI,L),Ve=C&&C.params||CI,$e=this.buildStyles(a,Ve,L),ft=new Set,ut=new Map,_t=new Map,at="void"===a,_n={params:Object.assign(Object.assign({},Q),Ve)},fn=k?[]:yI(t,e,this.ast.animation,u,h,Ee,$e,_n,S,L);let gr=0;if(fn.forEach(fs=>{gr=Math.max(fs.duration+fs.delay,gr)}),L.length)return ZA(e,this._triggerName,s,a,at,Ee,$e,[],[],ut,_t,gr,L);fn.forEach(fs=>{const Hs=fs.element,S7=Ro(ut,Hs,{});fs.preStyleProps.forEach(ig=>S7[ig]=!0);const av=Ro(_t,Hs,{});fs.postStyleProps.forEach(ig=>av[ig]=!0),Hs!==e&&ft.add(Hs)});const xi=ub(ft.values());return ZA(e,this._triggerName,s,a,at,Ee,$e,fn,xi,ut,_t,gr)}}class Q9{constructor(t,e,s){this.styles=t,this.defaultParams=e,this.normalizer=s}buildStyles(t,e){const s={},a=e0(this.defaultParams);return Object.keys(t).forEach(u=>{const h=t[u];null!=h&&(a[u]=h)}),this.styles.styles.forEach(u=>{if("string"!=typeof u){const h=u;Object.keys(h).forEach(_=>{let C=h[_];C.length>1&&(C=cb(C,a,e));const S=this.normalizer.normalizePropertyName(_,e);C=this.normalizer.normalizeStyleValue(_,S,C,e),s[S]=C})}}),s}}class X9{constructor(t,e,s){this.name=t,this.ast=e,this._normalizer=s,this.transitionFactories=[],this.states={},e.states.forEach(a=>{this.states[a.name]=new Q9(a.style,a.options&&a.options.params||{},s)}),KA(this.states,"true","1"),KA(this.states,"false","0"),e.transitions.forEach(a=>{this.transitionFactories.push(new YA(t,a,this.states))}),this.fallbackTransition=function(n,t,e){return new YA(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(h,_)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,s,a){return this.transitionFactories.find(h=>h.match(t,e,s,a))||null}matchStyles(t,e,s){return this.fallbackTransition.buildStyles(t,e,s)}}function KA(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const tN=new gb;class nN{constructor(t,e,s){this.bodyNode=t,this._driver=e,this._normalizer=s,this._animations={},this._playersById={},this.players=[]}register(t,e){const s=[],a=gI(this._driver,e,s);if(s.length)throw new Error(`Unable to build the animation due to the following errors: ${s.join("\n")}`);this._animations[t]=a}_buildPlayer(t,e,s){const a=t.element,u=RA(0,this._normalizer,0,t.keyframes,e,s);return this._driver.animate(a,u,t.duration,t.delay,t.easing,[],!0)}create(t,e,s={}){const a=[],u=this._animations[t];let h;const _=new Map;if(u?(h=yI(this._driver,e,u,cI,sb,{},{},s,tN,a),h.forEach(k=>{const L=Ro(_,k.element,{});k.postStyleProps.forEach(Q=>L[Q]=null)})):(a.push("The requested animation doesn't exist or has already been destroyed"),h=[]),a.length)throw new Error(`Unable to create the animation due to the following errors: ${a.join("\n")}`);_.forEach((k,L)=>{Object.keys(k).forEach(Q=>{k[Q]=this._driver.computeStyle(L,Q,yc)})});const S=Qf(h.map(k=>{const L=_.get(k.element);return this._buildPlayer(k,{},L)}));return this._playersById[t]=S,S.onDestroy(()=>this.destroy(t)),this.players.push(S),S}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const s=this.players.indexOf(e);s>=0&&this.players.splice(s,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,s,a){const u=tI(e,"","","");return Xw(this._getPlayer(t),s,u,a),()=>{}}command(t,e,s,a){if("register"==s)return void this.register(t,a[0]);if("create"==s)return void this.create(t,e,a[0]||{});const u=this._getPlayer(t);switch(s){case"play":u.play();break;case"pause":u.pause();break;case"reset":u.reset();break;case"restart":u.restart();break;case"finish":u.finish();break;case"init":u.init();break;case"setPosition":u.setPosition(parseFloat(a[0]));break;case"destroy":this.destroy(t)}}}const QA="ng-animate-queued",JA="ng-animate-disabled",XA=".ng-animate-disabled",oN=[],e7={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},aN={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ma="__ng_removed";class EI{constructor(t,e=""){this.namespaceId=e;const s=t&&t.hasOwnProperty("value");if(this.value=function(n){return null!=n?n:null}(s?t.value:t),s){const u=e0(t);delete u.value,this.options=u}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const s=this.options.params;Object.keys(e).forEach(a=>{null==s[a]&&(s[a]=e[a])})}}}const ov="void",wI=new EI(ov);class lN{constructor(t,e,s){this.id=t,this.hostElement=e,this._engine=s,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,_a(e,this._hostClassName)}listen(t,e,s,a){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${s}" because the animation trigger "${e}" doesn't exist!`);if(null==s||0==s.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if(!function(n){return"start"==n||"done"==n}(s))throw new Error(`The provided animation trigger event "${s}" for the animation trigger "${e}" is not supported!`);const u=Ro(this._elementListeners,t,[]),h={name:e,phase:s,callback:a};u.push(h);const _=Ro(this._engine.statesByElement,t,{});return _.hasOwnProperty(e)||(_a(t,ob),_a(t,ob+"-"+e),_[e]=wI),()=>{this._engine.afterFlush(()=>{const C=u.indexOf(h);C>=0&&u.splice(C,1),this._triggers[e]||delete _[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,s,a=!0){const u=this._getTrigger(e),h=new II(this.id,e,t);let _=this._engine.statesByElement.get(t);_||(_a(t,ob),_a(t,ob+"-"+e),this._engine.statesByElement.set(t,_={}));let C=_[e];const S=new EI(s,this.id);if(!(s&&s.hasOwnProperty("value"))&&C&&S.absorbOptions(C.options),_[e]=S,C||(C=wI),S.value!==ov&&C.value===S.value){if(!function(n,t){const e=Object.keys(n),s=Object.keys(t);if(e.length!=s.length)return!1;for(let a=0;a<e.length;a++){const u=e[a];if(!t.hasOwnProperty(u)||n[u]!==t[u])return!1}return!0}(C.params,S.params)){const Ve=[],$e=u.matchStyles(C.value,C.params,Ve),ft=u.matchStyles(S.value,S.params,Ve);Ve.length?this._engine.reportError(Ve):this._engine.afterFlush(()=>{ng(t,$e),Tc(t,ft)})}return}const Q=Ro(this._engine.playersByElement,t,[]);Q.forEach(Ve=>{Ve.namespaceId==this.id&&Ve.triggerName==e&&Ve.queued&&Ve.destroy()});let ye=u.matchTransition(C.value,S.value,t,S.params),Ee=!1;if(!ye){if(!a)return;ye=u.fallbackTransition,Ee=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:ye,fromState:C,toState:S,player:h,isFallbackTransition:Ee}),Ee||(_a(t,QA),h.onStart(()=>{t0(t,QA)})),h.onDone(()=>{let Ve=this.players.indexOf(h);Ve>=0&&this.players.splice(Ve,1);const $e=this._engine.playersByElement.get(t);if($e){let ft=$e.indexOf(h);ft>=0&&$e.splice(ft,1)}}),this.players.push(h),Q.push(h),h}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,s)=>{delete e[t]}),this._elementListeners.forEach((e,s)=>{this._elementListeners.set(s,e.filter(a=>a.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(s=>s.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const s=this._engine.driver.query(t,ab,!0);s.forEach(a=>{if(a[ma])return;const u=this._engine.fetchNamespacesByElement(a);u.size?u.forEach(h=>h.triggerLeaveAnimation(a,e,!1,!0)):this.clearElementCache(a)}),this._engine.afterFlushAnimationsDone(()=>s.forEach(a=>this.clearElementCache(a)))}triggerLeaveAnimation(t,e,s,a){const u=this._engine.statesByElement.get(t);if(u){const h=[];if(Object.keys(u).forEach(_=>{if(this._triggers[_]){const C=this.trigger(t,_,ov,a);C&&h.push(C)}}),h.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),s&&Qf(h).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),s=this._engine.statesByElement.get(t);if(e&&s){const a=new Set;e.forEach(u=>{const h=u.name;if(a.has(h))return;a.add(h);const C=this._triggers[h].fallbackTransition,S=s[h]||wI,k=new EI(ov),L=new II(this.id,h,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:h,transition:C,fromState:S,toState:k,player:L,isFallbackTransition:!0})})}}removeNode(t,e){const s=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let a=!1;if(s.totalAnimations){const u=s.players.length?s.playersByQueriedElement.get(t):[];if(u&&u.length)a=!0;else{let h=t;for(;h=h.parentNode;)if(s.statesByElement.get(h)){a=!0;break}}}if(this.prepareLeaveAnimationListeners(t),a)s.markElementAsRemoved(this.id,t,!1,e);else{const u=t[ma];(!u||u===e7)&&(s.afterFlush(()=>this.clearElementCache(t)),s.destroyInnerAnimations(t),s._onRemovalComplete(t,e))}}insertNode(t,e){_a(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(s=>{const a=s.player;if(a.destroyed)return;const u=s.element,h=this._elementListeners.get(u);h&&h.forEach(_=>{if(_.name==s.triggerName){const C=tI(u,s.triggerName,s.fromState.value,s.toState.value);C._data=t,Xw(s.player,_.phase,C,_.callback)}}),a.markedForDestroy?this._engine.afterFlush(()=>{a.destroy()}):e.push(s)}),this._queue=[],e.sort((s,a)=>{const u=s.transition.ast.depCount,h=a.transition.ast.depCount;return 0==u||0==h?u-h:this._engine.driver.containsElement(s.element,a.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(s=>s.element===t)||e,e}}class cN{constructor(t,e,s){this.bodyNode=t,this.driver=e,this._normalizer=s,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(a,u)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(s=>{s.queued&&t.push(s)})}),t}createNamespace(t,e){const s=new lN(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(s,e):(this.newHostElements.set(e,s),this.collectEnterElement(e)),this._namespaceLookup[t]=s}_balanceNamespaceList(t,e){const s=this._namespaceList.length-1;if(s>=0){let a=!1;for(let u=s;u>=0;u--)if(this.driver.containsElement(this._namespaceList[u].hostElement,e)){this._namespaceList.splice(u+1,0,t),a=!0;break}a||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let s=this._namespaceLookup[t];return s||(s=this.createNamespace(t,e)),s}registerTrigger(t,e,s){let a=this._namespaceLookup[t];a&&a.register(e,s)&&this.totalAnimations++}destroy(t,e){if(!t)return;const s=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(s.hostElement),delete this._namespaceLookup[t];const a=this._namespaceList.indexOf(s);a>=0&&this._namespaceList.splice(a,1)}),this.afterFlushAnimationsDone(()=>s.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,s=this.statesByElement.get(t);if(s){const a=Object.keys(s);for(let u=0;u<a.length;u++){const h=s[a[u]].namespaceId;if(h){const _=this._fetchNamespace(h);_&&e.add(_)}}}return e}trigger(t,e,s,a){if(yb(e)){const u=this._fetchNamespace(t);if(u)return u.trigger(e,s,a),!0}return!1}insertNode(t,e,s,a){if(!yb(e))return;const u=e[ma];if(u&&u.setForRemoval){u.setForRemoval=!1,u.setForMove=!0;const h=this.collectedLeaveElements.indexOf(e);h>=0&&this.collectedLeaveElements.splice(h,1)}if(t){const h=this._fetchNamespace(t);h&&h.insertNode(e,s)}a&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),_a(t,JA)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),t0(t,JA))}removeNode(t,e,s,a){if(yb(e)){const u=t?this._fetchNamespace(t):null;if(u?u.removeNode(e,a):this.markElementAsRemoved(t,e,!1,a),s){const h=this.namespacesByHostElement.get(e);h&&h.id!==t&&h.removeNode(e,a)}}else this._onRemovalComplete(e,a)}markElementAsRemoved(t,e,s,a){this.collectedLeaveElements.push(e),e[ma]={namespaceId:t,setForRemoval:a,hasAnimation:s,removedBeforeQueried:!1}}listen(t,e,s,a,u){return yb(e)?this._fetchNamespace(t).listen(e,s,a,u):()=>{}}_buildInstruction(t,e,s,a,u){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,s,a,t.fromState.options,t.toState.options,e,u)}destroyInnerAnimations(t){let e=this.driver.query(t,ab,!0);e.forEach(s=>this.destroyActiveAnimationsForElement(s)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,uI,!0),e.forEach(s=>this.finishActiveQueriedAnimationOnElement(s)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(s=>{s.queued?s.markedForDestroy=!0:s.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(s=>s.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Qf(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[ma];if(e&&e.setForRemoval){if(t[ma]=e7,e.namespaceId){this.destroyInnerAnimations(t);const s=this._fetchNamespace(e.namespaceId);s&&s.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,XA)&&this.markElementAsDisabled(t,!1),this.driver.query(t,XA,!0).forEach(s=>{this.markElementAsDisabled(s,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((s,a)=>this._balanceNamespaceList(s,a)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let s=0;s<this.collectedEnterElements.length;s++)_a(this.collectedEnterElements[s],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const s=[];try{e=this._flushAnimations(s,t)}finally{for(let a=0;a<s.length;a++)s[a]()}}else for(let s=0;s<this.collectedLeaveElements.length;s++)this.processLeaveNode(this.collectedLeaveElements[s]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(s=>s()),this._flushFns=[],this._whenQuietFns.length){const s=this._whenQuietFns;this._whenQuietFns=[],e.length?Qf(e).onDone(()=>{s.forEach(a=>a())}):s.forEach(a=>a())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const s=new gb,a=[],u=new Map,h=[],_=new Map,C=new Map,S=new Map,k=new Set;this.disabledNodes.forEach(yt=>{k.add(yt);const At=this.driver.query(yt,".ng-animate-queued",!0);for(let jt=0;jt<At.length;jt++)k.add(At[jt])});const L=this.bodyNode,Q=Array.from(this.statesByElement.keys()),ye=r7(Q,this.collectedEnterElements),Ee=new Map;let Ve=0;ye.forEach((yt,At)=>{const jt=cI+Ve++;Ee.set(At,jt),yt.forEach(gn=>_a(gn,jt))});const $e=[],ft=new Set,ut=new Set;for(let yt=0;yt<this.collectedLeaveElements.length;yt++){const At=this.collectedLeaveElements[yt],jt=At[ma];jt&&jt.setForRemoval&&($e.push(At),ft.add(At),jt.hasAnimation?this.driver.query(At,".ng-star-inserted",!0).forEach(gn=>ft.add(gn)):ut.add(At))}const _t=new Map,at=r7(Q,Array.from(ft));at.forEach((yt,At)=>{const jt=sb+Ve++;_t.set(At,jt),yt.forEach(gn=>_a(gn,jt))}),t.push(()=>{ye.forEach((yt,At)=>{const jt=Ee.get(At);yt.forEach(gn=>t0(gn,jt))}),at.forEach((yt,At)=>{const jt=_t.get(At);yt.forEach(gn=>t0(gn,jt))}),$e.forEach(yt=>{this.processLeaveNode(yt)})});const _n=[],fn=[];for(let yt=this._namespaceList.length-1;yt>=0;yt--)this._namespaceList[yt].drainQueuedTransitions(e).forEach(jt=>{const gn=jt.player,_i=jt.element;if(_n.push(gn),this.collectedEnterElements.length){const Ac=_i[ma];if(Ac&&Ac.setForMove)return void gn.destroy()}const Sc=!L||!this.driver.containsElement(L,_i),Po=_t.get(_i),Xf=Ee.get(_i),mr=this._buildInstruction(jt,s,Xf,Po,Sc);if(mr.errors&&mr.errors.length)fn.push(mr);else{if(Sc)return gn.onStart(()=>ng(_i,mr.fromStyles)),gn.onDestroy(()=>Tc(_i,mr.toStyles)),void a.push(gn);if(jt.isFallbackTransition)return gn.onStart(()=>ng(_i,mr.fromStyles)),gn.onDestroy(()=>Tc(_i,mr.toStyles)),void a.push(gn);mr.timelines.forEach(Ac=>Ac.stretchStartingKeyframe=!0),s.append(_i,mr.timelines),h.push({instruction:mr,player:gn,element:_i}),mr.queriedElements.forEach(Ac=>Ro(_,Ac,[]).push(gn)),mr.preStyleProps.forEach((Ac,lv)=>{const wb=Object.keys(Ac);if(wb.length){let sg=C.get(lv);sg||C.set(lv,sg=new Set),wb.forEach(DI=>sg.add(DI))}}),mr.postStyleProps.forEach((Ac,lv)=>{const wb=Object.keys(Ac);let sg=S.get(lv);sg||S.set(lv,sg=new Set),wb.forEach(DI=>sg.add(DI))})}});if(fn.length){const yt=[];fn.forEach(At=>{yt.push(`@${At.triggerName} has failed due to:\n`),At.errors.forEach(jt=>yt.push(`- ${jt}\n`))}),_n.forEach(At=>At.destroy()),this.reportError(yt)}const gr=new Map,xi=new Map;h.forEach(yt=>{const At=yt.element;s.has(At)&&(xi.set(At,At),this._beforeAnimationBuild(yt.player.namespaceId,yt.instruction,gr))}),a.forEach(yt=>{const At=yt.element;this._getPreviousPlayers(At,!1,yt.namespaceId,yt.triggerName,null).forEach(gn=>{Ro(gr,At,[]).push(gn),gn.destroy()})});const fs=$e.filter(yt=>s7(yt,C,S)),Hs=new Map;n7(Hs,this.driver,ut,S,yc).forEach(yt=>{s7(yt,C,S)&&fs.push(yt)});const av=new Map;ye.forEach((yt,At)=>{n7(av,this.driver,new Set(yt),C,"!")}),fs.forEach(yt=>{const At=Hs.get(yt),jt=av.get(yt);Hs.set(yt,Object.assign(Object.assign({},At),jt))});const ig=[],A7=[],D7={};h.forEach(yt=>{const{element:At,player:jt,instruction:gn}=yt;if(s.has(At)){if(k.has(At))return jt.onDestroy(()=>Tc(At,gn.toStyles)),jt.disabled=!0,jt.overrideTotalTime(gn.totalTime),void a.push(jt);let _i=D7;if(xi.size>1){let Po=At;const Xf=[];for(;Po=Po.parentNode;){const mr=xi.get(Po);if(mr){_i=mr;break}Xf.push(Po)}Xf.forEach(mr=>xi.set(mr,_i))}const Sc=this._buildAnimation(jt.namespaceId,gn,gr,u,av,Hs);if(jt.setRealPlayer(Sc),_i===D7)ig.push(jt);else{const Po=this.playersByElement.get(_i);Po&&Po.length&&(jt.parentPlayer=Qf(Po)),a.push(jt)}}else ng(At,gn.fromStyles),jt.onDestroy(()=>Tc(At,gn.toStyles)),A7.push(jt),k.has(At)&&a.push(jt)}),A7.forEach(yt=>{const At=u.get(yt.element);if(At&&At.length){const jt=Qf(At);yt.setRealPlayer(jt)}}),a.forEach(yt=>{yt.parentPlayer?yt.syncPlayerEvents(yt.parentPlayer):yt.destroy()});for(let yt=0;yt<$e.length;yt++){const At=$e[yt],jt=At[ma];if(t0(At,sb),jt&&jt.hasAnimation)continue;let gn=[];if(_.size){let Sc=_.get(At);Sc&&Sc.length&&gn.push(...Sc);let Po=this.driver.query(At,uI,!0);for(let Xf=0;Xf<Po.length;Xf++){let mr=_.get(Po[Xf]);mr&&mr.length&&gn.push(...mr)}}const _i=gn.filter(Sc=>!Sc.destroyed);_i.length?hN(this,At,_i):this.processLeaveNode(At)}return $e.length=0,ig.forEach(yt=>{this.players.push(yt),yt.onDone(()=>{yt.destroy();const At=this.players.indexOf(yt);this.players.splice(At,1)}),yt.play()}),ig}elementContainsData(t,e){let s=!1;const a=e[ma];return a&&a.setForRemoval&&(s=!0),this.playersByElement.has(e)&&(s=!0),this.playersByQueriedElement.has(e)&&(s=!0),this.statesByElement.has(e)&&(s=!0),this._fetchNamespace(t).elementContainsData(e)||s}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,s,a,u){let h=[];if(e){const _=this.playersByQueriedElement.get(t);_&&(h=_)}else{const _=this.playersByElement.get(t);if(_){const C=!u||u==ov;_.forEach(S=>{S.queued||!C&&S.triggerName!=a||h.push(S)})}}return(s||a)&&(h=h.filter(_=>!(s&&s!=_.namespaceId||a&&a!=_.triggerName))),h}_beforeAnimationBuild(t,e,s){const u=e.element,h=e.isRemovalTransition?void 0:t,_=e.isRemovalTransition?void 0:e.triggerName;for(const C of e.timelines){const S=C.element,k=S!==u,L=Ro(s,S,[]);this._getPreviousPlayers(S,k,h,_,e.toState).forEach(ye=>{const Ee=ye.getRealPlayer();Ee.beforeDestroy&&Ee.beforeDestroy(),ye.destroy(),L.push(ye)})}ng(u,e.fromStyles)}_buildAnimation(t,e,s,a,u,h){const _=e.triggerName,C=e.element,S=[],k=new Set,L=new Set,Q=e.timelines.map(Ee=>{const Ve=Ee.element;k.add(Ve);const $e=Ve[ma];if($e&&$e.removedBeforeQueried)return new Uf(Ee.duration,Ee.delay);const ft=Ve!==C,ut=function(n){const t=[];return i7(n,t),t}((s.get(Ve)||oN).map(gr=>gr.getRealPlayer())).filter(gr=>!!gr.element&&gr.element===Ve),_t=u.get(Ve),at=h.get(Ve),_n=RA(0,this._normalizer,0,Ee.keyframes,_t,at),fn=this._buildPlayer(Ee,_n,ut);if(Ee.subTimeline&&a&&L.add(Ve),ft){const gr=new II(t,_,Ve);gr.setRealPlayer(fn),S.push(gr)}return fn});S.forEach(Ee=>{Ro(this.playersByQueriedElement,Ee.element,[]).push(Ee),Ee.onDone(()=>function(n,t,e){let s;if(n instanceof Map){if(s=n.get(t),s){if(s.length){const a=s.indexOf(e);s.splice(a,1)}0==s.length&&n.delete(t)}}else if(s=n[t],s){if(s.length){const a=s.indexOf(e);s.splice(a,1)}0==s.length&&delete n[t]}return s}(this.playersByQueriedElement,Ee.element,Ee))}),k.forEach(Ee=>_a(Ee,LA));const ye=Qf(Q);return ye.onDestroy(()=>{k.forEach(Ee=>t0(Ee,LA)),Tc(C,e.toStyles)}),L.forEach(Ee=>{Ro(a,Ee,[]).push(ye)}),ye}_buildPlayer(t,e,s){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,s):new Uf(t.duration,t.delay)}}class II{constructor(t,e,s){this.namespaceId=t,this.triggerName=e,this.element=s,this._player=new Uf,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(s=>Xw(t,e,void 0,s))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Ro(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function yb(n){return n&&1===n.nodeType}function t7(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function n7(n,t,e,s,a){const u=[];e.forEach(C=>u.push(t7(C)));const h=[];s.forEach((C,S)=>{const k={};C.forEach(L=>{const Q=k[L]=t.computeStyle(S,L,a);(!Q||0==Q.length)&&(S[ma]=aN,h.push(S))}),n.set(S,k)});let _=0;return e.forEach(C=>t7(C,u[_++])),h}function r7(n,t){const e=new Map;if(n.forEach(_=>e.set(_,[])),0==t.length)return e;const a=new Set(t),u=new Map;function h(_){if(!_)return 1;let C=u.get(_);if(C)return C;const S=_.parentNode;return C=e.has(S)?S:a.has(S)?1:h(S),u.set(_,C),C}return t.forEach(_=>{const C=h(_);1!==C&&e.get(C).push(_)}),e}const vb="$$classes";function _a(n,t){if(n.classList)n.classList.add(t);else{let e=n[vb];e||(e=n[vb]={}),e[t]=!0}}function t0(n,t){if(n.classList)n.classList.remove(t);else{let e=n[vb];e&&delete e[t]}}function hN(n,t,e){Qf(e).onDone(()=>n.processLeaveNode(t))}function i7(n,t){for(let e=0;e<n.length;e++){const s=n[e];s instanceof P1?i7(s.players,t):t.push(s)}}function s7(n,t,e){const s=e.get(n);if(!s)return!1;let a=t.get(n);return a?s.forEach(u=>a.add(u)):t.set(n,s),e.delete(n),!0}class bb{constructor(t,e,s){this.bodyNode=t,this._driver=e,this._normalizer=s,this._triggerCache={},this.onRemovalComplete=(a,u)=>{},this._transitionEngine=new cN(t,e,s),this._timelineEngine=new nN(t,e,s),this._transitionEngine.onRemovalComplete=(a,u)=>this.onRemovalComplete(a,u)}registerTrigger(t,e,s,a,u){const h=t+"-"+a;let _=this._triggerCache[h];if(!_){const C=[],S=gI(this._driver,u,C);if(C.length)throw new Error(`The animation trigger "${a}" has failed to build due to the following errors:\n - ${C.join("\n - ")}`);_=function(n,t,e){return new X9(n,t,e)}(a,S,this._normalizer),this._triggerCache[h]=_}this._transitionEngine.registerTrigger(e,a,_)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,s,a){this._transitionEngine.insertNode(t,e,s,a)}onRemove(t,e,s,a){this._transitionEngine.removeNode(t,e,a||!1,s)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,s,a){if("@"==s.charAt(0)){const[u,h]=MA(s);this._timelineEngine.command(u,e,h,a)}else this._transitionEngine.trigger(t,e,s,a)}listen(t,e,s,a,u){if("@"==s.charAt(0)){const[h,_]=MA(s);return this._timelineEngine.listen(h,e,_,u)}return this._transitionEngine.listen(t,e,s,a,u)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function o7(n,t){let e=null,s=null;return Array.isArray(t)&&t.length?(e=TI(t[0]),t.length>1&&(s=TI(t[t.length-1]))):t&&(e=TI(t)),e||s?new mN(n,e,s):null}let mN=(()=>{class n{constructor(e,s,a){this._element=e,this._startStyles=s,this._endStyles=a,this._state=0;let u=n.initialStylesByElement.get(e);u||n.initialStylesByElement.set(e,u={}),this._initialStyles=u}start(){this._state<1&&(this._startStyles&&Tc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Tc(this._element,this._initialStyles),this._endStyles&&(Tc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(ng(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ng(this._element,this._endStyles),this._endStyles=null),Tc(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function TI(n){let t=null;const e=Object.keys(n);for(let s=0;s<e.length;s++){const a=e[s];_N(a)&&(t=t||{},t[a]=n[a])}return t}function _N(n){return"display"===n||"position"===n}const a7="animation",l7="animationend";class bN{constructor(t,e,s,a,u,h,_){this._element=t,this._name=e,this._duration=s,this._delay=a,this._easing=u,this._fillMode=h,this._onDoneFn=_,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=C=>this._handleCallback(C)}apply(){(function(n,t){const e=AI(n,"").trim();let s=0;e.length&&(function(n,t){let e=0;for(let s=0;s<n.length;s++)","===n.charAt(s)&&e++;return e}(e)+1,t=`${e}, ${t}`),Cb(n,"",t)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),d7(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){c7(this._element,this._name,"paused")}resume(){c7(this._element,this._name,"running")}setPosition(t){const e=u7(this._element,this._name);this._position=t*this._duration,Cb(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),s=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&s>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),d7(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,t){const s=AI(n,"").split(","),a=SI(s,t);a>=0&&(s.splice(a,1),Cb(n,"",s.join(",")))}(this._element,this._name))}}function c7(n,t,e){Cb(n,"PlayState",e,u7(n,t))}function u7(n,t){const e=AI(n,"");return e.indexOf(",")>0?SI(e.split(","),t):SI([e],t)}function SI(n,t){for(let e=0;e<n.length;e++)if(n[e].indexOf(t)>=0)return e;return-1}function d7(n,t,e){e?n.removeEventListener(l7,t):n.addEventListener(l7,t)}function Cb(n,t,e,s){const a=a7+t;if(null!=s){const u=n.style[a];if(u.length){const h=u.split(",");h[s]=e,e=h.join(",")}}n.style[a]=e}function AI(n,t){return n.style[a7+t]||""}class f7{constructor(t,e,s,a,u,h,_,C){this.element=t,this.keyframes=e,this.animationName=s,this._duration=a,this._delay=u,this._finalStyles=_,this._specialStyles=C,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=h||"linear",this.totalTime=a+u,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new bN(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(s=>s()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(s=>{"offset"!=s&&(t[s]=e?this._finalStyles[s]:pI(this.element,s))})}this.currentSnapshot=t}}class SN extends Uf{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=xA(e)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class p7{constructor(){this._count=0}validateStyleProperty(t){return iI(t)}matchesElement(t,e){return sI(t,e)}containsElement(t,e){return oI(t,e)}query(t,e,s){return aI(t,e,s)}computeStyle(t,e,s){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,s){s=s.map(_=>xA(_));let a=`@keyframes ${e} {\n`,u="";s.forEach(_=>{u=" ";const C=parseFloat(_.offset);a+=`${u}${100*C}% {\n`,u+=" ",Object.keys(_).forEach(S=>{const k=_[S];switch(S){case"offset":return;case"easing":return void(k&&(a+=`${u}animation-timing-function: ${k};\n`));default:return void(a+=`${u}${S}: ${k};\n`)}}),a+=`${u}}\n`}),a+="}\n";const h=document.createElement("style");return h.textContent=a,h}animate(t,e,s,a,u,h=[],_){const C=h.filter($e=>$e instanceof f7),S={};zA(s,a)&&C.forEach($e=>{let ft=$e.currentSnapshot;Object.keys(ft).forEach(ut=>S[ut]=ft[ut])});const k=function(n){let t={};return n&&(Array.isArray(n)?n:[n]).forEach(s=>{Object.keys(s).forEach(a=>{"offset"==a||"easing"==a||(t[a]=s[a])})}),t}(e=HA(t,e,S));if(0==s)return new SN(t,k);const L="gen_css_kf_"+this._count++,Q=this.buildKeyframeElement(t,L,e);(function(n){var t;const e=null===(t=n.getRootNode)||void 0===t?void 0:t.call(n);return"undefined"!=typeof ShadowRoot&&e instanceof ShadowRoot?e:document.head})(t).appendChild(Q);const Ee=o7(t,e),Ve=new f7(t,e,L,s,a,u,k,Ee);return Ve.onDestroy(()=>function(n){n.parentNode.removeChild(n)}(Q)),Ve}}class m7{constructor(t,e,s,a){this.element=t,this.keyframes=e,this.options=s,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=s.duration,this._delay=s.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,s){return t.animate(e,s)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:pI(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(s=>s()),e.length=0}}class PN{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(_7().toString()),this._cssKeyframesDriver=new p7}validateStyleProperty(t){return iI(t)}matchesElement(t,e){return sI(t,e)}containsElement(t,e){return oI(t,e)}query(t,e,s){return aI(t,e,s)}computeStyle(t,e,s){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,s,a,u,h=[],_){if(!_&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,s,a,u,h);const k={duration:s,delay:a,fill:0==a?"both":"forwards"};u&&(k.easing=u);const L={},Q=h.filter(Ee=>Ee instanceof m7);zA(s,a)&&Q.forEach(Ee=>{let Ve=Ee.currentSnapshot;Object.keys(Ve).forEach($e=>L[$e]=Ve[$e])});const ye=o7(t,e=HA(t,e=e.map(Ee=>Jf(Ee,!1)),L));return new m7(t,e,k,ye)}}function _7(){return DA()&&Element.prototype.animate||{}}let ON=(()=>{class n extends i8{constructor(e,s){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(s.body,{id:"0",encapsulation:d.ifc.None,styles:[],data:{animation:[]}})}build(e){const s=this._nextAnimationId.toString();this._nextAnimationId++;const a=Array.isArray(e)?s8(e):e;return y7(this._renderer,null,s,"register",[a]),new xN(s,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(d.FYo),d.LFG(H))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class xN extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new kN(this._id,t,e||{},this._renderer)}}class kN{constructor(t,e,s,a){this.id=t,this.element=e,this._renderer=a,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",s)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return y7(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function y7(n,t,e,s,a){return n.setProperty(t,`@@${e}:${s}`,a)}const v7="@.disabled";let FN=(()=>{class n{constructor(e,s,a){this.delegate=e,this.engine=s,this._zone=a,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),s.onRemovalComplete=(u,h)=>{h&&h.parentNode(u)&&h.removeChild(u.parentNode,u)}}createRenderer(e,s){const u=this.delegate.createRenderer(e,s);if(!(e&&s&&s.data&&s.data.animation)){let k=this._rendererCache.get(u);return k||(k=new b7("",u,this.engine),this._rendererCache.set(u,k)),k}const h=s.id,_=s.id+"-"+this._currentId;this._currentId++,this.engine.register(_,e);const C=k=>{Array.isArray(k)?k.forEach(C):this.engine.registerTrigger(h,_,e,k.name,k)};return s.data.animation.forEach(C),new LN(this,_,u,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,s,a){e>=0&&e<this._microtaskId?this._zone.run(()=>s(a)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(u=>{const[h,_]=u;h(_)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([s,a]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(d.FYo),d.LFG(bb),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class b7{constructor(t,e,s){this.namespaceId=t,this.delegate=e,this.engine=s,this.destroyNode=this.delegate.destroyNode?a=>e.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,s,a=!0){this.delegate.insertBefore(t,e,s),this.engine.onInsert(this.namespaceId,e,t,a)}removeChild(t,e,s){this.engine.onRemove(this.namespaceId,e,this.delegate,s)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,s,a){this.delegate.setAttribute(t,e,s,a)}removeAttribute(t,e,s){this.delegate.removeAttribute(t,e,s)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,s,a){this.delegate.setStyle(t,e,s,a)}removeStyle(t,e,s){this.delegate.removeStyle(t,e,s)}setProperty(t,e,s){"@"==e.charAt(0)&&e==v7?this.disableAnimations(t,!!s):this.delegate.setProperty(t,e,s)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,s){return this.delegate.listen(t,e,s)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class LN extends b7{constructor(t,e,s,a){super(e,s,a),this.factory=t,this.namespaceId=e}setProperty(t,e,s){"@"==e.charAt(0)?"."==e.charAt(1)&&e==v7?this.disableAnimations(t,s=void 0===s||!!s):this.engine.process(this.namespaceId,t,e.substr(1),s):this.delegate.setProperty(t,e,s)}listen(t,e,s){if("@"==e.charAt(0)){const a=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let u=e.substr(1),h="";return"@"!=u.charAt(0)&&([u,h]=function(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(u)),this.engine.listen(this.namespaceId,a,u,h,_=>{this.factory.scheduleListenerCallback(_._data||-1,s,_)})}return this.delegate.listen(t,e,s)}}let BN=(()=>{class n extends bb{constructor(e,s,a){super(e.body,s,a)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(H),d.LFG(lI),d.LFG(bI))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const C7=new d.OlP("AnimationModuleType"),E7=[{provide:i8,useClass:ON},{provide:bI,useFactory:function(){return new q9}},{provide:bb,useClass:BN},{provide:d.FYo,useFactory:function(n,t,e){return new FN(n,t,e)},deps:[ci,bb,d.R0b]}],w7=[{provide:lI,useFactory:function(){return"function"==typeof _7()?new PN:new p7}},{provide:C7,useValue:"BrowserAnimations"},...E7],I7=[{provide:lI,useClass:kA},{provide:C7,useValue:"NoopAnimations"},...E7];let $N=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?I7:w7}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:w7,imports:[Wc]}),n})();const T7_firebase={apiKey:"AIzaSyBVWxKeLNBtrjJPN8ZqedSobhUTRXJoF4w",authDomain:"travel-gram-9a372.firebaseapp.com",databaseURL:"https://travel-gram-9a372-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"travel-gram-9a372",storageBucket:"travel-gram-9a372.appspot.com",messagingSenderId:"1003929275521",appId:"1:1003929275521:web:d741640112ef42c08bd180"};let GN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n,bootstrap:[b9]}),n.\u0275inj=d.cJS({providers:[],imports:[[Wc,l9,wS,YP,$N,QT.forRoot(),o4,f6,dy,Wn.hO.initializeApp(T7_firebase)]]}),n})();(0,d.G48)(),Cs().bootstrapModule(GN).catch(n=>console.error(n))},3394:(Ke,Ce,F)=>{"use strict";F.d(Ce,{Z:()=>ee});var d=F(3854),K=F(3910),B=F(8026),Z=F(5422);class te{constructor(re,ue){this._delegate=re,this.firebase=ue,(0,B._addComponent)(re,new K.wA("app-compat",()=>this,"PUBLIC")),this.container=re.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(re){this._delegate.automaticDataCollectionEnabled=re}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(re=>{this._delegate.checkDestroyed(),re()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,B.deleteApp)(this._delegate)))}_getService(re,ue=B._DEFAULT_ENTRY_NAME){var _e;this._delegate.checkDestroyed();const Te=this._delegate.container.getProvider(re);return!Te.isInitialized()&&"EXPLICIT"===(null===(_e=Te.getComponent())||void 0===_e?void 0:_e.instantiationMode)&&Te.initialize(),Te.getImmediate({identifier:ue})}_removeServiceInstance(re,ue=B._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(re).clearInstance(ue)}_addComponent(re){(0,B._addComponent)(this._delegate,re)}_addOrOverwriteComponent(re){(0,B._addOrOverwriteComponent)(this._delegate,re)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const H=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),P=function U(){const G=function(G){const re={},ue={__esModule:!0,initializeApp:function(it,de={}){const we=B.initializeApp(it,de);if((0,d.r3)(re,we.name))return re[we.name];const Ne=new G(we,ue);return re[we.name]=Ne,Ne},app:Te,registerVersion:B.registerVersion,setLogLevel:B.setLogLevel,onLog:B.onLog,apps:null,SDK_VERSION:B.SDK_VERSION,INTERNAL:{registerComponent:function(it){const de=it.name,we=de.replace("-compat","");if(B._registerComponent(it)&&"PUBLIC"===it.type){const Ne=(je=Te())=>{if("function"!=typeof je[we])throw H.create("invalid-app-argument",{appName:de});return je[we]()};void 0!==it.serviceProps&&(0,d.ZB)(Ne,it.serviceProps),ue[we]=Ne,G.prototype[we]=function(...je){return this._getService.bind(this,de).apply(this,it.multipleInstances?je:[])}}return"PUBLIC"===it.type?ue[we]:null},removeApp:function(it){delete re[it]},useAsService:function(it,de){return"serverAuth"===de?null:de},modularAPIs:B}};function Te(it){if(!(0,d.r3)(re,it=it||B._DEFAULT_ENTRY_NAME))throw H.create("no-app",{appName:it});return re[it]}return ue.default=ue,Object.defineProperty(ue,"apps",{get:function(){return Object.keys(re).map(it=>re[it])}}),Te.App=G,ue}(te);return G.INTERNAL=Object.assign(Object.assign({},G.INTERNAL),{createFirebaseNamespace:U,extendNamespace:function(ue){(0,d.ZB)(G,ue)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),G}(),N=new Z.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){N.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const G=self.firebase.SDK_VERSION;G&&G.indexOf("LITE")>=0&&N.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ee=P;(0,B.registerVersion)("@firebase/app-compat","0.1.9",undefined)},8026:(Ke,Ce,F)=>{"use strict";F.r(Ce),F.d(Ce,{FirebaseError:()=>Z.ZR,SDK_VERSION:()=>Ye,_DEFAULT_ENTRY_NAME:()=>Se,_addComponent:()=>Qe,_addOrOverwriteComponent:()=>rt,_apps:()=>Fe,_clearComponents:()=>j,_components:()=>Oe,_getProvider:()=>D,_registerComponent:()=>Xe,_removeServiceInstance:()=>O,deleteApp:()=>Et,getApp:()=>Nt,getApps:()=>ke,initializeApp:()=>mt,onLog:()=>zt,registerVersion:()=>st,setLogLevel:()=>rr});var d=F(8239),K=F(3910),B=F(5422),Z=F(3854);class te{constructor(wt){this.container=wt}getPlatformInfoString(){return this.container.getProviders().map(Ht=>{if(function(Ct){const wt=Ct.getComponent();return"VERSION"===(null==wt?void 0:wt.type)}(Ht)){const $t=Ht.getImmediate();return`${$t.library}/${$t.version}`}return null}).filter(Ht=>Ht).join(" ")}}const H="@firebase/app",$="0.7.8",U=new B.Yd("@firebase/app"),Se="[DEFAULT]",xe={[H]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Fe=new Map,Oe=new Map;function Qe(Ct,wt){try{Ct.container.addComponent(wt)}catch(Ht){U.debug(`Component ${wt.name} failed to register with FirebaseApp ${Ct.name}`,Ht)}}function rt(Ct,wt){Ct.container.addOrOverwriteComponent(wt)}function Xe(Ct){const wt=Ct.name;if(Oe.has(wt))return U.debug(`There were multiple attempts to register component ${wt}.`),!1;Oe.set(wt,Ct);for(const Ht of Fe.values())Qe(Ht,Ct);return!0}function D(Ct,wt){return Ct.container.getProvider(wt)}function O(Ct,wt,Ht=Se){D(Ct,wt).clearInstance(Ht)}function j(){Oe.clear()}const le=new Z.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class ve{constructor(wt,Ht,$t){this._isDeleted=!1,this._options=Object.assign({},wt),this._config=Object.assign({},Ht),this._name=Ht.name,this._automaticDataCollectionEnabled=Ht.automaticDataCollectionEnabled,this._container=$t,this.container.addComponent(new K.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(wt){this.checkDestroyed(),this._automaticDataCollectionEnabled=wt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(wt){this._isDeleted=wt}checkDestroyed(){if(this.isDeleted)throw le.create("app-deleted",{appName:this._name})}}const Ye="9.4.1";function mt(Ct,wt={}){"object"!=typeof wt&&(wt={name:wt});const Ht=Object.assign({name:Se,automaticDataCollectionEnabled:!1},wt),$t=Ht.name;if("string"!=typeof $t||!$t)throw le.create("bad-app-name",{appName:String($t)});const Pr=Fe.get($t);if(Pr){if((0,Z.vZ)(Ct,Pr.options)&&(0,Z.vZ)(Ht,Pr.config))return Pr;throw le.create("duplicate-app",{appName:$t})}const en=new K.H0($t);for(const vt of Oe.values())en.addComponent(vt);const tt=new ve(Ct,Ht,en);return Fe.set($t,tt),tt}function Nt(Ct=Se){const wt=Fe.get(Ct);if(!wt)throw le.create("no-app",{appName:Ct});return wt}function ke(){return Array.from(Fe.values())}function Et(Ct){return hn.apply(this,arguments)}function hn(){return(hn=(0,d.Z)(function*(Ct){const wt=Ct.name;Fe.has(wt)&&(Fe.delete(wt),yield Promise.all(Ct.container.getProviders().map(Ht=>Ht.delete())),Ct.isDeleted=!0)})).apply(this,arguments)}function st(Ct,wt,Ht){var $t;let Pr=null!==($t=xe[Ct])&&void 0!==$t?$t:Ct;Ht&&(Pr+=`-${Ht}`);const en=Pr.match(/\s|\//),tt=wt.match(/\s|\//);if(en||tt){const vt=[`Unable to register library "${Pr}" with version "${wt}":`];return en&&vt.push(`library name "${Pr}" contains illegal characters (whitespace or "/")`),en&&tt&&vt.push("and"),tt&&vt.push(`version name "${wt}" contains illegal characters (whitespace or "/")`),void U.warn(vt.join(" "))}Xe(new K.wA(`${Pr}-version`,()=>({library:Pr,version:wt}),"VERSION"))}function zt(Ct,wt){if(null!==Ct&&"function"!=typeof Ct)throw le.create("invalid-log-argument");(0,B.Am)(Ct,wt)}function rr(Ct){(0,B.Ub)(Ct)}Xe(new K.wA("platform-logger",wt=>new te(wt),"PRIVATE")),st(H,$,""),st(H,$,"esm2017"),st("fire-js","")},3910:(Ke,Ce,F)=>{"use strict";F.d(Ce,{wA:()=>B,H0:()=>$,zt:()=>te});var d=F(8239),K=F(3854);class B{constructor(P,N,W){this.name=P,this.instanceFactory=N,this.type=W,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(P){return this.instantiationMode=P,this}setMultipleInstances(P){return this.multipleInstances=P,this}setServiceProps(P){return this.serviceProps=P,this}setInstanceCreatedCallback(P){return this.onInstanceCreated=P,this}}const Z="[DEFAULT]";class te{constructor(P,N){this.name=P,this.container=N,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(P){const N=this.normalizeInstanceIdentifier(P);if(!this.instancesDeferred.has(N)){const W=new K.BH;if(this.instancesDeferred.set(N,W),this.isInitialized(N)||this.shouldAutoInitialize())try{const oe=this.getOrInitializeService({instanceIdentifier:N});oe&&W.resolve(oe)}catch(oe){}}return this.instancesDeferred.get(N).promise}getImmediate(P){var N;const W=this.normalizeInstanceIdentifier(null==P?void 0:P.identifier),oe=null!==(N=null==P?void 0:P.optional)&&void 0!==N&&N;if(!this.isInitialized(W)&&!this.shouldAutoInitialize()){if(oe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:W})}catch(he){if(oe)return null;throw he}}getComponent(){return this.component}setComponent(P){if(P.name!==this.name)throw Error(`Mismatching Component ${P.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=P,this.shouldAutoInitialize()){if("EAGER"===P.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:Z})}catch(N){}for(const[N,W]of this.instancesDeferred.entries()){const oe=this.normalizeInstanceIdentifier(N);try{const he=this.getOrInitializeService({instanceIdentifier:oe});W.resolve(he)}catch(he){}}}}clearInstance(P=Z){this.instancesDeferred.delete(P),this.instancesOptions.delete(P),this.instances.delete(P)}delete(){var P=this;return(0,d.Z)(function*(){const N=Array.from(P.instances.values());yield Promise.all([...N.filter(W=>"INTERNAL"in W).map(W=>W.INTERNAL.delete()),...N.filter(W=>"_delete"in W).map(W=>W._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(P=Z){return this.instances.has(P)}getOptions(P=Z){return this.instancesOptions.get(P)||{}}initialize(P={}){const{options:N={}}=P,W=this.normalizeInstanceIdentifier(P.instanceIdentifier);if(this.isInitialized(W))throw Error(`${this.name}(${W}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const oe=this.getOrInitializeService({instanceIdentifier:W,options:N});for(const[he,ee]of this.instancesDeferred.entries())W===this.normalizeInstanceIdentifier(he)&&ee.resolve(oe);return oe}onInit(P,N){var W;const oe=this.normalizeInstanceIdentifier(N),he=null!==(W=this.onInitCallbacks.get(oe))&&void 0!==W?W:new Set;he.add(P),this.onInitCallbacks.set(oe,he);const ee=this.instances.get(oe);return ee&&P(ee,oe),()=>{he.delete(P)}}invokeOnInitCallbacks(P,N){const W=this.onInitCallbacks.get(N);if(W)for(const oe of W)try{oe(P,N)}catch(he){}}getOrInitializeService({instanceIdentifier:P,options:N={}}){let W=this.instances.get(P);if(!W&&this.component&&(W=this.component.instanceFactory(this.container,{instanceIdentifier:(U=P,U===Z?void 0:U),options:N}),this.instances.set(P,W),this.instancesOptions.set(P,N),this.invokeOnInitCallbacks(W,P),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,P,W)}catch(oe){}var U;return W||null}normalizeInstanceIdentifier(P=Z){return this.component?this.component.multipleInstances?P:Z:P}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ${constructor(P){this.name=P,this.providers=new Map}addComponent(P){const N=this.getProvider(P.name);if(N.isComponentSet())throw new Error(`Component ${P.name} has already been registered with ${this.name}`);N.setComponent(P)}addOrOverwriteComponent(P){this.getProvider(P.name).isComponentSet()&&this.providers.delete(P.name),this.addComponent(P)}getProvider(P){if(this.providers.has(P))return this.providers.get(P);const N=new te(P,this);return this.providers.set(P,N),N}getProviders(){return Array.from(this.providers.values())}}},5422:(Ke,Ce,F)=>{"use strict";F.d(Ce,{in:()=>K,Yd:()=>H,Ub:()=>$,Am:()=>U});const d=[];var K=(()=>{return(P=K||(K={}))[P.DEBUG=0]="DEBUG",P[P.VERBOSE=1]="VERBOSE",P[P.INFO=2]="INFO",P[P.WARN=3]="WARN",P[P.ERROR=4]="ERROR",P[P.SILENT=5]="SILENT",K;var P})();const B={debug:K.DEBUG,verbose:K.VERBOSE,info:K.INFO,warn:K.WARN,error:K.ERROR,silent:K.SILENT},Z=K.INFO,te={[K.DEBUG]:"log",[K.VERBOSE]:"log",[K.INFO]:"info",[K.WARN]:"warn",[K.ERROR]:"error"},J=(P,N,...W)=>{if(N<P.logLevel)return;const oe=(new Date).toISOString(),he=te[N];if(!he)throw new Error(`Attempted to log a message with an invalid logType (value: ${N})`);console[he](`[${oe}]  ${P.name}:`,...W)};class H{constructor(N){this.name=N,this._logLevel=Z,this._logHandler=J,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(N){if(!(N in K))throw new TypeError(`Invalid value "${N}" assigned to \`logLevel\``);this._logLevel=N}setLogLevel(N){this._logLevel="string"==typeof N?B[N]:N}get logHandler(){return this._logHandler}set logHandler(N){if("function"!=typeof N)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=N}get userLogHandler(){return this._userLogHandler}set userLogHandler(N){this._userLogHandler=N}debug(...N){this._userLogHandler&&this._userLogHandler(this,K.DEBUG,...N),this._logHandler(this,K.DEBUG,...N)}log(...N){this._userLogHandler&&this._userLogHandler(this,K.VERBOSE,...N),this._logHandler(this,K.VERBOSE,...N)}info(...N){this._userLogHandler&&this._userLogHandler(this,K.INFO,...N),this._logHandler(this,K.INFO,...N)}warn(...N){this._userLogHandler&&this._userLogHandler(this,K.WARN,...N),this._logHandler(this,K.WARN,...N)}error(...N){this._userLogHandler&&this._userLogHandler(this,K.ERROR,...N),this._logHandler(this,K.ERROR,...N)}}function $(P){d.forEach(N=>{N.setLogLevel(P)})}function U(P,N){for(const W of d){let oe=null;N&&N.level&&(oe=B[N.level]),W.userLogHandler=null===P?null:(he,ee,...G)=>{const re=G.map(ue=>{if(null==ue)return null;if("string"==typeof ue)return ue;if("number"==typeof ue||"boolean"==typeof ue)return ue.toString();if(ue instanceof Error)return ue.message;try{return JSON.stringify(ue)}catch(_e){return null}}).filter(ue=>ue).join(" ");ee>=(null!=oe?oe:he.logLevel)&&P({level:K[ee].toLowerCase(),message:re,args:G,type:he.name})}}}},8239:(Ke,Ce,F)=>{"use strict";function d(B,Z,te,J,H,$,U){try{var P=B[$](U),N=P.value}catch(W){return void te(W)}P.done?Z(N):Promise.resolve(N).then(J,H)}function K(B){return function(){var Z=this,te=arguments;return new Promise(function(J,H){var $=B.apply(Z,te);function U(N){d($,J,H,U,P,"next",N)}function P(N){d($,J,H,U,P,"throw",N)}U(void 0)})}}F.d(Ce,{Z:()=>K})}},Ke=>{Ke(Ke.s=6412)}]);